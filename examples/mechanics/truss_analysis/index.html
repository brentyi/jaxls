
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Truss analysis &#8212; jaxls</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css?v=2a1f1aab" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../../_static/documentation_options.js?v=55b5f74b"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=fd10adb8"></script>
    <script src="../../../_static/js/custom.js?v=58150dd0"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'examples/mechanics/truss_analysis';</script>
    <link rel="index" title="Index" href="../../../genindex/" />
    <link rel="search" title="Search" href="../../../search/" />
    <link rel="next" title="Vision" href="../../vision/" />
    <link rel="prev" title="Cloth draping" href="../cloth_draping/" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search/"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../">
  
  
  
  
  
  
    <p class="title logo__title">jaxls</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Guide</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../guide/basics/">Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/tips_and_gotchas/">Tips and gotchas</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../guide/advanced/">Advanced</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/advanced/non_euclidean/">Non-Euclidean variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/advanced/custom_jacobians/">Custom Jacobians</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/advanced/constraints/">Constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/advanced/robust_costs/">Robust costs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/advanced/covariance/">Covariance estimation</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../">Mechanics</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../spring_equilibrium/">Spring equilibrium</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cloth_draping/">Cloth draping</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Truss analysis</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../vision/">Vision</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../vision/camera_calibration/">Camera calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vision/pose_graph_2d/">SE(2) pose graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vision/pose_graph_3d/">SE(3) pose graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vision/bundle_adjustment/">Bundle adjustment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vision/smplh_shape_fitting/">SMPL-H shape fitting</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../robotics/">Robotics</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../robotics/inverse_kinematics/">Inverse kinematics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../robotics/obstacle_avoidance/">Obstacle avoidance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../robotics/cart_pole_collocation/">Cart-pole (collocation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../robotics/cart_pole_shooting/">Cart-pole (shooting)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../robotics/cam_design/">Cam profile optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../robotics/imu_sensor_fusion/">IMU fusion + calibration</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../portfolio/">Portfolio optimization</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../portfolio/mean_variance/">Mean-variance allocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../portfolio/manifold_allocation/">Manifold allocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../portfolio/reparameterized_allocation/">Reparameterized allocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../portfolio/cvar_optimization/">CVaR allocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../portfolio/black_litterman/">Black-Litterman allocation</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../api/core/">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/lie_group_variables/">Lie group variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/solver_config/">Solver configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/covariance/">Covariance Estimation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Design Notes</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../design/typed_api/">Typed API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../design/sparse_matrices/">Sparse matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../design/traced_vs_static/">What’s traced?</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/brentyi/jaxls" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/brentyi/jaxls/issues/new?title=Issue%20on%20page%20%2Fexamples/mechanics/truss_analysis.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/examples/mechanics/truss_analysis.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Truss analysis</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#truss-element-theory">Truss element theory</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cost-functions">Cost functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#truss-geometry">Truss geometry</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#problem-construction">Problem construction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#solving">Solving</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#results-and-visualization">Results and visualization</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#varying-displacements">Varying displacements</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="truss-analysis">
<h1>Truss analysis<a class="headerlink" href="#truss-analysis" title="Link to this heading">#</a></h1>
<p>In this notebook, we solve a truss analysis problem: computing forces and deformations
in a 2D pin-jointed frame under load.</p>
<p>Features used:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../api/core/#jaxls.Var" title="jaxls.Var"><code class="xref py py-class docutils literal notranslate"><span class="pre">Var</span></code></a> subclassing for node displacement variables</p></li>
<li><p><a class="reference internal" href="../../../api/core/#jaxls.Cost.factory" title="jaxls.Cost.factory"><code class="xref py py-func docutils literal notranslate"><span class="pre">&#64;jaxls.Cost.factory</span></code></a> for bar element strain energy</p></li>
<li><p>Equality constraints for fixed supports</p></li>
<li><p>Batched cost construction for all members</p></li>
</ul>
<p>This is a classic introductory finite element analysis (FEA) problem using 1D bar elements.</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">loguru</span><span class="w"> </span><span class="kn">import</span> <span class="n">logger</span>

<span class="n">logger</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;&lt;level&gt;</span><span class="si">{level: &lt;8}</span><span class="s2">&lt;/level&gt; | </span><span class="si">{message}</span><span class="s2">&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">jax</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">jax.numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">jnp</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">jaxls</span>
</pre></div>
</div>
</div>
</div>
<section id="truss-element-theory">
<h2>Truss element theory<a class="headerlink" href="#truss-element-theory" title="Link to this heading">#</a></h2>
<p>A truss is a structure of bar elements connected at pin joints (nodes). Each bar:</p>
<ul class="simple">
<li><p>Carries only axial force (tension or compression)</p></li>
<li><p>Has stiffness <span class="math notranslate nohighlight">\(k = \frac{EA}{L}\)</span> where <span class="math notranslate nohighlight">\(E\)</span> is Young’s modulus, <span class="math notranslate nohighlight">\(A\)</span> is cross-sectional area, <span class="math notranslate nohighlight">\(L\)</span> is length</p></li>
</ul>
<p>The strain energy in a bar element is</p>
<div class="math notranslate nohighlight">
\[U = \frac{1}{2} k (\Delta L)^2 = \frac{1}{2} \frac{EA}{L} (L' - L)^2\]</div>
<p>where <span class="math notranslate nohighlight">\(L'\)</span> is the deformed length.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">NodeVar</span><span class="p">(</span><span class="n">jaxls</span><span class="o">.</span><span class="n">Var</span><span class="p">[</span><span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">],</span> <span class="n">default_factory</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">jnp</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">2</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;2D node displacement variable [dx, dy] in meters.&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="cost-functions">
<h2>Cost functions<a class="headerlink" href="#cost-functions" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Bar strain energy: Penalizes elongation/compression of each member</p></li>
<li><p>Support constraints: Fix displacements at support nodes</p></li>
<li><p>Load application: Prescribe displacement at load point (equilibrium is automatic)</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@jaxls</span><span class="o">.</span><span class="n">Cost</span><span class="o">.</span><span class="n">factory</span>
<span class="k">def</span><span class="w"> </span><span class="nf">bar_strain_energy</span><span class="p">(</span>
    <span class="n">vals</span><span class="p">:</span> <span class="n">jaxls</span><span class="o">.</span><span class="n">VarValues</span><span class="p">,</span>
    <span class="n">node_i</span><span class="p">:</span> <span class="n">NodeVar</span><span class="p">,</span>
    <span class="n">node_j</span><span class="p">:</span> <span class="n">NodeVar</span><span class="p">,</span>
    <span class="n">pos_i</span><span class="p">:</span> <span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">,</span>
    <span class="n">pos_j</span><span class="p">:</span> <span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">,</span>
    <span class="n">EA</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Strain energy in a bar element: (1/2) * EA/L * (delta_L)^2.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_i, node_j: Displacement variables at each end.</span>
<span class="sd">        pos_i, pos_j: Initial (undeformed) positions.</span>
<span class="sd">        EA: Axial stiffness (Young&#39;s modulus × area).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Initial geometry.</span>
    <span class="n">L0_vec</span> <span class="o">=</span> <span class="n">pos_j</span> <span class="o">-</span> <span class="n">pos_i</span>
    <span class="n">L0</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">jnp</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">L0_vec</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>

    <span class="c1"># Deformed geometry.</span>
    <span class="n">disp_i</span> <span class="o">=</span> <span class="n">vals</span><span class="p">[</span><span class="n">node_i</span><span class="p">]</span>
    <span class="n">disp_j</span> <span class="o">=</span> <span class="n">vals</span><span class="p">[</span><span class="n">node_j</span><span class="p">]</span>
    <span class="n">L_vec</span> <span class="o">=</span> <span class="n">L0_vec</span> <span class="o">+</span> <span class="p">(</span><span class="n">disp_j</span> <span class="o">-</span> <span class="n">disp_i</span><span class="p">)</span>
    <span class="n">L</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">jnp</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">L_vec</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>

    <span class="c1"># Return 2D residual instead of scalar: ||r||^2 = (EA/L0) * (L - L0)^2.</span>
    <span class="c1"># Using a 2D residual gives a rank-2 contribution to J^T J (the Gauss-Newton.</span>
    <span class="c1"># Hessian approximation), rather than rank-1 from a scalar residual.</span>
    <span class="k">return</span> <span class="n">jnp</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">EA</span> <span class="o">/</span> <span class="n">L0</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">L0</span> <span class="o">/</span> <span class="n">L</span><span class="p">)</span> <span class="o">*</span> <span class="n">L_vec</span>


<span class="nd">@jaxls</span><span class="o">.</span><span class="n">Cost</span><span class="o">.</span><span class="n">factory</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;constraint_eq_zero&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">pin_support</span><span class="p">(</span>
    <span class="n">vals</span><span class="p">:</span> <span class="n">jaxls</span><span class="o">.</span><span class="n">VarValues</span><span class="p">,</span>
    <span class="n">node</span><span class="p">:</span> <span class="n">NodeVar</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pin support: both displacement components are zero.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">vals</span><span class="p">[</span><span class="n">node</span><span class="p">]</span>


<span class="nd">@jaxls</span><span class="o">.</span><span class="n">Cost</span><span class="o">.</span><span class="n">factory</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;constraint_eq_zero&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">prescribed_displacement</span><span class="p">(</span>
    <span class="n">vals</span><span class="p">:</span> <span class="n">jaxls</span><span class="o">.</span><span class="n">VarValues</span><span class="p">,</span>
    <span class="n">node</span><span class="p">:</span> <span class="n">NodeVar</span><span class="p">,</span>
    <span class="n">target_displacement</span><span class="p">:</span> <span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prescribe displacement at a node.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">vals</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">-</span> <span class="n">target_displacement</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="truss-geometry">
<h2>Truss geometry<a class="headerlink" href="#truss-geometry" title="Link to this heading">#</a></h2>
<p>We model a Warren truss, a common bridge structure with diagonal members:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>   <span class="mi">5</span><span class="o">-----</span><span class="mi">6</span><span class="o">-----</span><span class="mi">7</span><span class="o">-----</span><span class="mi">8</span>
  <span class="o">/</span>\    <span class="o">/</span>\    <span class="o">/</span>\    <span class="o">/</span>\
 <span class="o">/</span>  \  <span class="o">/</span>  \  <span class="o">/</span>  \  <span class="o">/</span>  \
<span class="o">/</span>    \<span class="o">/</span>    \<span class="o">/</span>    \<span class="o">/</span>    \
<span class="mi">0</span><span class="o">-----</span><span class="mi">1</span><span class="o">-----</span><span class="mi">2</span><span class="o">-----</span><span class="mi">3</span><span class="o">-----</span><span class="mi">4</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Nodes 0-4: Bottom chord</p></li>
<li><p>Nodes 5-8: Top chord</p></li>
<li><p>Nodes 0 and 4 are pinned (fixed in x and y)</p></li>
<li><p>Load applied at center bottom node (node 2)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Geometry: Warren truss bridge.</span>
<span class="n">num_panels</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># Number of triangular panels</span>
<span class="n">panel_width</span> <span class="o">=</span> <span class="mf">3.0</span>  <span class="c1"># [m] width of each panel</span>
<span class="n">height</span> <span class="o">=</span> <span class="mf">2.0</span>  <span class="c1"># [m] truss height</span>
<span class="n">span</span> <span class="o">=</span> <span class="n">num_panels</span> <span class="o">*</span> <span class="n">panel_width</span>  <span class="c1"># Total span</span>

<span class="c1"># Build node positions.</span>
<span class="n">bottom_nodes</span> <span class="o">=</span> <span class="p">[[</span><span class="n">i</span> <span class="o">*</span> <span class="n">panel_width</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_panels</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="n">top_nodes</span> <span class="o">=</span> <span class="p">[[(</span><span class="n">i</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">*</span> <span class="n">panel_width</span><span class="p">,</span> <span class="n">height</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_panels</span><span class="p">)]</span>
<span class="n">node_positions</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">bottom_nodes</span> <span class="o">+</span> <span class="n">top_nodes</span><span class="p">)</span>
<span class="n">num_nodes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">node_positions</span><span class="p">)</span>

<span class="c1"># Node indices.</span>
<span class="n">bottom_ids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">num_panels</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>  <span class="c1"># 0, 1, 2, 3, 4</span>
<span class="n">top_ids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">num_panels</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">num_nodes</span><span class="p">))</span>  <span class="c1"># 5, 6, 7, 8</span>

<span class="c1"># Build member connectivity.</span>
<span class="n">member_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c1"># Bottom chord.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_panels</span><span class="p">):</span>
    <span class="n">member_list</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">bottom_ids</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">bottom_ids</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]])</span>
<span class="c1"># Top chord.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_panels</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">member_list</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">top_ids</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">top_ids</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]])</span>
<span class="c1"># Diagonals (left and right of each top node)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_panels</span><span class="p">):</span>
    <span class="n">member_list</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">bottom_ids</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">top_ids</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>  <span class="c1"># Left diagonal</span>
    <span class="n">member_list</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">top_ids</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">bottom_ids</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]])</span>  <span class="c1"># Right diagonal</span>

<span class="n">members</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">member_list</span><span class="p">)</span>
<span class="n">num_members</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">members</span><span class="p">)</span>

<span class="c1"># Material properties.</span>
<span class="n">EA</span> <span class="o">=</span> <span class="mf">50000.0</span>  <span class="c1"># [N] axial stiffness</span>

<span class="c1"># Load node.</span>
<span class="n">load_node_id</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># Center bottom node</span>

<span class="c1"># Prescribed displacement (downward)</span>
<span class="n">load_displacement</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.02</span><span class="p">])</span>  <span class="c1"># 20 mm downward</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Warren Truss Bridge:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Span: </span><span class="si">{</span><span class="n">span</span><span class="si">}</span><span class="s2"> m, Height: </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2"> m&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Nodes: </span><span class="si">{</span><span class="n">num_nodes</span><span class="si">}</span><span class="s2">, Members: </span><span class="si">{</span><span class="n">num_members</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Member stiffness EA = </span><span class="si">{</span><span class="n">EA</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> N&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;  Prescribed displacement at node </span><span class="si">{</span><span class="n">load_node_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">float</span><span class="p">(</span><span class="n">load_displacement</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> mm (vertical)&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warren Truss Bridge:
  Span: 12.0 m, Height: 2.0 m
  Nodes: 9, Members: 15
  Member stiffness EA = 50000 N
  Prescribed displacement at node 2: -20.0 mm (vertical)
</pre></div>
</div>
</div>
</div>
</section>
<section id="problem-construction">
<h2>Problem construction<a class="headerlink" href="#problem-construction" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create node displacement variables.</span>
<span class="n">node_vars</span> <span class="o">=</span> <span class="n">NodeVar</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">jnp</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">num_nodes</span><span class="p">))</span>

<span class="c1"># Support nodes (both pinned).</span>
<span class="n">left_pin</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">right_pin</span> <span class="o">=</span> <span class="n">num_panels</span>

<span class="c1"># Build costs.</span>
<span class="n">costs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">jaxls</span><span class="o">.</span><span class="n">Cost</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># Strain energy in all members (batched).</span>
    <span class="n">bar_strain_energy</span><span class="p">(</span>
        <span class="n">NodeVar</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">members</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]),</span>
        <span class="n">NodeVar</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">members</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]),</span>
        <span class="n">node_positions</span><span class="p">[</span><span class="n">members</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]],</span>
        <span class="n">node_positions</span><span class="p">[</span><span class="n">members</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]],</span>
        <span class="n">EA</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="c1"># Boundary conditions.</span>
    <span class="n">pin_support</span><span class="p">(</span><span class="n">NodeVar</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">left_pin</span><span class="p">)),</span>
    <span class="n">pin_support</span><span class="p">(</span><span class="n">NodeVar</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">right_pin</span><span class="p">)),</span>
    <span class="c1"># Applied load via prescribed displacement.</span>
    <span class="n">prescribed_displacement</span><span class="p">(</span><span class="n">NodeVar</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">load_node_id</span><span class="p">),</span> <span class="n">load_displacement</span><span class="p">),</span>
<span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">costs</span><span class="p">)</span><span class="si">}</span><span class="s2"> cost objects&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Load applied at node </span><span class="si">{</span><span class="n">load_node_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Created 4 cost objects
Load applied at node 2
</pre></div>
</div>
</div>
</div>
</section>
<section id="solving">
<h2>Solving<a class="headerlink" href="#solving" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initial values: zero displacement.</span>
<span class="n">initial_displacements</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">num_nodes</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">initial_vals</span> <span class="o">=</span> <span class="n">jaxls</span><span class="o">.</span><span class="n">VarValues</span><span class="o">.</span><span class="n">make</span><span class="p">([</span><span class="n">node_vars</span><span class="o">.</span><span class="n">with_value</span><span class="p">(</span><span class="n">initial_displacements</span><span class="p">)])</span>

<span class="c1"># Build the problem.</span>
<span class="n">problem</span> <span class="o">=</span> <span class="n">jaxls</span><span class="o">.</span><span class="n">LeastSquaresProblem</span><span class="p">(</span><span class="n">costs</span><span class="p">,</span> <span class="p">[</span><span class="n">node_vars</span><span class="p">])</span>

<span class="c1"># Visualize the problem structure structure.</span>
<span class="n">problem</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
        <iframe
            width="100%"
            height="500"
            src="data:text/html;base64,PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4KICAgIDxzdHlsZT4KICAgICAgICBib2R5IHsgbWFyZ2luOiAwOyBvdmVyZmxvdzogaGlkZGVuOyB9CiAgICAgICAgI2NvbnRhaW5lciB7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMHZoOyBwb3NpdGlvbjogcmVsYXRpdmU7IH0KICAgICAgICBjYW52YXMgeyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgfQogICAgICAgIC5zdGF0dXMgeyBwb3NpdGlvbjogYWJzb2x1dGU7IGJvdHRvbTogNXB4OyByaWdodDogMTBweDsgZm9udC1zaXplOiAxMHB4OyBjb2xvcjogIzY2NjsgZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7IGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC44KTsgcGFkZGluZzogMnB4IDVweDsgYm9yZGVyLXJhZGl1czogM3B4OyB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGRpdiBpZD0iY29udGFpbmVyIj4KICAgICAgICA8Y2FudmFzPjwvY2FudmFzPgogICAgICAgIDxkaXYgY2xhc3M9InN0YXR1cyI+MTggY29zdHMsIDkgdmFyaWFibGVzPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2QzanMub3JnL2QzLnY3Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0PgogICAgKGZ1bmN0aW9uKCkgewogICAgICAgIGNvbnN0IGRhdGEgPSB7Im5vZGVzIjogW3siaWQiOiAidmFyXzAiLCAibGFiZWwiOiAiTm9kZVZhcigwKSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIk5vZGVWYXIiLCAiZmlsbCI6ICIjZmZjY2NjIiwgInN0cm9rZSI6ICIjY2M2NjY2In0sIHsiaWQiOiAidmFyXzEiLCAibGFiZWwiOiAiTm9kZVZhcigxKSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIk5vZGVWYXIiLCAiZmlsbCI6ICIjZmZjY2NjIiwgInN0cm9rZSI6ICIjY2M2NjY2In0sIHsiaWQiOiAidmFyXzIiLCAibGFiZWwiOiAiTm9kZVZhcigyKSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIk5vZGVWYXIiLCAiZmlsbCI6ICIjZmZjY2NjIiwgInN0cm9rZSI6ICIjY2M2NjY2In0sIHsiaWQiOiAidmFyXzMiLCAibGFiZWwiOiAiTm9kZVZhcigzKSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIk5vZGVWYXIiLCAiZmlsbCI6ICIjZmZjY2NjIiwgInN0cm9rZSI6ICIjY2M2NjY2In0sIHsiaWQiOiAidmFyXzQiLCAibGFiZWwiOiAiTm9kZVZhcig1KSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIk5vZGVWYXIiLCAiZmlsbCI6ICIjZmZjY2NjIiwgInN0cm9rZSI6ICIjY2M2NjY2In0sIHsiaWQiOiAidmFyXzUiLCAibGFiZWwiOiAiTm9kZVZhcig2KSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIk5vZGVWYXIiLCAiZmlsbCI6ICIjZmZjY2NjIiwgInN0cm9rZSI6ICIjY2M2NjY2In0sIHsiaWQiOiAidmFyXzYiLCAibGFiZWwiOiAiTm9kZVZhcig3KSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIk5vZGVWYXIiLCAiZmlsbCI6ICIjZmZjY2NjIiwgInN0cm9rZSI6ICIjY2M2NjY2In0sIHsiaWQiOiAidmFyXzciLCAibGFiZWwiOiAiTm9kZVZhcig4KSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIk5vZGVWYXIiLCAiZmlsbCI6ICIjZmZjY2NjIiwgInN0cm9rZSI6ICIjY2M2NjY2In0sIHsiaWQiOiAidmFyXzgiLCAibGFiZWwiOiAiTm9kZVZhcig0KSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIk5vZGVWYXIiLCAiZmlsbCI6ICIjZmZjY2NjIiwgInN0cm9rZSI6ICIjY2M2NjY2In0sIHsiaWQiOiAiY29zdF8wIiwgImxhYmVsIjogImJhcl9zdHJhaW5fZW5lcmd5IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF8xIiwgImxhYmVsIjogImJhcl9zdHJhaW5fZW5lcmd5IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF8yIiwgImxhYmVsIjogImJhcl9zdHJhaW5fZW5lcmd5IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF8zIiwgImxhYmVsIjogImJhcl9zdHJhaW5fZW5lcmd5IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF80IiwgImxhYmVsIjogImJhcl9zdHJhaW5fZW5lcmd5IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF81IiwgImxhYmVsIjogImJhcl9zdHJhaW5fZW5lcmd5IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF82IiwgImxhYmVsIjogImJhcl9zdHJhaW5fZW5lcmd5IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF83IiwgImxhYmVsIjogImJhcl9zdHJhaW5fZW5lcmd5IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF84IiwgImxhYmVsIjogImJhcl9zdHJhaW5fZW5lcmd5IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF85IiwgImxhYmVsIjogImJhcl9zdHJhaW5fZW5lcmd5IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF8xMCIsICJsYWJlbCI6ICJiYXJfc3RyYWluX2VuZXJneSIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJsMl9zcXVhcmVkIiwgImZpbGwiOiAiI2E4ZDVmZiIsICJzdHJva2UiOiAiIzRhOTBkOSJ9LCB7ImlkIjogImNvc3RfMTEiLCAibGFiZWwiOiAiYmFyX3N0cmFpbl9lbmVyZ3kiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAibDJfc3F1YXJlZCIsICJmaWxsIjogIiNhOGQ1ZmYiLCAic3Ryb2tlIjogIiM0YTkwZDkifSwgeyJpZCI6ICJjb3N0XzEyIiwgImxhYmVsIjogImJhcl9zdHJhaW5fZW5lcmd5IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF8xMyIsICJsYWJlbCI6ICJiYXJfc3RyYWluX2VuZXJneSIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJsMl9zcXVhcmVkIiwgImZpbGwiOiAiI2E4ZDVmZiIsICJzdHJva2UiOiAiIzRhOTBkOSJ9LCB7ImlkIjogImNvc3RfMTQiLCAibGFiZWwiOiAiYmFyX3N0cmFpbl9lbmVyZ3kiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAibDJfc3F1YXJlZCIsICJmaWxsIjogIiNhOGQ1ZmYiLCAic3Ryb2tlIjogIiM0YTkwZDkifSwgeyJpZCI6ICJjb3N0XzE1IiwgImxhYmVsIjogInBpbl9zdXBwb3J0IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImNvbnN0cmFpbnRfZXFfemVybyIsICJmaWxsIjogIiNhOGZmYTgiLCAic3Ryb2tlIjogIiM0YWQ5NGEifSwgeyJpZCI6ICJjb3N0XzE2IiwgImxhYmVsIjogInBpbl9zdXBwb3J0IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImNvbnN0cmFpbnRfZXFfemVybyIsICJmaWxsIjogIiNhOGZmYTgiLCAic3Ryb2tlIjogIiM0YWQ5NGEifSwgeyJpZCI6ICJjb3N0XzE3IiwgImxhYmVsIjogInByZXNjcmliZWRfZGlzcGxhY2VtZW50IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImNvbnN0cmFpbnRfZXFfemVybyIsICJmaWxsIjogIiNhOGZmYTgiLCAic3Ryb2tlIjogIiM0YWQ5NGEifV0sICJsaW5rcyI6IFt7InNvdXJjZSI6ICJjb3N0XzAiLCAidGFyZ2V0IjogInZhcl8wIn0sIHsic291cmNlIjogImNvc3RfMCIsICJ0YXJnZXQiOiAidmFyXzEifSwgeyJzb3VyY2UiOiAiY29zdF8xIiwgInRhcmdldCI6ICJ2YXJfMSJ9LCB7InNvdXJjZSI6ICJjb3N0XzEiLCAidGFyZ2V0IjogInZhcl8yIn0sIHsic291cmNlIjogImNvc3RfMiIsICJ0YXJnZXQiOiAidmFyXzIifSwgeyJzb3VyY2UiOiAiY29zdF8yIiwgInRhcmdldCI6ICJ2YXJfMyJ9LCB7InNvdXJjZSI6ICJjb3N0XzMiLCAidGFyZ2V0IjogInZhcl8zIn0sIHsic291cmNlIjogImNvc3RfMyIsICJ0YXJnZXQiOiAidmFyXzgifSwgeyJzb3VyY2UiOiAiY29zdF80IiwgInRhcmdldCI6ICJ2YXJfNCJ9LCB7InNvdXJjZSI6ICJjb3N0XzQiLCAidGFyZ2V0IjogInZhcl81In0sIHsic291cmNlIjogImNvc3RfNSIsICJ0YXJnZXQiOiAidmFyXzUifSwgeyJzb3VyY2UiOiAiY29zdF81IiwgInRhcmdldCI6ICJ2YXJfNiJ9LCB7InNvdXJjZSI6ICJjb3N0XzYiLCAidGFyZ2V0IjogInZhcl82In0sIHsic291cmNlIjogImNvc3RfNiIsICJ0YXJnZXQiOiAidmFyXzcifSwgeyJzb3VyY2UiOiAiY29zdF83IiwgInRhcmdldCI6ICJ2YXJfMCJ9LCB7InNvdXJjZSI6ICJjb3N0XzciLCAidGFyZ2V0IjogInZhcl80In0sIHsic291cmNlIjogImNvc3RfOCIsICJ0YXJnZXQiOiAidmFyXzQifSwgeyJzb3VyY2UiOiAiY29zdF84IiwgInRhcmdldCI6ICJ2YXJfMSJ9LCB7InNvdXJjZSI6ICJjb3N0XzkiLCAidGFyZ2V0IjogInZhcl8xIn0sIHsic291cmNlIjogImNvc3RfOSIsICJ0YXJnZXQiOiAidmFyXzUifSwgeyJzb3VyY2UiOiAiY29zdF8xMCIsICJ0YXJnZXQiOiAidmFyXzUifSwgeyJzb3VyY2UiOiAiY29zdF8xMCIsICJ0YXJnZXQiOiAidmFyXzIifSwgeyJzb3VyY2UiOiAiY29zdF8xMSIsICJ0YXJnZXQiOiAidmFyXzIifSwgeyJzb3VyY2UiOiAiY29zdF8xMSIsICJ0YXJnZXQiOiAidmFyXzYifSwgeyJzb3VyY2UiOiAiY29zdF8xMiIsICJ0YXJnZXQiOiAidmFyXzYifSwgeyJzb3VyY2UiOiAiY29zdF8xMiIsICJ0YXJnZXQiOiAidmFyXzMifSwgeyJzb3VyY2UiOiAiY29zdF8xMyIsICJ0YXJnZXQiOiAidmFyXzMifSwgeyJzb3VyY2UiOiAiY29zdF8xMyIsICJ0YXJnZXQiOiAidmFyXzcifSwgeyJzb3VyY2UiOiAiY29zdF8xNCIsICJ0YXJnZXQiOiAidmFyXzcifSwgeyJzb3VyY2UiOiAiY29zdF8xNCIsICJ0YXJnZXQiOiAidmFyXzgifSwgeyJzb3VyY2UiOiAiY29zdF8xNSIsICJ0YXJnZXQiOiAidmFyXzAifSwgeyJzb3VyY2UiOiAiY29zdF8xNiIsICJ0YXJnZXQiOiAidmFyXzgifSwgeyJzb3VyY2UiOiAiY29zdF8xNyIsICJ0YXJnZXQiOiAidmFyXzIifV0sICJ0cnVuY2F0ZWQiOiBmYWxzZX07CiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZDMuc2VsZWN0KCIjY29udGFpbmVyIik7CiAgICAgICAgY29uc3QgY2FudmFzID0gY29udGFpbmVyLnNlbGVjdCgiY2FudmFzIikubm9kZSgpOwogICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwoKICAgIC8vIEdldCBhY3R1YWwgY29udGFpbmVyIGRpbWVuc2lvbnMuCiAgICBjb25zdCByZWN0ID0gY29udGFpbmVyLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgIGNvbnN0IHdpZHRoID0gcmVjdC53aWR0aDsKICAgIGNvbnN0IGhlaWdodCA9IHJlY3QuaGVpZ2h0OwoKICAgIC8vIE5vZGUgc2l6aW5nLgogICAgY29uc3QgdmFyUnggPSA0NSwgdmFyUnkgPSAxNDsgIC8vIEVsbGlwc2UgcmFkaWkgZm9yIHZhcmlhYmxlcy4KICAgIGNvbnN0IGNvc3RXID0gOTAsIGNvc3RIID0gMjI7ICAgLy8gUmVjdCBzaXplIGZvciBjb3N0cy4KCiAgICAvLyBTZXQgdXAgaGlnaC1EUEkgY2FudmFzLgogICAgY29uc3QgZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTsKICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoICogZHByOwogICAgY2FudmFzLmhlaWdodCA9IGhlaWdodCAqIGRwcjsKICAgIGN0eC5zY2FsZShkcHIsIGRwcik7CgogICAgLy8gVHJhY2sgdHJhbnNmb3JtIGZvciB6b29tL3Bhbi4KICAgIGxldCB0cmFuc2Zvcm0gPSBkMy56b29tSWRlbnRpdHk7CgogICAgLy8gQ3JlYXRlIGZvcmNlIHNpbXVsYXRpb24uCiAgICBjb25zdCBzaW11bGF0aW9uID0gZDMuZm9yY2VTaW11bGF0aW9uKGRhdGEubm9kZXMpCiAgICAgICAgLmZvcmNlKCJsaW5rIiwgZDMuZm9yY2VMaW5rKGRhdGEubGlua3MpLmlkKGQgPT4gZC5pZCkuZGlzdGFuY2UoNjApKQogICAgICAgIC5mb3JjZSgiY2hhcmdlIiwgZDMuZm9yY2VNYW55Qm9keSgpLnN0cmVuZ3RoKC0xNTApLmRpc3RhbmNlTWF4KDI1MCkpCiAgICAgICAgLmZvcmNlKCJjZW50ZXIiLCBkMy5mb3JjZUNlbnRlcih3aWR0aCAvIDIsIGhlaWdodCAvIDIpKQogICAgICAgIC5mb3JjZSgiY29sbGlzaW9uIiwgZDMuZm9yY2VDb2xsaWRlKCkucmFkaXVzKDM1KSk7CgogICAgLy8gRHJhZyBzdGF0ZS4KICAgIGxldCBkcmFnTm9kZSA9IG51bGw7CgogICAgLy8gRmluZCBub2RlIGF0IHBvc2l0aW9uLgogICAgZnVuY3Rpb24gbm9kZUF0KHgsIHkpIHsKICAgICAgICBjb25zdCB0eCA9ICh4IC0gdHJhbnNmb3JtLngpIC8gdHJhbnNmb3JtLms7CiAgICAgICAgY29uc3QgdHkgPSAoeSAtIHRyYW5zZm9ybS55KSAvIHRyYW5zZm9ybS5rOwogICAgICAgIGZvciAobGV0IGkgPSBkYXRhLm5vZGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICAgIGNvbnN0IGQgPSBkYXRhLm5vZGVzW2ldOwogICAgICAgICAgICBjb25zdCBkeCA9IHR4IC0gZC54OwogICAgICAgICAgICBjb25zdCBkeSA9IHR5IC0gZC55OwogICAgICAgICAgICBpZiAoZC50eXBlID09PSAidmFyaWFibGUiKSB7CiAgICAgICAgICAgICAgICBpZiAoKGR4KmR4KS8odmFyUngqdmFyUngpICsgKGR5KmR5KS8odmFyUnkqdmFyUnkpIDwgMSkgcmV0dXJuIGQ7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoZHgpIDwgY29zdFcvMiAmJiBNYXRoLmFicyhkeSkgPCBjb3N0SC8yKSByZXR1cm4gZDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBmdW5jdGlvbiBkcmF3KCkgewogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgICBjdHgudHJhbnNsYXRlKHRyYW5zZm9ybS54LCB0cmFuc2Zvcm0ueSk7CiAgICAgICAgY3R4LnNjYWxlKHRyYW5zZm9ybS5rLCB0cmFuc2Zvcm0uayk7CgogICAgICAgIC8vIERyYXcgbGlua3MuCiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gIiM5OTkiOwogICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuNjsKICAgICAgICBjdHgubGluZVdpZHRoID0gMS41IC8gdHJhbnNmb3JtLms7CiAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgIGRhdGEubGlua3MuZm9yRWFjaChkID0+IHsKICAgICAgICAgICAgY3R4Lm1vdmVUbyhkLnNvdXJjZS54LCBkLnNvdXJjZS55KTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhkLnRhcmdldC54LCBkLnRhcmdldC55KTsKICAgICAgICB9KTsKICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMS4wOwoKICAgICAgICAvLyBEcmF3IG5vZGVzLgogICAgICAgIGRhdGEubm9kZXMuZm9yRWFjaChkID0+IHsKICAgICAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShkLngsIGQueSk7CgogICAgICAgICAgICBpZiAoZC50eXBlID09PSAidmFyaWFibGUiKSB7CiAgICAgICAgICAgICAgICAvLyBFbGxpcHNlIGZvciB2YXJpYWJsZXMuCiAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICAgICAgICBjdHguZWxsaXBzZSgwLCAwLCB2YXJSeCwgdmFyUnksIDAsIDAsIDIgKiBNYXRoLlBJKTsKICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBkLmZpbGw7CiAgICAgICAgICAgICAgICBjdHguZmlsbCgpOwogICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gZC5zdHJva2U7CiAgICAgICAgICAgICAgICBjdHgubGluZVdpZHRoID0gMS41IC8gdHJhbnNmb3JtLms7CiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBSb3VuZGVkIHJlY3QgZm9yIGNvc3RzLgogICAgICAgICAgICAgICAgY29uc3QgdyA9IGNvc3RXLCBoID0gY29zdEgsIHIgPSA0OwogICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgICAgICAgY3R4Lm1vdmVUbygtdy8yICsgciwgLWgvMik7CiAgICAgICAgICAgICAgICBjdHgubGluZVRvKHcvMiAtIHIsIC1oLzIpOwogICAgICAgICAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8ody8yLCAtaC8yLCB3LzIsIC1oLzIgKyByKTsKICAgICAgICAgICAgICAgIGN0eC5saW5lVG8ody8yLCBoLzIgLSByKTsKICAgICAgICAgICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHcvMiwgaC8yLCB3LzIgLSByLCBoLzIpOwogICAgICAgICAgICAgICAgY3R4LmxpbmVUbygtdy8yICsgciwgaC8yKTsKICAgICAgICAgICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKC13LzIsIGgvMiwgLXcvMiwgaC8yIC0gcik7CiAgICAgICAgICAgICAgICBjdHgubGluZVRvKC13LzIsIC1oLzIgKyByKTsKICAgICAgICAgICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKC13LzIsIC1oLzIsIC13LzIgKyByLCAtaC8yKTsKICAgICAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTsKICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBkLmZpbGw7CiAgICAgICAgICAgICAgICBjdHguZmlsbCgpOwogICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gZC5zdHJva2U7CiAgICAgICAgICAgICAgICBjdHgubGluZVdpZHRoID0gMS41IC8gdHJhbnNmb3JtLms7CiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIERyYXcgbGFiZWwuCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAiIzAwMCI7CiAgICAgICAgICAgIGN0eC5mb250ID0gIjlweCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmIjsKICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICJjZW50ZXIiOwogICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gIm1pZGRsZSI7CiAgICAgICAgICAgIGN0eC5maWxsVGV4dChkLmxhYmVsLCAwLCAwKTsKCiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICAgICAgfSk7CgogICAgICAgIC8vIERyYXcgbGVnZW5kLgogICAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICAgICAgZHJhd0xlZ2VuZCgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGRyYXdMZWdlbmQoKSB7CiAgICAgICAgLy8gQnVpbGQgbGVnZW5kIGR5bmFtaWNhbGx5IGZyb20gYWN0dWFsIG5vZGVzLgogICAgICAgIGNvbnN0IGxlZ2VuZERhdGEgPSBbXTsKCiAgICAgICAgLy8gQ29sbGVjdCB1bmlxdWUgY29zdCBraW5kcy4KICAgICAgICBjb25zdCBjb3N0S2luZExhYmVscyA9IHsKICAgICAgICAgICAgImwyX3NxdWFyZWQiOiAiQ29zdCAoTDIpIiwKICAgICAgICAgICAgImNvbnN0cmFpbnRfZXFfemVybyI6ICJFcXVhbGl0eSIsCiAgICAgICAgICAgICJjb25zdHJhaW50X2xlcV96ZXJvIjogIkluZXF1YWxpdHkgKOKJpCkiLAogICAgICAgICAgICAiY29uc3RyYWludF9nZXFfemVybyI6ICJJbmVxdWFsaXR5ICjiiaUpIgogICAgICAgIH07CiAgICAgICAgY29uc3Qgc2VlbkNvc3RLaW5kcyA9IG5ldyBTZXQoKTsKICAgICAgICBkYXRhLm5vZGVzLmZpbHRlcihuID0+IG4udHlwZSA9PT0gImNvc3QiKS5mb3JFYWNoKG4gPT4gc2VlbkNvc3RLaW5kcy5hZGQobi5raW5kKSk7CiAgICAgICAgZm9yIChjb25zdCBraW5kIG9mIFsibDJfc3F1YXJlZCIsICJjb25zdHJhaW50X2VxX3plcm8iLCAiY29uc3RyYWludF9sZXFfemVybyIsICJjb25zdHJhaW50X2dlcV96ZXJvIl0pIHsKICAgICAgICAgICAgaWYgKHNlZW5Db3N0S2luZHMuaGFzKGtpbmQpKSB7CiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gZGF0YS5ub2Rlcy5maW5kKG4gPT4gbi50eXBlID09PSAiY29zdCIgJiYgbi5raW5kID09PSBraW5kKTsKICAgICAgICAgICAgICAgIGxlZ2VuZERhdGEucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGNvc3RLaW5kTGFiZWxzW2tpbmRdLAogICAgICAgICAgICAgICAgICAgIGZpbGw6IG5vZGUuZmlsbCwKICAgICAgICAgICAgICAgICAgICBzdHJva2U6IG5vZGUuc3Ryb2tlLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJjb3N0IgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIENvbGxlY3QgdW5pcXVlIHZhcmlhYmxlIHR5cGVzLgogICAgICAgIGNvbnN0IHNlZW5WYXJUeXBlcyA9IG5ldyBNYXAoKTsgIC8vIHZhcl90eXBlIC0+IHtmaWxsLCBzdHJva2V9CiAgICAgICAgZGF0YS5ub2Rlcy5maWx0ZXIobiA9PiBuLnR5cGUgPT09ICJ2YXJpYWJsZSIpLmZvckVhY2gobiA9PiB7CiAgICAgICAgICAgIGlmICghc2VlblZhclR5cGVzLmhhcyhuLnZhcl90eXBlKSkgewogICAgICAgICAgICAgICAgc2VlblZhclR5cGVzLnNldChuLnZhcl90eXBlLCB7IGZpbGw6IG4uZmlsbCwgc3Ryb2tlOiBuLnN0cm9rZSB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGZvciAoY29uc3QgW3ZhclR5cGUsIGNvbG9yc10gb2Ygc2VlblZhclR5cGVzKSB7CiAgICAgICAgICAgIGxlZ2VuZERhdGEucHVzaCh7CiAgICAgICAgICAgICAgICBsYWJlbDogdmFyVHlwZSwKICAgICAgICAgICAgICAgIGZpbGw6IGNvbG9ycy5maWxsLAogICAgICAgICAgICAgICAgc3Ryb2tlOiBjb2xvcnMuc3Ryb2tlLAogICAgICAgICAgICAgICAgdHlwZTogInZhcmlhYmxlIgogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgY3R4LnRyYW5zbGF0ZSgxMCwgMTApOwoKICAgICAgICBsZWdlbmREYXRhLmZvckVhY2goKGQsIGkpID0+IHsKICAgICAgICAgICAgY29uc3QgeSA9IGkgKiAxODsKICAgICAgICAgICAgaWYgKGQudHlwZSA9PT0gInZhcmlhYmxlIikgewogICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgICAgICAgY3R4LmVsbGlwc2UoMTIsIHkgKyA2LCAxMiwgNiwgMCwgMCwgMiAqIE1hdGguUEkpOwogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGQuZmlsbDsKICAgICAgICAgICAgICAgIGN0eC5maWxsKCk7CiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBkLnN0cm9rZTsKICAgICAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgICAgICAgY3R4LnJvdW5kUmVjdCgwLCB5LCAyNCwgMTIsIDIpOwogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGQuZmlsbDsKICAgICAgICAgICAgICAgIGN0eC5maWxsKCk7CiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBkLnN0cm9rZTsKICAgICAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAiIzAwMCI7CiAgICAgICAgICAgIGN0eC5mb250ID0gIjlweCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmIjsKICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICJsZWZ0IjsKICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICJtaWRkbGUiOwogICAgICAgICAgICBjdHguZmlsbFRleHQoZC5sYWJlbCwgMzAsIHkgKyA2KTsKICAgICAgICB9KTsKCiAgICAgICAgY3R4LnJlc3RvcmUoKTsKICAgIH0KCiAgICBzaW11bGF0aW9uLm9uKCJ0aWNrIiwgZHJhdyk7CgogICAgLy8gWm9vbSBiZWhhdmlvciB3aXRoIGZpbHRlciB0byBhbGxvdyBub2RlIGRyYWdnaW5nLgogICAgY29uc3Qgem9vbSA9IGQzLnpvb20oKQogICAgICAgIC5zY2FsZUV4dGVudChbMC4xLCA0XSkKICAgICAgICAuZmlsdGVyKChldmVudCkgPT4gewogICAgICAgICAgICAvLyBCbG9jayB6b29tIGlmIGNsaWNraW5nIG9uIGEgbm9kZSAoYWxsb3cgbm9kZSBkcmFnIGluc3RlYWQpLgogICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gIm1vdXNlZG93biIpIHsKICAgICAgICAgICAgICAgIGNvbnN0IFt4LCB5XSA9IGQzLnBvaW50ZXIoZXZlbnQpOwogICAgICAgICAgICAgICAgaWYgKG5vZGVBdCh4LCB5KSkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0pCiAgICAgICAgLm9uKCJ6b29tIiwgKGV2ZW50KSA9PiB7CiAgICAgICAgICAgIHRyYW5zZm9ybSA9IGV2ZW50LnRyYW5zZm9ybTsKICAgICAgICAgICAgZHJhdygpOwogICAgICAgIH0pOwoKICAgIGQzLnNlbGVjdChjYW52YXMpCiAgICAgICAgLmNhbGwoem9vbSkKICAgICAgICAub24oIm1vdXNlZG93bi5kcmFnIiwgKGV2ZW50KSA9PiB7CiAgICAgICAgICAgIGNvbnN0IFt4LCB5XSA9IGQzLnBvaW50ZXIoZXZlbnQpOwogICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZUF0KHgsIHkpOwogICAgICAgICAgICBpZiAobm9kZSkgewogICAgICAgICAgICAgICAgZHJhZ05vZGUgPSBub2RlOwogICAgICAgICAgICAgICAgc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwLjMpLnJlc3RhcnQoKTsKICAgICAgICAgICAgICAgIGRyYWdOb2RlLmZ4ID0gZHJhZ05vZGUueDsKICAgICAgICAgICAgICAgIGRyYWdOb2RlLmZ5ID0gZHJhZ05vZGUueTsKICAgICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLm9uKCJtb3VzZW1vdmUuZHJhZyIsIChldmVudCkgPT4gewogICAgICAgICAgICBpZiAoZHJhZ05vZGUpIHsKICAgICAgICAgICAgICAgIGNvbnN0IFt4LCB5XSA9IGQzLnBvaW50ZXIoZXZlbnQpOwogICAgICAgICAgICAgICAgZHJhZ05vZGUuZnggPSB0cmFuc2Zvcm0uaW52ZXJ0WCh4KTsKICAgICAgICAgICAgICAgIGRyYWdOb2RlLmZ5ID0gdHJhbnNmb3JtLmludmVydFkoeSk7CiAgICAgICAgICAgICAgICBkcmF3KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5vbigibW91c2V1cC5kcmFnIG1vdXNlbGVhdmUuZHJhZyIsICgpID0+IHsKICAgICAgICAgICAgaWYgKGRyYWdOb2RlKSB7CiAgICAgICAgICAgICAgICBzaW11bGF0aW9uLmFscGhhVGFyZ2V0KDApOwogICAgICAgICAgICAgICAgZHJhZ05vZGUuZnggPSBudWxsOwogICAgICAgICAgICAgICAgZHJhZ05vZGUuZnkgPSBudWxsOwogICAgICAgICAgICAgICAgZHJhZ05vZGUgPSBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIC8vIEluaXRpYWwgZHJhdy4KICAgICAgICBkcmF3KCk7CiAgICB9KSgpOwogICAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPg=="
            frameborder="0"
            allowfullscreen
            
        ></iframe>
        </div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Analyze and solve.</span>
<span class="n">problem</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">analyze</span><span class="p">()</span>
<span class="n">solution</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">initial_vals</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 18 terms and 9 variables: 15 costs, 3 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 2 constraints (constraint_eq_zero), 1 variables each: augmented_pin_support
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 1 constraints (constraint_eq_zero), 1 variables each: augmented_prescribed_displacement
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 15 costs, 2 variables each: bar_strain_energy
<span class=" -Color -Color-Bold">INFO    </span> | Augmented Lagrangian: initial snorm=2.0000e-02, csupn=2.0000e-02, max_rho=1.0000e+01, constraint_dim=6
<span class=" -Color -Color-Bold">INFO    </span> |  step #0: cost=0.0000 lambd=0.0005 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.00400 (avg 0.00200)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=2.02e-01 cost_prev=0.0040 cost_new=0.0027
<span class=" -Color -Color-Bold">INFO    </span> |  step #1: cost=0.0000 lambd=0.0003 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.00088 (avg 0.00022)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.00177 (avg 0.00088)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 0.00001 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=8.03e-03 cost_prev=0.0027 cost_new=0.0027
<span class=" -Color -Color-Bold">INFO    </span> |  AL update: snorm=1.3288e-02, csupn=1.3288e-02, max_rho=4.0000e+01
<span class=" -Color -Color-Bold">INFO    </span> |  step #2: cost=0.0000 lambd=0.0001 inexact_tol=1.4e-03
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.00552 (avg 0.00138)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.01104 (avg 0.00552)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 0.00001 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=6.56e-01 cost_prev=0.0166 cost_new=0.0164
<span class=" -Color -Color-Bold">INFO    </span> |  step #3: cost=0.0002 lambd=0.0001 inexact_tol=1.4e-03
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.00540 (avg 0.00135)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.01079 (avg 0.00540)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 0.00023 (avg 0.00001)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=8.96e-03 cost_prev=0.0164 cost_new=0.0164
<span class=" -Color -Color-Bold">INFO    </span> |  AL update: snorm=1.3102e-02, csupn=1.3102e-02, max_rho=1.6000e+02
<span class=" -Color -Color-Bold">INFO    </span> |  step #4: cost=0.0002 lambd=0.0000 inexact_tol=1.7e-04
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.02369 (avg 0.00592)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.04738 (avg 0.02369)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 0.00023 (avg 0.00001)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=2.59e+00 cost_prev=0.0713 cost_new=0.0691
<span class=" -Color -Color-Bold">INFO    </span> |  step #5: cost=0.0036 lambd=0.0000 inexact_tol=1.7e-04
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.02184 (avg 0.00546)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.04364 (avg 0.02182)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 0.00365 (avg 0.00012)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=6.89e-03 cost_prev=0.0691 cost_new=0.0691
<span class=" -Color -Color-Bold">INFO    </span> |  AL update: snorm=1.2409e-02, csupn=1.2409e-02, max_rho=6.4000e+02
<span class=" -Color -Color-Bold">INFO    </span> |  step #6: cost=0.0036 lambd=0.0000 inexact_tol=6.4e-06
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.08763 (avg 0.02191)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.17503 (avg 0.08751)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 0.00365 (avg 0.00012)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=9.80e+00 cost_prev=0.2663 cost_new=0.2399
<span class=" -Color -Color-Bold">INFO    </span> |  step #7: cost=0.0425 lambd=0.0000 inexact_tol=6.4e-06
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.06635 (avg 0.01659)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.13097 (avg 0.06548)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 0.04254 (avg 0.00142)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=False ATb_norm=6.01e-02 cost_prev=0.2399 cost_new=0.2399
<span class=" -Color -Color-Bold">INFO    </span> |  AL update: snorm=1.0176e-02, csupn=1.0176e-02, max_rho=2.5600e+03
<span class=" -Color -Color-Bold">INFO    </span> |  step #8: cost=0.0425 lambd=0.0000 inexact_tol=6.4e-06
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.24687 (avg 0.06172)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.48419 (avg 0.24210)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 0.04254 (avg 0.00142)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=3.22e+01 cost_prev=0.7736 cost_new=0.5982
<span class=" -Color -Color-Bold">INFO    </span> |  step #9: cost=0.2582 lambd=0.0000 inexact_tol=6.4e-06
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.12402 (avg 0.03101)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.21590 (avg 0.10795)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 0.25824 (avg 0.00861)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=1.81e-01 cost_prev=0.5982 cost_new=0.5981
<span class=" -Color -Color-Bold">INFO    </span> |  AL update: snorm=5.6058e-03, csupn=5.6058e-03, max_rho=1.0240e+04
<span class=" -Color -Color-Bold">INFO    </span> |  step #10: cost=0.2583 lambd=0.0000 inexact_tol=6.4e-06
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.40213 (avg 0.10053)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.63929 (avg 0.31965)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 0.25834 (avg 0.00861)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=7.44e+01 cost_prev=1.2998 cost_new=0.9458
<span class=" -Color -Color-Bold">INFO    </span> |  step #11: cost=0.6498 lambd=0.0000 inexact_tol=6.4e-06
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.14261 (avg 0.03565)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.15344 (avg 0.07672)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 0.64977 (avg 0.02166)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=False ATb_norm=1.49e-01 cost_prev=0.9458 cost_new=0.9459
<span class=" -Color -Color-Bold">INFO    </span> |  AL update: snorm=1.5755e-03, csupn=1.5755e-03, max_rho=1.0240e+04
<span class=" -Color -Color-Bold">INFO    </span> |  step #12: cost=0.6498 lambd=0.0000 inexact_tol=6.4e-06
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.35443 (avg 0.08861)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.30377 (avg 0.15188)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 0.64977 (avg 0.02166)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=2.80e+01 cost_prev=1.3080 cost_new=1.2693
<span class=" -Color -Color-Bold">INFO    </span> |  step #13: cost=0.8255 lambd=0.0000 inexact_tol=6.4e-06
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.24262 (avg 0.06066)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.20120 (avg 0.10060)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 0.82545 (avg 0.02752)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=3.85e-02 cost_prev=1.2693 cost_new=1.2692
<span class=" -Color -Color-Bold">INFO    </span> |  AL update: snorm=8.3995e-04, csupn=8.3995e-04, max_rho=4.0960e+04
<span class=" -Color -Color-Bold">INFO    </span> |  step #14: cost=0.8254 lambd=0.0000 inexact_tol=1.7e-06
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.24099 (avg 0.06025)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.25535 (avg 0.12768)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 0.82543 (avg 0.02751)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=5.20e+01 cost_prev=1.3218 cost_new=1.2709
<span class=" -Color -Color-Bold">INFO    </span> |  step #15: cost=0.9478 lambd=0.0000 inexact_tol=1.7e-06
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.08918 (avg 0.02229)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.23397 (avg 0.11698)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 0.94777 (avg 0.03159)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=False ATb_norm=2.07e-02 cost_prev=1.2709 cost_new=1.2709
<span class=" -Color -Color-Bold">INFO    </span> |  AL update: snorm=3.4766e-04, csupn=3.4766e-04, max_rho=4.0960e+04
<span class=" -Color -Color-Bold">INFO    </span> |  step #16: cost=0.9478 lambd=0.0000 inexact_tol=1.7e-06
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.12436 (avg 0.03109)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.09748 (avg 0.04874)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 0.94777 (avg 0.03159)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=1.85e+01 cost_prev=1.1696 cost_new=1.1627
<span class=" -Color -Color-Bold">INFO    </span> |  step #17: cost=1.0021 lambd=0.0000 inexact_tol=1.7e-06
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.09877 (avg 0.02469)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.06189 (avg 0.03094)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 1.00208 (avg 0.03340)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=1.52e-02 cost_prev=1.1627 cost_new=1.1627
<span class=" -Color -Color-Bold">INFO    </span> |  AL update: snorm=5.4568e-05, csupn=5.4568e-05, max_rho=4.0960e+04
<span class=" -Color -Color-Bold">INFO    </span> |  step #18: cost=1.0021 lambd=0.0000 inexact_tol=6.0e-07
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.10889 (avg 0.02722)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.06537 (avg 0.03269)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 1.00206 (avg 0.03340)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=3.62e+00 cost_prev=1.1763 cost_new=1.1761
<span class=" -Color -Color-Bold">INFO    </span> |  step #19: cost=1.0125 lambd=0.0000 inexact_tol=6.0e-07
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.10107 (avg 0.02527)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.06252 (avg 0.03126)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 1.01249 (avg 0.03375)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=False ATb_norm=1.04e-02 cost_prev=1.1761 cost_new=1.1761
<span class=" -Color -Color-Bold">INFO    </span> |  AL update: snorm=1.3225e-05, csupn=1.3225e-05, max_rho=4.0960e+04
<span class=" -Color -Color-Bold">INFO    </span> |  step #20: cost=1.0125 lambd=0.0000 inexact_tol=6.0e-07
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.10341 (avg 0.02585)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.06317 (avg 0.03158)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 1.01249 (avg 0.03375)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=8.31e-01 cost_prev=1.1791 cost_new=1.1790
<span class=" -Color -Color-Bold">INFO    </span> |  step #21: cost=1.0147 lambd=0.0000 inexact_tol=6.0e-07
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_pin_support(2): 0.10162 (avg 0.02541)
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_prescribed_displacement(1): 0.06267 (avg 0.03133)
<span class=" -Color -Color-Bold">INFO    </span> |      - bar_strain_energy(15): 1.01474 (avg 0.03382)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=1.68e-02 cost_prev=1.1790 cost_new=1.1790
<span class=" -Color -Color-Bold">INFO    </span> |  AL update: snorm=3.1461e-06, csupn=3.1461e-06, max_rho=4.0960e+04
<span class=" -Color -Color-Bold">INFO    </span> | Terminated @ iteration #22: cost=1.0147 criteria=[0 0 1], term_deltas=4.0e-05,9.9e-03,2.3e-08
</pre></div>
</div>
</div>
</div>
</section>
<section id="results-and-visualization">
<h2>Results and visualization<a class="headerlink" href="#results-and-visualization" title="Link to this heading">#</a></h2>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Extract displacements.</span>
<span class="n">displacements</span> <span class="o">=</span> <span class="n">solution</span><span class="p">[</span><span class="n">node_vars</span><span class="p">]</span>
<span class="n">deformed_positions</span> <span class="o">=</span> <span class="n">node_positions</span> <span class="o">+</span> <span class="n">displacements</span>


<span class="k">def</span><span class="w"> </span><span class="nf">compute_member_force</span><span class="p">(</span><span class="n">i</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">disp</span><span class="p">:</span> <span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute axial force in member (positive = tension).</span>

<span class="sd">    Args:</span>
<span class="sd">        i: Start node index</span>
<span class="sd">        j: End node index</span>
<span class="sd">        disp: Node displacements array (num_nodes, 2)</span>

<span class="sd">    Returns:</span>
<span class="sd">        Axial force in the member (scalar)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">L0_vec</span> <span class="o">=</span> <span class="n">node_positions</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-</span> <span class="n">node_positions</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">L0</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">jnp</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">L0_vec</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
    <span class="n">L_vec</span> <span class="o">=</span> <span class="n">L0_vec</span> <span class="o">+</span> <span class="p">(</span><span class="n">disp</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-</span> <span class="n">disp</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="n">L</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">jnp</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">L_vec</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
    <span class="n">strain</span> <span class="o">=</span> <span class="p">(</span><span class="n">L</span> <span class="o">-</span> <span class="n">L0</span><span class="p">)</span> <span class="o">/</span> <span class="n">L0</span>
    <span class="k">return</span> <span class="n">EA</span> <span class="o">*</span> <span class="n">strain</span>  <span class="c1"># Force = EA * strain</span>


<span class="n">member_forces</span> <span class="o">=</span> <span class="n">jax</span><span class="o">.</span><span class="n">vmap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">m</span><span class="p">:</span> <span class="n">compute_member_force</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">displacements</span><span class="p">))(</span>
    <span class="n">members</span>
<span class="p">)</span>

<span class="c1"># Print results.</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Node Displacements:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;Node&#39;</span><span class="si">:</span><span class="s2">&gt;4</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="s1">&#39;dx [mm]&#39;</span><span class="si">:</span><span class="s2">&gt;10</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="s1">&#39;dy [mm]&#39;</span><span class="si">:</span><span class="s2">&gt;10</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">26</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_nodes</span><span class="p">):</span>
    <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span> <span class="o">=</span> <span class="n">displacements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="mi">1000</span>  <span class="c1"># Convert to mm</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">:</span><span class="s2">&gt;4</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="nb">float</span><span class="p">(</span><span class="n">dx</span><span class="p">)</span><span class="si">:</span><span class="s2">&gt;10.3f</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="nb">float</span><span class="p">(</span><span class="n">dy</span><span class="p">)</span><span class="si">:</span><span class="s2">&gt;10.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Member Forces:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;Member&#39;</span><span class="si">:</span><span class="s2">&gt;6</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="s1">&#39;Force [kN]&#39;</span><span class="si">:</span><span class="s2">&gt;12</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="s1">&#39;Type&#39;</span><span class="si">:</span><span class="s2">&gt;10</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">30</span><span class="p">)</span>
<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">members</span><span class="p">):</span>
    <span class="n">f</span> <span class="o">=</span> <span class="n">member_forces</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
    <span class="n">f_kN</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span>
    <span class="n">typ</span> <span class="o">=</span> <span class="s2">&quot;Tension&quot;</span> <span class="k">if</span> <span class="n">f</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot;Compression&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="si">:</span><span class="s2">&gt;2</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">f_kN</span><span class="si">:</span><span class="s2">&gt;12.2f</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">typ</span><span class="si">:</span><span class="s2">&gt;10</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Node Displacements:
Node    dx [mm]    dy [mm]
--------------------------
   0     -0.003     -0.001
   1     -1.153    -11.739
   2      0.000    -19.999
   3      1.153    -11.739
   4      0.003     -0.001
   5      4.598     -5.452
   6      2.287    -16.315
   7     -2.287    -16.315
   8     -4.598     -5.452

Member Forces:
Member   Force [kN]       Type
------------------------------
0- 1        -0.02 Compression
1- 2         0.02    Tension
2- 3         0.02    Tension
3- 4        -0.02 Compression
5- 6        -0.04 Compression
6- 7        -0.08 Compression
7- 8        -0.04 Compression
0- 5        -0.03 Compression
5- 1         0.03    Tension
1- 6        -0.03 Compression
6- 2         0.03    Tension
2- 7         0.03    Tension
7- 3        -0.03 Compression
3- 8         0.03    Tension
8- 4        -0.03 Compression
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">plotly.graph_objects</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">go</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">IPython.display</span><span class="w"> </span><span class="kn">import</span> <span class="n">HTML</span>

<span class="c1"># Visualization.</span>
<span class="n">scale</span> <span class="o">=</span> <span class="mi">20</span>  <span class="c1"># Displacement magnification for visibility</span>
<span class="n">scaled_deformed</span> <span class="o">=</span> <span class="n">node_positions</span> <span class="o">+</span> <span class="n">scale</span> <span class="o">*</span> <span class="n">displacements</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>

<span class="c1"># Original structure (gray)</span>
<span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">members</span><span class="p">:</span>
    <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">node_positions</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">node_positions</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="p">])],</span>
            <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">node_positions</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">node_positions</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">1</span><span class="p">])],</span>
            <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;lines&quot;</span><span class="p">,</span>
            <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;lightgray&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">6</span><span class="p">),</span>
            <span class="n">showlegend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>

<span class="c1"># Deformed structure (colored by force)</span>
<span class="n">max_force</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">jnp</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">jnp</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">member_forces</span><span class="p">)))</span> <span class="o">+</span> <span class="mf">1e-6</span>
<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">members</span><span class="p">):</span>
    <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">force</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">member_forces</span><span class="p">[</span><span class="n">idx</span><span class="p">])</span>
    <span class="c1"># Color: blue for compression, red for tension.</span>
    <span class="n">intensity</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">force</span><span class="p">)</span> <span class="o">/</span> <span class="n">max_force</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">force</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">color</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;rgba(220, </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="mi">80</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">175</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">intensity</span><span class="p">))</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="mi">80</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">175</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">intensity</span><span class="p">))</span><span class="si">}</span><span class="s2">, 1)&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">color</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;rgba(</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="mi">80</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">175</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">intensity</span><span class="p">))</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="mi">80</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">175</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">intensity</span><span class="p">))</span><span class="si">}</span><span class="s2">, 220, 1)&quot;</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">scaled_deformed</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">scaled_deformed</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="p">])],</span>
            <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">scaled_deformed</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">scaled_deformed</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">1</span><span class="p">])],</span>
            <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;lines&quot;</span><span class="p">,</span>
            <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span>
            <span class="n">showlegend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>

<span class="c1"># Nodes.</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span>
    <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">scaled_deformed</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]],</span>
        <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">scaled_deformed</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]],</span>
        <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;markers+text&quot;</span><span class="p">,</span>
        <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;steelblue&quot;</span><span class="p">),</span>
        <span class="n">text</span><span class="o">=</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_nodes</span><span class="p">)],</span>
        <span class="n">textposition</span><span class="o">=</span><span class="s2">&quot;top center&quot;</span><span class="p">,</span>
        <span class="n">textfont</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">9</span><span class="p">),</span>
        <span class="n">showlegend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Load arrow at load node (pointing downward).</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_annotation</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">scaled_deformed</span><span class="p">[</span><span class="n">load_node_id</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
    <span class="n">y</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">scaled_deformed</span><span class="p">[</span><span class="n">load_node_id</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">-</span> <span class="mf">0.8</span><span class="p">,</span>
    <span class="n">ax</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">ay</span><span class="o">=-</span><span class="mi">40</span><span class="p">,</span>
    <span class="n">xref</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span>
    <span class="n">yref</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span>
    <span class="n">axref</span><span class="o">=</span><span class="s2">&quot;pixel&quot;</span><span class="p">,</span>
    <span class="n">ayref</span><span class="o">=</span><span class="s2">&quot;pixel&quot;</span><span class="p">,</span>
    <span class="n">showarrow</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">arrowhead</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">arrowsize</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span>
    <span class="n">arrowwidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">arrowcolor</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_annotation</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">scaled_deformed</span><span class="p">[</span><span class="n">load_node_id</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
    <span class="n">y</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">scaled_deformed</span><span class="p">[</span><span class="n">load_node_id</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">-</span> <span class="mf">1.3</span><span class="p">,</span>
    <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Load&quot;</span><span class="p">,</span>
    <span class="n">showarrow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Warren Truss Bridge Analysis (displacements x</span><span class="si">{</span><span class="n">scale</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
    <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;x [m]&quot;</span><span class="p">,</span> <span class="n">scaleanchor</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">scaleratio</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;y [m]&quot;</span><span class="p">),</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
    <span class="n">showlegend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">margin</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">l</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">50</span><span class="p">),</span>
<span class="p">)</span>

<span class="c1"># Add color legend.</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_annotation</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="mf">0.98</span><span class="p">,</span>
    <span class="n">xref</span><span class="o">=</span><span class="s2">&quot;paper&quot;</span><span class="p">,</span>
    <span class="n">yref</span><span class="o">=</span><span class="s2">&quot;paper&quot;</span><span class="p">,</span>
    <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Red = Tension, Blue = Compression&quot;</span><span class="p">,</span>
    <span class="n">showarrow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>
    <span class="n">align</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
    <span class="n">bgcolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
    <span class="n">bordercolor</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span>
    <span class="n">borderwidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">HTML</span><span class="p">(</span><span class="n">fig</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">full_html</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">include_plotlyjs</span><span class="o">=</span><span class="s2">&quot;cdn&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.3.0.min.js" integrity="sha256-bO3dS6yCpk9aK4gUpNELtCiDeSYvGYnK7jFI58NQnHI=" crossorigin="anonymous"></script>                <div id="81e7de41-5525-4205-b220-94f6ddf1b576" class="plotly-graph-div" style="height:400px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("81e7de41-5525-4205-b220-94f6ddf1b576")) {                    Plotly.newPlot(                        "81e7de41-5525-4205-b220-94f6ddf1b576",                        [{"line":{"color":"lightgray","width":6},"mode":"lines","showlegend":false,"x":[0.0,3.0],"y":[0.0,0.0],"type":"scatter"},{"line":{"color":"lightgray","width":6},"mode":"lines","showlegend":false,"x":[3.0,6.0],"y":[0.0,0.0],"type":"scatter"},{"line":{"color":"lightgray","width":6},"mode":"lines","showlegend":false,"x":[6.0,9.0],"y":[0.0,0.0],"type":"scatter"},{"line":{"color":"lightgray","width":6},"mode":"lines","showlegend":false,"x":[9.0,12.0],"y":[0.0,0.0],"type":"scatter"},{"line":{"color":"lightgray","width":6},"mode":"lines","showlegend":false,"x":[1.5,4.5],"y":[2.0,2.0],"type":"scatter"},{"line":{"color":"lightgray","width":6},"mode":"lines","showlegend":false,"x":[4.5,7.5],"y":[2.0,2.0],"type":"scatter"},{"line":{"color":"lightgray","width":6},"mode":"lines","showlegend":false,"x":[7.5,10.5],"y":[2.0,2.0],"type":"scatter"},{"line":{"color":"lightgray","width":6},"mode":"lines","showlegend":false,"x":[0.0,1.5],"y":[0.0,2.0],"type":"scatter"},{"line":{"color":"lightgray","width":6},"mode":"lines","showlegend":false,"x":[1.5,3.0],"y":[2.0,0.0],"type":"scatter"},{"line":{"color":"lightgray","width":6},"mode":"lines","showlegend":false,"x":[3.0,4.5],"y":[0.0,2.0],"type":"scatter"},{"line":{"color":"lightgray","width":6},"mode":"lines","showlegend":false,"x":[4.5,6.0],"y":[2.0,0.0],"type":"scatter"},{"line":{"color":"lightgray","width":6},"mode":"lines","showlegend":false,"x":[6.0,7.5],"y":[0.0,2.0],"type":"scatter"},{"line":{"color":"lightgray","width":6},"mode":"lines","showlegend":false,"x":[7.5,9.0],"y":[2.0,0.0],"type":"scatter"},{"line":{"color":"lightgray","width":6},"mode":"lines","showlegend":false,"x":[9.0,10.5],"y":[0.0,2.0],"type":"scatter"},{"line":{"color":"lightgray","width":6},"mode":"lines","showlegend":false,"x":[10.5,12.0],"y":[2.0,0.0],"type":"scatter"},{"line":{"color":"rgba(211, 211, 220, 1)","width":5},"mode":"lines","showlegend":false,"x":[-6.291743920883164e-05,2.976947546005249],"y":[-1.3801176464767195e-05,-0.23477068543434143],"type":"scatter"},{"line":{"color":"rgba(220, 210, 210, 1)","width":5},"mode":"lines","showlegend":false,"x":[2.976947546005249,6.0],"y":[-0.23477068543434143,-0.3999723792076111],"type":"scatter"},{"line":{"color":"rgba(220, 210, 210, 1)","width":5},"mode":"lines","showlegend":false,"x":[6.0,9.023052215576172],"y":[-0.3999723792076111,-0.2347707450389862],"type":"scatter"},{"line":{"color":"rgba(211, 211, 220, 1)","width":5},"mode":"lines","showlegend":false,"x":[9.023052215576172,12.000062942504883],"y":[-0.2347707450389862,-1.3802032299281564e-05],"type":"scatter"},{"line":{"color":"rgba(167, 167, 220, 1)","width":5},"mode":"lines","showlegend":false,"x":[1.5919594764709473,4.545739650726318],"y":[1.8909517526626587,1.6737051010131836],"type":"scatter"},{"line":{"color":"rgba(80, 80, 220, 1)","width":5},"mode":"lines","showlegend":false,"x":[4.545739650726318,7.454260349273682],"y":[1.6737051010131836,1.6737052202224731],"type":"scatter"},{"line":{"color":"rgba(167, 167, 220, 1)","width":5},"mode":"lines","showlegend":false,"x":[7.454260349273682,10.408041000366211],"y":[1.6737052202224731,1.8909517526626587],"type":"scatter"},{"line":{"color":"rgba(181, 181, 220, 1)","width":5},"mode":"lines","showlegend":false,"x":[-6.291743920883164e-05,1.5919594764709473],"y":[-1.3801176464767195e-05,1.8909517526626587],"type":"scatter"},{"line":{"color":"rgba(220, 181, 181, 1)","width":5},"mode":"lines","showlegend":false,"x":[1.5919594764709473,2.976947546005249],"y":[1.8909517526626587,-0.23477068543434143],"type":"scatter"},{"line":{"color":"rgba(181, 181, 220, 1)","width":5},"mode":"lines","showlegend":false,"x":[2.976947546005249,4.545739650726318],"y":[-0.23477068543434143,1.6737051010131836],"type":"scatter"},{"line":{"color":"rgba(220, 182, 182, 1)","width":5},"mode":"lines","showlegend":false,"x":[4.545739650726318,6.0],"y":[1.6737051010131836,-0.3999723792076111],"type":"scatter"},{"line":{"color":"rgba(220, 182, 182, 1)","width":5},"mode":"lines","showlegend":false,"x":[6.0,7.454260349273682],"y":[-0.3999723792076111,1.6737052202224731],"type":"scatter"},{"line":{"color":"rgba(181, 181, 220, 1)","width":5},"mode":"lines","showlegend":false,"x":[7.454260349273682,9.023052215576172],"y":[1.6737052202224731,-0.2347707450389862],"type":"scatter"},{"line":{"color":"rgba(220, 181, 181, 1)","width":5},"mode":"lines","showlegend":false,"x":[9.023052215576172,10.408041000366211],"y":[-0.2347707450389862,1.8909517526626587],"type":"scatter"},{"line":{"color":"rgba(181, 181, 220, 1)","width":5},"mode":"lines","showlegend":false,"x":[10.408041000366211,12.000062942504883],"y":[1.8909517526626587,-1.3802032299281564e-05],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers+text","showlegend":false,"text":["0","1","2","3","4","5","6","7","8"],"textfont":{"size":9},"textposition":"top center","x":[-6.291743920883164e-05,2.976947546005249,6.0,9.023052215576172,12.000062942504883,1.5919594764709473,4.545739650726318,7.454260349273682,10.408041000366211],"y":[-1.3801176464767195e-05,-0.23477068543434143,-0.3999723792076111,-0.2347707450389862,-1.3802032299281564e-05,1.8909517526626587,1.6737051010131836,1.6737052202224731,1.8909517526626587],"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"annotations":[{"arrowcolor":"red","arrowhead":2,"arrowsize":1.5,"arrowwidth":3,"ax":0,"axref":"pixel","ay":-40,"ayref":"pixel","showarrow":true,"x":6.0,"xref":"x","y":-1.1999723792076111,"yref":"y"},{"font":{"color":"red","size":12},"showarrow":false,"text":"Load","x":6.0,"y":-1.6999723792076111},{"align":"left","bgcolor":"white","bordercolor":"gray","borderwidth":1,"font":{"size":10},"showarrow":false,"text":"Red = Tension, Blue = Compression","x":0.02,"xref":"paper","y":0.98,"yref":"paper"}],"xaxis":{"title":{"text":"x [m]"},"scaleanchor":"y","scaleratio":1},"margin":{"t":80,"b":50,"l":50,"r":50},"title":{"text":"Warren Truss Bridge Analysis (displacements x20)"},"yaxis":{"title":{"text":"y [m]"}},"height":400,"showlegend":false},                        {"responsive": true}                    )                };            </script>        </div></div></div>
</div>
<p>The solver found the equilibrium configuration of the Warren truss bridge under a prescribed displacement:</p>
<ul class="simple">
<li><p>Deformed shape: Shown with exaggerated displacements for visibility</p></li>
<li><p>Member colors: Red indicates tension, blue indicates compression</p></li>
</ul>
<p>Key observations:</p>
<ul class="simple">
<li><p>Bottom chord is in tension (red) - it resists the spreading of the supports</p></li>
<li><p>Top chord is in compression (blue) - it’s being squeezed as the bridge sags</p></li>
<li><p>Diagonal members alternate between tension and compression</p></li>
<li><p>Maximum deflection occurs at the center where the load is applied</p></li>
</ul>
<p>This is the classic behavior of a simply-supported truss bridge under a center point load.</p>
</section>
<section id="varying-displacements">
<h2>Varying displacements<a class="headerlink" href="#varying-displacements" title="Link to this heading">#</a></h2>
<p>We can animate the truss response to different prescribed displacements. As the displacement increases,
the internal forces grow proportionally (since we’re in the linear elastic regime).</p>
<p>Using <code class="docutils literal notranslate"><span class="pre">jax.vmap</span></code>, we solve for all displacement magnitudes in parallel.</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Solve for multiple displacement magnitudes using vmap.</span>
<span class="n">displacement_magnitudes</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mi">21</span><span class="p">)</span>  <span class="c1"># 0 to 50 mm.</span>


<span class="k">def</span><span class="w"> </span><span class="nf">solve_for_displacement</span><span class="p">(</span><span class="n">disp_y</span><span class="p">:</span> <span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Solve truss for a given prescribed vertical displacement.&quot;&quot;&quot;</span>
    <span class="n">target_disp</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="n">disp_y</span><span class="p">])</span>
    <span class="n">costs_d</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">jaxls</span><span class="o">.</span><span class="n">Cost</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">bar_strain_energy</span><span class="p">(</span>
            <span class="n">NodeVar</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">members</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]),</span>
            <span class="n">NodeVar</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">members</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]),</span>
            <span class="n">node_positions</span><span class="p">[</span><span class="n">members</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]],</span>
            <span class="n">node_positions</span><span class="p">[</span><span class="n">members</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]],</span>
            <span class="n">EA</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">pin_support</span><span class="p">(</span><span class="n">NodeVar</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">left_pin</span><span class="p">)),</span>
        <span class="n">pin_support</span><span class="p">(</span><span class="n">NodeVar</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">right_pin</span><span class="p">)),</span>
        <span class="n">prescribed_displacement</span><span class="p">(</span><span class="n">NodeVar</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">load_node_id</span><span class="p">),</span> <span class="n">target_disp</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">problem_d</span> <span class="o">=</span> <span class="n">jaxls</span><span class="o">.</span><span class="n">LeastSquaresProblem</span><span class="p">(</span><span class="n">costs_d</span><span class="p">,</span> <span class="p">[</span><span class="n">node_vars</span><span class="p">])</span><span class="o">.</span><span class="n">analyze</span><span class="p">()</span>
    <span class="n">sol</span> <span class="o">=</span> <span class="n">problem_d</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">sol</span><span class="p">[</span><span class="n">node_vars</span><span class="p">]</span>


<span class="c1"># Use vmap to solve for all displacement values in parallel.</span>
<span class="n">all_displacements</span> <span class="o">=</span> <span class="n">jax</span><span class="o">.</span><span class="n">vmap</span><span class="p">(</span><span class="n">solve_for_displacement</span><span class="p">)(</span><span class="n">displacement_magnitudes</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;Solved for </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">displacement_magnitudes</span><span class="p">)</span><span class="si">}</span><span class="s2"> displacement values in parallel using vmap&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 18 terms and 9 variables: 15 costs, 3 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 2 constraints (constraint_eq_zero), 1 variables each: augmented_pin_support
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 15 costs, 2 variables each: bar_strain_energy
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 1 constraints (constraint_eq_zero), 1 variables each: augmented_prescribed_displacement
Solved for 21 displacement values in parallel using vmap
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create animated visualization with force coloring.</span>
<span class="n">scale_anim</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># Displacement magnification</span>


<span class="k">def</span><span class="w"> </span><span class="nf">get_member_color</span><span class="p">(</span><span class="n">force</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">max_force</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get color for a member based on its force (red=tension, blue=compression).&quot;&quot;&quot;</span>
    <span class="n">intensity</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">force</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">max_force</span> <span class="o">+</span> <span class="mf">1e-6</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">force</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># Tension</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;rgba(220, </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="mi">80</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">175</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">intensity</span><span class="p">))</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="mi">80</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">175</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">intensity</span><span class="p">))</span><span class="si">}</span><span class="s2">, 1)&quot;</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># Compression</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;rgba(</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="mi">80</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">175</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">intensity</span><span class="p">))</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="mi">80</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">175</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">intensity</span><span class="p">))</span><span class="si">}</span><span class="s2">, 220, 1)&quot;</span>


<span class="c1"># Compute member forces for all displacement configurations.</span>
<span class="k">def</span><span class="w"> </span><span class="nf">compute_forces_for_disp</span><span class="p">(</span><span class="n">disp</span><span class="p">:</span> <span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute all member forces for a given displacement field.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">jax</span><span class="o">.</span><span class="n">vmap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">m</span><span class="p">:</span> <span class="n">compute_member_force</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">disp</span><span class="p">))(</span><span class="n">members</span><span class="p">)</span>


<span class="n">all_forces</span> <span class="o">=</span> <span class="n">jax</span><span class="o">.</span><span class="n">vmap</span><span class="p">(</span><span class="n">compute_forces_for_disp</span><span class="p">)(</span><span class="n">all_displacements</span><span class="p">)</span>
<span class="n">global_max_force</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">jnp</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">jnp</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">all_forces</span><span class="p">)))</span>

<span class="c1"># Build frames for animation.</span>
<span class="n">frames</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">disp_mag</span><span class="p">,</span> <span class="n">disp</span><span class="p">,</span> <span class="n">forces</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span>
    <span class="nb">zip</span><span class="p">(</span><span class="n">displacement_magnitudes</span><span class="p">,</span> <span class="n">all_displacements</span><span class="p">,</span> <span class="n">all_forces</span><span class="p">)</span>
<span class="p">):</span>
    <span class="n">scaled_pos</span> <span class="o">=</span> <span class="n">node_positions</span> <span class="o">+</span> <span class="n">scale_anim</span> <span class="o">*</span> <span class="n">disp</span>

    <span class="c1"># Create individual traces for each member (for per-member coloring)</span>
    <span class="n">member_traces</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">members</span><span class="p">):</span>
        <span class="n">mi</span><span class="p">,</span> <span class="n">mj</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">get_member_color</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">forces</span><span class="p">[</span><span class="n">idx</span><span class="p">]),</span> <span class="n">global_max_force</span><span class="p">)</span>
        <span class="n">member_traces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
                <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">scaled_pos</span><span class="p">[</span><span class="n">mi</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">scaled_pos</span><span class="p">[</span><span class="n">mj</span><span class="p">,</span> <span class="mi">0</span><span class="p">])],</span>
                <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">scaled_pos</span><span class="p">[</span><span class="n">mi</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">scaled_pos</span><span class="p">[</span><span class="n">mj</span><span class="p">,</span> <span class="mi">1</span><span class="p">])],</span>
                <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;lines&quot;</span><span class="p">,</span>
                <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span>
                <span class="n">showlegend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="c1"># Node markers.</span>
    <span class="n">node_trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">scaled_pos</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]],</span>
        <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">scaled_pos</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]],</span>
        <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;markers&quot;</span><span class="p">,</span>
        <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;steelblue&quot;</span><span class="p">),</span>
        <span class="n">showlegend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">deflection</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="o">-</span><span class="n">disp</span><span class="p">[</span><span class="n">load_node_id</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="mi">1000</span>
    <span class="n">frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">member_traces</span> <span class="o">+</span> <span class="p">[</span><span class="n">node_trace</span><span class="p">],</span>
            <span class="n">name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
                <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Prescribed Displacement: </span><span class="si">{</span><span class="nb">float</span><span class="p">(</span><span class="n">disp_mag</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> mm, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Actual: </span><span class="si">{</span><span class="n">deflection</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> mm&quot;</span>
            <span class="p">),</span>
        <span class="p">)</span>
    <span class="p">)</span>

<span class="c1"># Initial frame data (first displacement = 0, so all gray)</span>
<span class="n">init_pos</span> <span class="o">=</span> <span class="n">node_positions</span> <span class="o">+</span> <span class="n">scale_anim</span> <span class="o">*</span> <span class="n">all_displacements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">init_forces</span> <span class="o">=</span> <span class="n">all_forces</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">init_traces</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">members</span><span class="p">):</span>
    <span class="n">mi</span><span class="p">,</span> <span class="n">mj</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">get_member_color</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">init_forces</span><span class="p">[</span><span class="n">idx</span><span class="p">]),</span> <span class="n">global_max_force</span><span class="p">)</span>
    <span class="n">init_traces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">init_pos</span><span class="p">[</span><span class="n">mi</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">init_pos</span><span class="p">[</span><span class="n">mj</span><span class="p">,</span> <span class="mi">0</span><span class="p">])],</span>
            <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">init_pos</span><span class="p">[</span><span class="n">mi</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">init_pos</span><span class="p">[</span><span class="n">mj</span><span class="p">,</span> <span class="mi">1</span><span class="p">])],</span>
            <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;lines&quot;</span><span class="p">,</span>
            <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span>
            <span class="n">showlegend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>

<span class="n">init_traces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
    <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">init_pos</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]],</span>
        <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">init_pos</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]],</span>
        <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;markers&quot;</span><span class="p">,</span>
        <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;steelblue&quot;</span><span class="p">),</span>
        <span class="n">showlegend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="n">fig_anim</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">init_traces</span><span class="p">,</span>
    <span class="n">frames</span><span class="o">=</span><span class="n">frames</span><span class="p">,</span>
    <span class="n">layout</span><span class="o">=</span><span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Prescribed Displacement: 0.0 mm, Actual: 0.0 mm&quot;</span><span class="p">,</span>
        <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;x [m]&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">span</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">scaleanchor</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">scaleratio</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
        <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;y [m]&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">height</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]),</span>
        <span class="n">height</span><span class="o">=</span><span class="mi">450</span><span class="p">,</span>
        <span class="n">margin</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span>
        <span class="n">updatemenus</span><span class="o">=</span><span class="p">[</span>
            <span class="nb">dict</span><span class="p">(</span>
                <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;buttons&quot;</span><span class="p">,</span>
                <span class="n">showactive</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">x</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                <span class="n">xanchor</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span>
                <span class="n">buttons</span><span class="o">=</span><span class="p">[</span>
                    <span class="nb">dict</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Play&quot;</span><span class="p">,</span>
                        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;animate&quot;</span><span class="p">,</span>
                        <span class="n">args</span><span class="o">=</span><span class="p">[</span>
                            <span class="kc">None</span><span class="p">,</span>
                            <span class="nb">dict</span><span class="p">(</span>
                                <span class="n">frame</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">redraw</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">fromcurrent</span><span class="o">=</span><span class="kc">True</span>
                            <span class="p">),</span>
                        <span class="p">],</span>
                    <span class="p">),</span>
                    <span class="nb">dict</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Pause&quot;</span><span class="p">,</span>
                        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;animate&quot;</span><span class="p">,</span>
                        <span class="n">args</span><span class="o">=</span><span class="p">[</span>
                            <span class="p">[</span><span class="kc">None</span><span class="p">],</span>
                            <span class="nb">dict</span><span class="p">(</span>
                                <span class="n">frame</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">redraw</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;immediate&quot;</span>
                            <span class="p">),</span>
                        <span class="p">],</span>
                    <span class="p">),</span>
                <span class="p">],</span>
            <span class="p">)</span>
        <span class="p">],</span>
        <span class="n">sliders</span><span class="o">=</span><span class="p">[</span>
            <span class="nb">dict</span><span class="p">(</span>
                <span class="n">active</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">steps</span><span class="o">=</span><span class="p">[</span>
                    <span class="nb">dict</span><span class="p">(</span>
                        <span class="n">args</span><span class="o">=</span><span class="p">[</span>
                            <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)],</span>
                            <span class="nb">dict</span><span class="p">(</span><span class="n">frame</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">redraw</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;immediate&quot;</span><span class="p">),</span>
                        <span class="p">],</span>
                        <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">float</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;animate&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">displacement_magnitudes</span><span class="p">)</span>
                <span class="p">],</span>
                <span class="n">x</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                <span class="nb">len</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
                <span class="n">xanchor</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
                <span class="n">y</span><span class="o">=-</span><span class="mf">0.15</span><span class="p">,</span>
                <span class="n">currentvalue</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                    <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;Displacement (mm): &quot;</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">xanchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span>
                <span class="p">),</span>
                <span class="n">transition</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="p">],</span>
    <span class="p">),</span>
<span class="p">)</span>

<span class="c1"># Add color legend.</span>
<span class="n">fig_anim</span><span class="o">.</span><span class="n">add_annotation</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="mf">0.98</span><span class="p">,</span>
    <span class="n">xref</span><span class="o">=</span><span class="s2">&quot;paper&quot;</span><span class="p">,</span>
    <span class="n">yref</span><span class="o">=</span><span class="s2">&quot;paper&quot;</span><span class="p">,</span>
    <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Red = Tension, Blue = Compression&quot;</span><span class="p">,</span>
    <span class="n">showarrow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>
    <span class="n">align</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
    <span class="n">bgcolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
    <span class="n">bordercolor</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span>
    <span class="n">borderwidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">HTML</span><span class="p">(</span><span class="n">fig_anim</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">full_html</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">include_plotlyjs</span><span class="o">=</span><span class="s2">&quot;cdn&quot;</span><span class="p">,</span> <span class="n">auto_play</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.3.0.min.js" integrity="sha256-bO3dS6yCpk9aK4gUpNELtCiDeSYvGYnK7jFI58NQnHI=" crossorigin="anonymous"></script>                <div id="cf897b37-8508-4822-b56b-2e6e55bb5506" class="plotly-graph-div" style="height:450px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("cf897b37-8508-4822-b56b-2e6e55bb5506")) {                    Plotly.newPlot(                        "cf897b37-8508-4822-b56b-2e6e55bb5506",                        [{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[0.0,3.0],"y":[0.0,0.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[3.0,6.0],"y":[0.0,0.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.0],"y":[0.0,0.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.0,12.0],"y":[0.0,0.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5,4.5],"y":[2.0,2.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.5,7.5],"y":[2.0,2.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.5,10.5],"y":[2.0,2.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[0.0,1.5],"y":[0.0,2.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5,3.0],"y":[2.0,0.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[3.0,4.5],"y":[0.0,2.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.5,6.0],"y":[2.0,0.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.5],"y":[0.0,2.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.5,9.0],"y":[2.0,0.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.0,10.5],"y":[0.0,2.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.5,12.0],"y":[2.0,0.0],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[0.0,3.0,6.0,9.0,12.0,1.5,4.5,7.5,10.5],"y":[0.0,0.0,0.0,0.0,0.0,2.0,2.0,2.0,2.0],"type":"scatter"}],                        {"height":450,"margin":{"b":100},"sliders":[{"active":0,"currentvalue":{"prefix":"Displacement (mm): ","visible":true,"xanchor":"center"},"len":0.8,"steps":[{"args":[["0"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"0","method":"animate"},{"args":[["1"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"3","method":"animate"},{"args":[["2"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"5","method":"animate"},{"args":[["3"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"8","method":"animate"},{"args":[["4"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"10","method":"animate"},{"args":[["5"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"13","method":"animate"},{"args":[["6"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"15","method":"animate"},{"args":[["7"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"18","method":"animate"},{"args":[["8"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"20","method":"animate"},{"args":[["9"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"23","method":"animate"},{"args":[["10"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"25","method":"animate"},{"args":[["11"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"28","method":"animate"},{"args":[["12"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"30","method":"animate"},{"args":[["13"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"33","method":"animate"},{"args":[["14"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"35","method":"animate"},{"args":[["15"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"38","method":"animate"},{"args":[["16"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"40","method":"animate"},{"args":[["17"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"43","method":"animate"},{"args":[["18"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"45","method":"animate"},{"args":[["19"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"48","method":"animate"},{"args":[["20"],{"frame":{"duration":0,"redraw":true},"mode":"immediate"}],"label":"50","method":"animate"}],"transition":{"duration":0},"x":0.1,"xanchor":"left","y":-0.15}],"title":{"text":"Prescribed Displacement: 0.0 mm, Actual: 0.0 mm"},"updatemenus":[{"buttons":[{"args":[null,{"frame":{"duration":100,"redraw":true},"fromcurrent":true}],"label":"Play","method":"animate"},{"args":[[null],{"frame":{"duration":0,"redraw":false},"mode":"immediate"}],"label":"Pause","method":"animate"}],"showactive":false,"type":"buttons","x":0.1,"xanchor":"right","y":0}],"xaxis":{"range":[-1,13.0],"scaleanchor":"y","scaleratio":1,"title":{"text":"x [m]"}},"yaxis":{"range":[-1,4.0],"title":{"text":"y [m]"}},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"annotations":[{"align":"left","bgcolor":"white","bordercolor":"gray","borderwidth":1,"font":{"size":10},"showarrow":false,"text":"Red = Tension, Blue = Compression","x":0.02,"xref":"paper","y":0.98,"yref":"paper"}]},                        {"responsive": true}                    ).then(function(){
                            Plotly.addFrames('cf897b37-8508-4822-b56b-2e6e55bb5506', [{"data":[{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[0.0,3.0],"y":[0.0,0.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[3.0,6.0],"y":[0.0,0.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.0],"y":[0.0,0.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.0,12.0],"y":[0.0,0.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5,4.5],"y":[2.0,2.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.5,7.5],"y":[2.0,2.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.5,10.5],"y":[2.0,2.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[0.0,1.5],"y":[0.0,2.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5,3.0],"y":[2.0,0.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[3.0,4.5],"y":[0.0,2.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.5,6.0],"y":[2.0,0.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.5],"y":[0.0,2.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.5,9.0],"y":[2.0,0.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.0,10.5],"y":[0.0,2.0],"type":"scatter"},{"line":{"color":"rgba(255, 255, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.5,12.0],"y":[2.0,0.0],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[0.0,3.0,6.0,9.0,12.0,1.5,4.5,7.5,10.5],"y":[0.0,0.0,0.0,0.0,0.0,2.0,2.0,2.0,2.0],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 0.0 mm, Actual: -0.0 mm"}},"name":"0"},{"data":[{"line":{"color":"rgba(252, 252, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-6.890295480843633e-05,2.9985413551330566],"y":[-2.1695786927011795e-05,-0.014653281308710575],"type":"scatter"},{"line":{"color":"rgba(220, 252, 252, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9985413551330566,6.0],"y":[-0.014653281308710575,-0.024956610053777695],"type":"scatter"},{"line":{"color":"rgba(220, 252, 252, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.001458168029785],"y":[-0.024956610053777695,-0.014655702747404575],"type":"scatter"},{"line":{"color":"rgba(252, 252, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.001458168029785,12.000068664550781],"y":[-0.014655702747404575,-2.1696447220165282e-05],"type":"scatter"},{"line":{"color":"rgba(250, 250, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5056960582733154,4.5028462409973145],"y":[1.9931800365447998,1.9796479940414429],"type":"scatter"},{"line":{"color":"rgba(246, 246, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.5028462409973145,7.4971537590026855],"y":[1.9796479940414429,1.9796456098556519],"type":"scatter"},{"line":{"color":"rgba(250, 250, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.4971537590026855,10.494303703308105],"y":[1.9796456098556519,1.9931799173355103],"type":"scatter"},{"line":{"color":"rgba(251, 251, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-6.890295480843633e-05,1.5056960582733154],"y":[-2.1695786927011795e-05,1.9931800365447998],"type":"scatter"},{"line":{"color":"rgba(220, 251, 251, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5056960582733154,2.9985413551330566],"y":[1.9931800365447998,-0.014653281308710575],"type":"scatter"},{"line":{"color":"rgba(251, 251, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9985413551330566,4.5028462409973145],"y":[-0.014653281308710575,1.9796479940414429],"type":"scatter"},{"line":{"color":"rgba(220, 251, 251, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.5028462409973145,6.0],"y":[1.9796479940414429,-0.024956610053777695],"type":"scatter"},{"line":{"color":"rgba(220, 251, 251, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.4971537590026855],"y":[-0.024956610053777695,1.9796456098556519],"type":"scatter"},{"line":{"color":"rgba(251, 251, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.4971537590026855,9.001458168029785],"y":[1.9796456098556519,-0.014655702747404575],"type":"scatter"},{"line":{"color":"rgba(220, 251, 251, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.001458168029785,10.494303703308105],"y":[-0.014655702747404575,1.9931799173355103],"type":"scatter"},{"line":{"color":"rgba(251, 251, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.494303703308105,12.000068664550781],"y":[1.9931799173355103,-2.1696447220165282e-05],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-6.890295480843633e-05,2.9985413551330566,6.0,9.001458168029785,12.000068664550781,1.5056960582733154,4.5028462409973145,7.4971537590026855,10.494303703308105],"y":[-2.1695786927011795e-05,-0.014653281308710575,-0.024956610053777695,-0.014655702747404575,-2.1696447220165282e-05,1.9931800365447998,1.9796479940414429,1.9796456098556519,1.9931799173355103],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 2.5 mm, Actual: 2.5 mm"}},"name":"1"},{"data":[{"line":{"color":"rgba(250, 250, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-3.298283263575286e-05,2.9971184730529785],"y":[-7.979085239639971e-06,-0.029311515390872955],"type":"scatter"},{"line":{"color":"rgba(220, 250, 250, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9971184730529785,6.0],"y":[-0.029311515390872955,-0.04998404532670975],"type":"scatter"},{"line":{"color":"rgba(220, 250, 250, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.00288200378418],"y":[-0.04998404532670975,-0.029311519116163254],"type":"scatter"},{"line":{"color":"rgba(250, 250, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.00288200378418,12.000033378601074],"y":[-0.029311519116163254,-7.978558642207645e-06],"type":"scatter"},{"line":{"color":"rgba(246, 246, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5114542245864868,4.505720138549805],"y":[1.986399531364441,1.9592633247375488],"type":"scatter"},{"line":{"color":"rgba(237, 237, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.505720138549805,7.494279861450195],"y":[1.9592633247375488,1.9592633247375488],"type":"scatter"},{"line":{"color":"rgba(246, 246, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.494279861450195,10.488545417785645],"y":[1.9592633247375488,1.986399531364441],"type":"scatter"},{"line":{"color":"rgba(247, 247, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-3.298283263575286e-05,1.5114542245864868],"y":[-7.979085239639971e-06,1.986399531364441],"type":"scatter"},{"line":{"color":"rgba(220, 247, 247, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5114542245864868,2.9971184730529785],"y":[1.986399531364441,-0.029311515390872955],"type":"scatter"},{"line":{"color":"rgba(247, 247, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9971184730529785,4.505720138549805],"y":[-0.029311515390872955,1.9592633247375488],"type":"scatter"},{"line":{"color":"rgba(220, 247, 247, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.505720138549805,6.0],"y":[1.9592633247375488,-0.04998404532670975],"type":"scatter"},{"line":{"color":"rgba(220, 247, 247, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.494279861450195],"y":[-0.04998404532670975,1.9592633247375488],"type":"scatter"},{"line":{"color":"rgba(247, 247, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.494279861450195,9.00288200378418],"y":[1.9592633247375488,-0.029311519116163254],"type":"scatter"},{"line":{"color":"rgba(220, 247, 247, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.00288200378418,10.488545417785645],"y":[-0.029311519116163254,1.986399531364441],"type":"scatter"},{"line":{"color":"rgba(247, 247, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.488545417785645,12.000033378601074],"y":[1.986399531364441,-7.978558642207645e-06],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-3.298283263575286e-05,2.9971184730529785,6.0,9.00288200378418,12.000033378601074,1.5114542245864868,4.505720138549805,7.494279861450195,10.488545417785645],"y":[-7.979085239639971e-06,-0.029311515390872955,-0.04998404532670975,-0.029311519116163254,-7.978558642207645e-06,1.986399531364441,1.9592633247375488,1.9592633247375488,1.986399531364441],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 5.0 mm, Actual: 5.0 mm"}},"name":"2"},{"data":[{"line":{"color":"rgba(248, 248, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-4.974360854248516e-05,2.9956746101379395],"y":[-1.2011456419713795e-05,-0.04397842660546303],"type":"scatter"},{"line":{"color":"rgba(220, 248, 248, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9956746101379395,6.0],"y":[-0.04397842660546303,-0.07497598230838776],"type":"scatter"},{"line":{"color":"rgba(220, 248, 248, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.004325866699219],"y":[-0.07497598230838776,-0.04397842288017273],"type":"scatter"},{"line":{"color":"rgba(248, 248, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.004325866699219,12.000049591064453],"y":[-0.04397842288017273,-1.2011390936095268e-05],"type":"scatter"},{"line":{"color":"rgba(241, 241, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.517191767692566,4.508578777313232],"y":[1.9795886278152466,1.938881278038025],"type":"scatter"},{"line":{"color":"rgba(228, 228, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.508578777313232,7.491421222686768],"y":[1.938881278038025,1.938881278038025],"type":"scatter"},{"line":{"color":"rgba(241, 241, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.491421222686768,10.482808113098145],"y":[1.938881278038025,1.9795886278152466],"type":"scatter"},{"line":{"color":"rgba(244, 244, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-4.974360854248516e-05,1.517191767692566],"y":[-1.2011456419713795e-05,1.9795886278152466],"type":"scatter"},{"line":{"color":"rgba(220, 244, 244, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.517191767692566,2.9956746101379395],"y":[1.9795886278152466,-0.04397842660546303],"type":"scatter"},{"line":{"color":"rgba(244, 244, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9956746101379395,4.508578777313232],"y":[-0.04397842660546303,1.938881278038025],"type":"scatter"},{"line":{"color":"rgba(220, 244, 244, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.508578777313232,6.0],"y":[1.938881278038025,-0.07497598230838776],"type":"scatter"},{"line":{"color":"rgba(220, 244, 244, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.491421222686768],"y":[-0.07497598230838776,1.938881278038025],"type":"scatter"},{"line":{"color":"rgba(244, 244, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.491421222686768,9.004325866699219],"y":[1.938881278038025,-0.04397842288017273],"type":"scatter"},{"line":{"color":"rgba(220, 244, 244, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.004325866699219,10.482808113098145],"y":[-0.04397842288017273,1.9795886278152466],"type":"scatter"},{"line":{"color":"rgba(244, 244, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.482808113098145,12.000049591064453],"y":[1.9795886278152466,-1.2011390936095268e-05],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-4.974360854248516e-05,2.9956746101379395,6.0,9.004325866699219,12.000049591064453,1.517191767692566,4.508578777313232,7.491421222686768,10.482808113098145],"y":[-1.2011456419713795e-05,-0.04397842660546303,-0.07497598230838776,-0.04397842288017273,-1.2011390936095268e-05,1.9795886278152466,1.938881278038025,1.938881278038025,1.9795886278152466],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 7.5 mm, Actual: 7.5 mm"}},"name":"3"},{"data":[{"line":{"color":"rgba(246, 246, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-6.650318391621113e-05,2.994230031967163],"y":[-1.602180054760538e-05,-0.05865029990673065],"type":"scatter"},{"line":{"color":"rgba(220, 246, 246, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.994230031967163,6.0],"y":[-0.05865029990673065,-0.09996795654296875],"type":"scatter"},{"line":{"color":"rgba(220, 246, 246, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.005769729614258],"y":[-0.09996795654296875,-0.05865028128027916],"type":"scatter"},{"line":{"color":"rgba(246, 246, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.005769729614258,12.000066757202148],"y":[-0.05865028128027916,-1.602229349373374e-05],"type":"scatter"},{"line":{"color":"rgba(237, 237, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5229307413101196,4.511434555053711],"y":[1.9727705717086792,1.918492317199707],"type":"scatter"},{"line":{"color":"rgba(219, 219, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.511434555053711,7.488565444946289],"y":[1.918492317199707,1.918492317199707],"type":"scatter"},{"line":{"color":"rgba(237, 237, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.488565444946289,10.477068901062012],"y":[1.918492317199707,1.9727705717086792],"type":"scatter"},{"line":{"color":"rgba(240, 240, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-6.650318391621113e-05,1.5229307413101196],"y":[-1.602180054760538e-05,1.9727705717086792],"type":"scatter"},{"line":{"color":"rgba(220, 240, 240, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5229307413101196,2.994230031967163],"y":[1.9727705717086792,-0.05865029990673065],"type":"scatter"},{"line":{"color":"rgba(240, 240, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.994230031967163,4.511434555053711],"y":[-0.05865029990673065,1.918492317199707],"type":"scatter"},{"line":{"color":"rgba(220, 240, 240, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.511434555053711,6.0],"y":[1.918492317199707,-0.09996795654296875],"type":"scatter"},{"line":{"color":"rgba(220, 240, 240, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.488565444946289],"y":[-0.09996795654296875,1.918492317199707],"type":"scatter"},{"line":{"color":"rgba(240, 240, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.488565444946289,9.005769729614258],"y":[1.918492317199707,-0.05865028128027916],"type":"scatter"},{"line":{"color":"rgba(220, 240, 240, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.005769729614258,10.477068901062012],"y":[-0.05865028128027916,1.9727705717086792],"type":"scatter"},{"line":{"color":"rgba(240, 240, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.477068901062012,12.000066757202148],"y":[1.9727705717086792,-1.602229349373374e-05],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-6.650318391621113e-05,2.994230031967163,6.0,9.005769729614258,12.000066757202148,1.5229307413101196,4.511434555053711,7.488565444946289,10.477068901062012],"y":[-1.602180054760538e-05,-0.05865029990673065,-0.09996795654296875,-0.05865028128027916,-1.602229349373374e-05,1.9727705717086792,1.918492317199707,1.918492317199707,1.9727705717086792],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 10.0 mm, Actual: 10.0 mm"}},"name":"4"},{"data":[{"line":{"color":"rgba(244, 244, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-8.354105375474319e-05,2.9927852153778076],"y":[-2.011960168601945e-05,-0.07332601398229599],"type":"scatter"},{"line":{"color":"rgba(220, 243, 243, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9927852153778076,6.0],"y":[-0.07332601398229599,-0.12495976686477661],"type":"scatter"},{"line":{"color":"rgba(220, 243, 243, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.007214546203613],"y":[-0.12495976686477661,-0.07332702726125717],"type":"scatter"},{"line":{"color":"rgba(244, 244, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.007214546203613,12.000083923339844],"y":[-0.07332702726125717,-2.0119943656027317e-05],"type":"scatter"},{"line":{"color":"rgba(233, 233, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5286706686019897,4.514288425445557],"y":[1.9659466743469238,1.8980958461761475],"type":"scatter"},{"line":{"color":"rgba(211, 211, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.514288425445557,7.485710620880127],"y":[1.8980958461761475,1.8980965614318848],"type":"scatter"},{"line":{"color":"rgba(233, 233, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.485710620880127,10.471328735351562],"y":[1.8980965614318848,1.9659461975097656],"type":"scatter"},{"line":{"color":"rgba(236, 236, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-8.354105375474319e-05,1.5286706686019897],"y":[-2.011960168601945e-05,1.9659466743469238],"type":"scatter"},{"line":{"color":"rgba(220, 236, 236, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5286706686019897,2.9927852153778076],"y":[1.9659466743469238,-0.07332601398229599],"type":"scatter"},{"line":{"color":"rgba(236, 236, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9927852153778076,4.514288425445557],"y":[-0.07332601398229599,1.8980958461761475],"type":"scatter"},{"line":{"color":"rgba(220, 236, 236, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.514288425445557,6.0],"y":[1.8980958461761475,-0.12495976686477661],"type":"scatter"},{"line":{"color":"rgba(220, 236, 236, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.485710620880127],"y":[-0.12495976686477661,1.8980965614318848],"type":"scatter"},{"line":{"color":"rgba(236, 236, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.485710620880127,9.007214546203613],"y":[1.8980965614318848,-0.07332702726125717],"type":"scatter"},{"line":{"color":"rgba(220, 236, 236, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.007214546203613,10.471328735351562],"y":[-0.07332702726125717,1.9659461975097656],"type":"scatter"},{"line":{"color":"rgba(236, 236, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.471328735351562,12.000083923339844],"y":[1.9659461975097656,-2.0119943656027317e-05],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-8.354105375474319e-05,2.9927852153778076,6.0,9.007214546203613,12.000083923339844,1.5286706686019897,4.514288425445557,7.485710620880127,10.471328735351562],"y":[-2.011960168601945e-05,-0.07332601398229599,-0.12495976686477661,-0.07332702726125717,-2.0119943656027317e-05,1.9659466743469238,1.8980958461761475,1.8980965614318848,1.9659461975097656],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 12.5 mm, Actual: 12.5 mm"}},"name":"5"},{"data":[{"line":{"color":"rgba(242, 242, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-9.925752965500578e-05,2.991337537765503],"y":[-2.41519865085138e-05,-0.08801081031560898],"type":"scatter"},{"line":{"color":"rgba(220, 241, 241, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.991337537765503,6.0],"y":[-0.08801081031560898,-0.14995171129703522],"type":"scatter"},{"line":{"color":"rgba(220, 241, 241, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.008662223815918],"y":[-0.14995171129703522,-0.08800731599330902],"type":"scatter"},{"line":{"color":"rgba(242, 242, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.008662223815918,12.000099182128906],"y":[-0.08800731599330902,-2.4152677724487148e-05],"type":"scatter"},{"line":{"color":"rgba(228, 228, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5344212055206299,4.517143726348877],"y":[1.9591147899627686,1.877690315246582],"type":"scatter"},{"line":{"color":"rgba(202, 202, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.517143726348877,7.4828572273254395],"y":[1.877690315246582,1.8776943683624268],"type":"scatter"},{"line":{"color":"rgba(228, 228, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.4828572273254395,10.465579986572266],"y":[1.8776943683624268,1.9591177701950073],"type":"scatter"},{"line":{"color":"rgba(233, 233, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-9.925752965500578e-05,1.5344212055206299],"y":[-2.41519865085138e-05,1.9591147899627686],"type":"scatter"},{"line":{"color":"rgba(220, 233, 233, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5344212055206299,2.991337537765503],"y":[1.9591147899627686,-0.08801081031560898],"type":"scatter"},{"line":{"color":"rgba(233, 233, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.991337537765503,4.517143726348877],"y":[-0.08801081031560898,1.877690315246582],"type":"scatter"},{"line":{"color":"rgba(220, 233, 233, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.517143726348877,6.0],"y":[1.877690315246582,-0.14995171129703522],"type":"scatter"},{"line":{"color":"rgba(220, 233, 233, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.4828572273254395],"y":[-0.14995171129703522,1.8776943683624268],"type":"scatter"},{"line":{"color":"rgba(233, 233, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.4828572273254395,9.008662223815918],"y":[1.8776943683624268,-0.08800731599330902],"type":"scatter"},{"line":{"color":"rgba(220, 233, 233, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.008662223815918,10.465579986572266],"y":[-0.08800731599330902,1.9591177701950073],"type":"scatter"},{"line":{"color":"rgba(233, 233, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.465579986572266,12.000099182128906],"y":[1.9591177701950073,-2.4152677724487148e-05],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-9.925752965500578e-05,2.991337537765503,6.0,9.008662223815918,12.000099182128906,1.5344212055206299,4.517143726348877,7.4828572273254395,10.465579986572266],"y":[-2.41519865085138e-05,-0.08801081031560898,-0.14995171129703522,-0.08800731599330902,-2.4152677724487148e-05,1.9591147899627686,1.877690315246582,1.8776943683624268,1.9591177701950073],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 15.0 mm, Actual: 15.0 mm"}},"name":"6"},{"data":[{"line":{"color":"rgba(239, 239, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-2.7643234716379084e-05,2.989919900894165],"y":[-5.935187346040038e-06,-0.10269278287887573],"type":"scatter"},{"line":{"color":"rgba(220, 239, 239, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.989919900894165,6.0],"y":[-0.10269278287887573,-0.17498815059661865],"type":"scatter"},{"line":{"color":"rgba(220, 239, 239, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.010080337524414],"y":[-0.17498815059661865,-0.10269276797771454],"type":"scatter"},{"line":{"color":"rgba(239, 239, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.010080337524414,12.000027656555176],"y":[-0.10269276797771454,-5.935521130595589e-06],"type":"scatter"},{"line":{"color":"rgba(224, 224, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5402181148529053,4.520017147064209],"y":[1.9523135423660278,1.8572715520858765],"type":"scatter"},{"line":{"color":"rgba(193, 193, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.520017147064209,7.479982852935791],"y":[1.8572715520858765,1.8572715520858765],"type":"scatter"},{"line":{"color":"rgba(224, 224, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.479982852935791,10.459781646728516],"y":[1.8572715520858765,1.9523135423660278],"type":"scatter"},{"line":{"color":"rgba(229, 229, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-2.7643234716379084e-05,1.5402181148529053],"y":[-5.935187346040038e-06,1.9523135423660278],"type":"scatter"},{"line":{"color":"rgba(220, 229, 229, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5402181148529053,2.989919900894165],"y":[1.9523135423660278,-0.10269278287887573],"type":"scatter"},{"line":{"color":"rgba(229, 229, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.989919900894165,4.520017147064209],"y":[-0.10269278287887573,1.8572715520858765],"type":"scatter"},{"line":{"color":"rgba(220, 229, 229, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.520017147064209,6.0],"y":[1.8572715520858765,-0.17498815059661865],"type":"scatter"},{"line":{"color":"rgba(220, 229, 229, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.479982852935791],"y":[-0.17498815059661865,1.8572715520858765],"type":"scatter"},{"line":{"color":"rgba(229, 229, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.479982852935791,9.010080337524414],"y":[1.8572715520858765,-0.10269276797771454],"type":"scatter"},{"line":{"color":"rgba(220, 229, 229, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.010080337524414,10.459781646728516],"y":[-0.10269276797771454,1.9523135423660278],"type":"scatter"},{"line":{"color":"rgba(229, 229, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.459781646728516,12.000027656555176],"y":[1.9523135423660278,-5.935521130595589e-06],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-2.7643234716379084e-05,2.989919900894165,6.0,9.010080337524414,12.000027656555176,1.5402181148529053,4.520017147064209,7.479982852935791,10.459781646728516],"y":[-5.935187346040038e-06,-0.10269278287887573,-0.17498815059661865,-0.10269276797771454,-5.935521130595589e-06,1.9523135423660278,1.8572715520858765,1.8572715520858765,1.9523135423660278],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 17.5 mm, Actual: 17.5 mm"}},"name":"7"},{"data":[{"line":{"color":"rgba(237, 237, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-3.18778220389504e-05,2.9884731769561768],"y":[-7.113845640560612e-06,-0.11738559603691101],"type":"scatter"},{"line":{"color":"rgba(220, 237, 237, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9884731769561768,6.0],"y":[-0.11738559603691101,-0.1999857872724533],"type":"scatter"},{"line":{"color":"rgba(220, 237, 237, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.011526107788086],"y":[-0.1999857872724533,-0.1173851266503334],"type":"scatter"},{"line":{"color":"rgba(237, 237, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.011526107788086,12.000031471252441],"y":[-0.1173851266503334,-7.116666438378161e-06],"type":"scatter"},{"line":{"color":"rgba(219, 219, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5459800958633423,4.522871017456055],"y":[1.9454748630523682,1.8368524312973022],"type":"scatter"},{"line":{"color":"rgba(184, 184, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.522871017456055,7.477128505706787],"y":[1.8368524312973022,1.83685302734375],"type":"scatter"},{"line":{"color":"rgba(219, 219, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.477128505706787,10.454019546508789],"y":[1.83685302734375,1.9454748630523682],"type":"scatter"},{"line":{"color":"rgba(225, 225, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-3.18778220389504e-05,1.5459800958633423],"y":[-7.113845640560612e-06,1.9454748630523682],"type":"scatter"},{"line":{"color":"rgba(220, 225, 225, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5459800958633423,2.9884731769561768],"y":[1.9454748630523682,-0.11738559603691101],"type":"scatter"},{"line":{"color":"rgba(225, 225, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9884731769561768,4.522871017456055],"y":[-0.11738559603691101,1.8368524312973022],"type":"scatter"},{"line":{"color":"rgba(220, 225, 225, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.522871017456055,6.0],"y":[1.8368524312973022,-0.1999857872724533],"type":"scatter"},{"line":{"color":"rgba(220, 225, 225, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.477128505706787],"y":[-0.1999857872724533,1.83685302734375],"type":"scatter"},{"line":{"color":"rgba(225, 225, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.477128505706787,9.011526107788086],"y":[1.83685302734375,-0.1173851266503334],"type":"scatter"},{"line":{"color":"rgba(220, 225, 225, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.011526107788086,10.454019546508789],"y":[-0.1173851266503334,1.9454748630523682],"type":"scatter"},{"line":{"color":"rgba(225, 225, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.454019546508789,12.000031471252441],"y":[1.9454748630523682,-7.116666438378161e-06],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-3.18778220389504e-05,2.9884731769561768,6.0,9.011526107788086,12.000031471252441,1.5459800958633423,4.522871017456055,7.477128505706787,10.454019546508789],"y":[-7.113845640560612e-06,-0.11738559603691101,-0.1999857872724533,-0.1173851266503334,-7.116666438378161e-06,1.9454748630523682,1.8368524312973022,1.83685302734375,1.9454748630523682],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 20.0 mm, Actual: 20.0 mm"}},"name":"8"},{"data":[{"line":{"color":"rgba(235, 235, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-3.5296081478009e-05,2.9870262145996094],"y":[-7.929241292004008e-06,-0.13208454847335815],"type":"scatter"},{"line":{"color":"rgba(220, 234, 234, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9870262145996094,6.0],"y":[-0.13208454847335815,-0.22498415410518646],"type":"scatter"},{"line":{"color":"rgba(220, 234, 234, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.01297378540039],"y":[-0.22498415410518646,-0.13208456337451935],"type":"scatter"},{"line":{"color":"rgba(235, 235, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.01297378540039,12.000035285949707],"y":[-0.13208456337451935,-7.929268576845061e-06],"type":"scatter"},{"line":{"color":"rgba(215, 215, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.551748275756836,4.525722503662109],"y":[1.9386279582977295,1.816422700881958],"type":"scatter"},{"line":{"color":"rgba(175, 175, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.525722503662109,7.474277496337891],"y":[1.816422700881958,1.816422700881958],"type":"scatter"},{"line":{"color":"rgba(215, 215, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.474277496337891,10.448251724243164],"y":[1.816422700881958,1.9386279582977295],"type":"scatter"},{"line":{"color":"rgba(222, 222, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-3.5296081478009e-05,1.551748275756836],"y":[-7.929241292004008e-06,1.9386279582977295],"type":"scatter"},{"line":{"color":"rgba(220, 221, 221, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.551748275756836,2.9870262145996094],"y":[1.9386279582977295,-0.13208454847335815],"type":"scatter"},{"line":{"color":"rgba(222, 222, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9870262145996094,4.525722503662109],"y":[-0.13208454847335815,1.816422700881958],"type":"scatter"},{"line":{"color":"rgba(220, 222, 222, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.525722503662109,6.0],"y":[1.816422700881958,-0.22498415410518646],"type":"scatter"},{"line":{"color":"rgba(220, 222, 222, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.474277496337891],"y":[-0.22498415410518646,1.816422700881958],"type":"scatter"},{"line":{"color":"rgba(222, 222, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.474277496337891,9.01297378540039],"y":[1.816422700881958,-0.13208456337451935],"type":"scatter"},{"line":{"color":"rgba(220, 221, 221, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.01297378540039,10.448251724243164],"y":[-0.13208456337451935,1.9386279582977295],"type":"scatter"},{"line":{"color":"rgba(222, 222, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.448251724243164,12.000035285949707],"y":[1.9386279582977295,-7.929268576845061e-06],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-3.5296081478009e-05,2.9870262145996094,6.0,9.01297378540039,12.000035285949707,1.551748275756836,4.525722503662109,7.474277496337891,10.448251724243164],"y":[-7.929241292004008e-06,-0.13208454847335815,-0.22498415410518646,-0.13208456337451935,-7.929268576845061e-06,1.9386279582977295,1.816422700881958,1.816422700881958,1.9386279582977295],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 22.5 mm, Actual: 22.5 mm"}},"name":"9"},{"data":[{"line":{"color":"rgba(233, 233, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.4616327916883165e-06,2.9855687618255615],"y":[-2.135773456757306e-06,-0.14679701626300812],"type":"scatter"},{"line":{"color":"rgba(220, 232, 232, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9855687618255615,6.0],"y":[-0.14679701626300812,-0.25000137090682983],"type":"scatter"},{"line":{"color":"rgba(220, 232, 232, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.01443099975586],"y":[-0.25000137090682983,-0.14679701626300812],"type":"scatter"},{"line":{"color":"rgba(233, 233, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.01443099975586,11.999998092651367],"y":[-0.14679701626300812,-2.1353971533244476e-06],"type":"scatter"},{"line":{"color":"rgba(211, 211, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5574942827224731,4.528559684753418],"y":[1.931763768196106,1.795980453491211],"type":"scatter"},{"line":{"color":"rgba(167, 167, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.528559684753418,7.471440315246582],"y":[1.795980453491211,1.795980453491211],"type":"scatter"},{"line":{"color":"rgba(211, 211, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.471440315246582,10.442505836486816],"y":[1.795980453491211,1.931763768196106],"type":"scatter"},{"line":{"color":"rgba(218, 218, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.4616327916883165e-06,1.5574942827224731],"y":[-2.135773456757306e-06,1.931763768196106],"type":"scatter"},{"line":{"color":"rgba(220, 218, 218, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5574942827224731,2.9855687618255615],"y":[1.931763768196106,-0.14679701626300812],"type":"scatter"},{"line":{"color":"rgba(218, 218, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9855687618255615,4.528559684753418],"y":[-0.14679701626300812,1.795980453491211],"type":"scatter"},{"line":{"color":"rgba(220, 218, 218, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.528559684753418,6.0],"y":[1.795980453491211,-0.25000137090682983],"type":"scatter"},{"line":{"color":"rgba(220, 218, 218, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.471440315246582],"y":[-0.25000137090682983,1.795980453491211],"type":"scatter"},{"line":{"color":"rgba(218, 218, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.471440315246582,9.01443099975586],"y":[1.795980453491211,-0.14679701626300812],"type":"scatter"},{"line":{"color":"rgba(220, 218, 218, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.01443099975586,10.442505836486816],"y":[-0.14679701626300812,1.931763768196106],"type":"scatter"},{"line":{"color":"rgba(218, 218, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.442505836486816,11.999998092651367],"y":[1.931763768196106,-2.1353971533244476e-06],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[1.4616327916883165e-06,2.9855687618255615,6.0,9.01443099975586,11.999998092651367,1.5574942827224731,4.528559684753418,7.471440315246582,10.442505836486816],"y":[-2.135773456757306e-06,-0.14679701626300812,-0.25000137090682983,-0.14679701626300812,-2.1353971533244476e-06,1.931763768196106,1.795980453491211,1.795980453491211,1.931763768196106],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 25.0 mm, Actual: 25.0 mm"}},"name":"10"},{"data":[{"line":{"color":"rgba(231, 231, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-4.2275914893252775e-05,2.984126091003418],"y":[-9.251374649466015e-06,-0.1615026295185089],"type":"scatter"},{"line":{"color":"rgba(220, 230, 230, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.984126091003418,6.0],"y":[-0.1615026295185089,-0.2749815285205841],"type":"scatter"},{"line":{"color":"rgba(220, 230, 230, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.015873908996582],"y":[-0.2749815285205841,-0.16150207817554474],"type":"scatter"},{"line":{"color":"rgba(231, 231, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.015873908996582,12.000041961669922],"y":[-0.16150207817554474,-9.248173228115775e-06],"type":"scatter"},{"line":{"color":"rgba(206, 206, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.563293218612671,4.531419277191162],"y":[1.9249165058135986,1.775539755821228],"type":"scatter"},{"line":{"color":"rgba(158, 158, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.531419277191162,7.468580722808838],"y":[1.775539755821228,1.7755401134490967],"type":"scatter"},{"line":{"color":"rgba(206, 206, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.468580722808838,10.43670654296875],"y":[1.7755401134490967,1.9249168634414673],"type":"scatter"},{"line":{"color":"rgba(214, 214, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-4.2275914893252775e-05,1.563293218612671],"y":[-9.251374649466015e-06,1.9249165058135986],"type":"scatter"},{"line":{"color":"rgba(220, 214, 214, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.563293218612671,2.984126091003418],"y":[1.9249165058135986,-0.1615026295185089],"type":"scatter"},{"line":{"color":"rgba(214, 214, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.984126091003418,4.531419277191162],"y":[-0.1615026295185089,1.775539755821228],"type":"scatter"},{"line":{"color":"rgba(220, 215, 215, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.531419277191162,6.0],"y":[1.775539755821228,-0.2749815285205841],"type":"scatter"},{"line":{"color":"rgba(220, 215, 215, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.468580722808838],"y":[-0.2749815285205841,1.7755401134490967],"type":"scatter"},{"line":{"color":"rgba(214, 214, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.468580722808838,9.015873908996582],"y":[1.7755401134490967,-0.16150207817554474],"type":"scatter"},{"line":{"color":"rgba(220, 214, 214, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.015873908996582,10.43670654296875],"y":[-0.16150207817554474,1.9249168634414673],"type":"scatter"},{"line":{"color":"rgba(214, 214, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.43670654296875,12.000041961669922],"y":[1.9249168634414673,-9.248173228115775e-06],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-4.2275914893252775e-05,2.984126091003418,6.0,9.015873908996582,12.000041961669922,1.563293218612671,4.531419277191162,7.468580722808838,10.43670654296875],"y":[-9.251374649466015e-06,-0.1615026295185089,-0.2749815285205841,-0.16150207817554474,-9.248173228115775e-06,1.9249165058135986,1.775539755821228,1.7755401134490967,1.9249168634414673],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 27.5 mm, Actual: 27.5 mm"}},"name":"11"},{"data":[{"line":{"color":"rgba(229, 229, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-4.5990076614543796e-05,2.9826743602752686],"y":[-1.0268139703839552e-05,-0.17622195184230804],"type":"scatter"},{"line":{"color":"rgba(220, 227, 227, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9826743602752686,6.0],"y":[-0.17622195184230804,-0.29997947812080383],"type":"scatter"},{"line":{"color":"rgba(220, 227, 227, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.017325401306152],"y":[-0.29997947812080383,-0.1762188971042633],"type":"scatter"},{"line":{"color":"rgba(229, 229, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.017325401306152,12.000045776367188],"y":[-0.1762188971042633,-1.0265202945447527e-05],"type":"scatter"},{"line":{"color":"rgba(202, 202, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5690760612487793,4.534268379211426],"y":[1.9180489778518677,1.755085825920105],"type":"scatter"},{"line":{"color":"rgba(149, 149, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.534268379211426,7.465734004974365],"y":[1.755085825920105,1.7550861835479736],"type":"scatter"},{"line":{"color":"rgba(202, 202, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.465734004974365,10.430926322937012],"y":[1.7550861835479736,1.9180504083633423],"type":"scatter"},{"line":{"color":"rgba(211, 211, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-4.5990076614543796e-05,1.5690760612487793],"y":[-1.0268139703839552e-05,1.9180489778518677],"type":"scatter"},{"line":{"color":"rgba(220, 210, 210, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5690760612487793,2.9826743602752686],"y":[1.9180489778518677,-0.17622195184230804],"type":"scatter"},{"line":{"color":"rgba(211, 211, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9826743602752686,4.534268379211426],"y":[-0.17622195184230804,1.755085825920105],"type":"scatter"},{"line":{"color":"rgba(220, 211, 211, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.534268379211426,6.0],"y":[1.755085825920105,-0.29997947812080383],"type":"scatter"},{"line":{"color":"rgba(220, 211, 211, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.465734004974365],"y":[-0.29997947812080383,1.7550861835479736],"type":"scatter"},{"line":{"color":"rgba(211, 211, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.465734004974365,9.017325401306152],"y":[1.7550861835479736,-0.1762188971042633],"type":"scatter"},{"line":{"color":"rgba(220, 210, 210, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.017325401306152,10.430926322937012],"y":[-0.1762188971042633,1.9180504083633423],"type":"scatter"},{"line":{"color":"rgba(211, 211, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.430926322937012,12.000045776367188],"y":[1.9180504083633423,-1.0265202945447527e-05],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-4.5990076614543796e-05,2.9826743602752686,6.0,9.017325401306152,12.000045776367188,1.5690760612487793,4.534268379211426,7.465734004974365,10.430926322937012],"y":[-1.0268139703839552e-05,-0.17622195184230804,-0.29997947812080383,-0.1762188971042633,-1.0265202945447527e-05,1.9180489778518677,1.755085825920105,1.7550861835479736,1.9180504083633423],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 30.0 mm, Actual: 30.0 mm"}},"name":"12"},{"data":[{"line":{"color":"rgba(227, 227, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-4.807196091860533e-05,2.9812185764312744],"y":[-9.435568244953174e-06,-0.1909453570842743],"type":"scatter"},{"line":{"color":"rgba(220, 225, 225, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9812185764312744,6.0],"y":[-0.1909453570842743,-0.3249834477901459],"type":"scatter"},{"line":{"color":"rgba(220, 225, 225, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.018781661987305],"y":[-0.3249834477901459,-0.19094286859035492],"type":"scatter"},{"line":{"color":"rgba(227, 227, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.018781661987305,12.00004768371582],"y":[-0.19094286859035492,-9.43108261708403e-06],"type":"scatter"},{"line":{"color":"rgba(197, 197, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5748580694198608,4.537112236022949],"y":[1.9111769199371338,1.7346243858337402],"type":"scatter"},{"line":{"color":"rgba(141, 141, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.537112236022949,7.462889194488525],"y":[1.7346243858337402,1.7346230745315552],"type":"scatter"},{"line":{"color":"rgba(197, 197, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.462889194488525,10.425143241882324],"y":[1.7346230745315552,1.9111781120300293],"type":"scatter"},{"line":{"color":"rgba(207, 207, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-4.807196091860533e-05,1.5748580694198608],"y":[-9.435568244953174e-06,1.9111769199371338],"type":"scatter"},{"line":{"color":"rgba(220, 207, 207, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5748580694198608,2.9812185764312744],"y":[1.9111769199371338,-0.1909453570842743],"type":"scatter"},{"line":{"color":"rgba(207, 207, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9812185764312744,4.537112236022949],"y":[-0.1909453570842743,1.7346243858337402],"type":"scatter"},{"line":{"color":"rgba(220, 208, 208, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.537112236022949,6.0],"y":[1.7346243858337402,-0.3249834477901459],"type":"scatter"},{"line":{"color":"rgba(220, 207, 207, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.462889194488525],"y":[-0.3249834477901459,1.7346230745315552],"type":"scatter"},{"line":{"color":"rgba(207, 207, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.462889194488525,9.018781661987305],"y":[1.7346230745315552,-0.19094286859035492],"type":"scatter"},{"line":{"color":"rgba(220, 207, 207, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.018781661987305,10.425143241882324],"y":[-0.19094286859035492,1.9111781120300293],"type":"scatter"},{"line":{"color":"rgba(207, 207, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.425143241882324,12.00004768371582],"y":[1.9111781120300293,-9.43108261708403e-06],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-4.807196091860533e-05,2.9812185764312744,6.0,9.018781661987305,12.00004768371582,1.5748580694198608,4.537112236022949,7.462889194488525,10.425143241882324],"y":[-9.435568244953174e-06,-0.1909453570842743,-0.3249834477901459,-0.19094286859035492,-9.43108261708403e-06,1.9111769199371338,1.7346243858337402,1.7346230745315552,1.9111781120300293],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 32.5 mm, Actual: 32.5 mm"}},"name":"13"},{"data":[{"line":{"color":"rgba(225, 225, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-4.861165507463738e-05,2.979763984680176],"y":[-8.958848411566578e-06,-0.20567132532596588],"type":"scatter"},{"line":{"color":"rgba(220, 223, 223, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.979763984680176,6.0],"y":[-0.20567132532596588,-0.34998151659965515],"type":"scatter"},{"line":{"color":"rgba(220, 223, 223, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.020236015319824],"y":[-0.34998151659965515,-0.2056712657213211],"type":"scatter"},{"line":{"color":"rgba(225, 225, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.020236015319824,12.000048637390137],"y":[-0.2056712657213211,-8.96062920219265e-06],"type":"scatter"},{"line":{"color":"rgba(193, 193, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5806485414505005,4.539956092834473],"y":[1.9043004512786865,1.7141563892364502],"type":"scatter"},{"line":{"color":"rgba(132, 132, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.539956092834473,7.460043907165527],"y":[1.7141563892364502,1.7141563892364502],"type":"scatter"},{"line":{"color":"rgba(193, 193, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.460043907165527,10.419351577758789],"y":[1.7141563892364502,1.9043004512786865],"type":"scatter"},{"line":{"color":"rgba(203, 203, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-4.861165507463738e-05,1.5806485414505005],"y":[-8.958848411566578e-06,1.9043004512786865],"type":"scatter"},{"line":{"color":"rgba(220, 203, 203, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5806485414505005,2.979763984680176],"y":[1.9043004512786865,-0.20567132532596588],"type":"scatter"},{"line":{"color":"rgba(203, 203, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.979763984680176,4.539956092834473],"y":[-0.20567132532596588,1.7141563892364502],"type":"scatter"},{"line":{"color":"rgba(220, 204, 204, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.539956092834473,6.0],"y":[1.7141563892364502,-0.34998151659965515],"type":"scatter"},{"line":{"color":"rgba(220, 204, 204, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.460043907165527],"y":[-0.34998151659965515,1.7141563892364502],"type":"scatter"},{"line":{"color":"rgba(203, 203, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.460043907165527,9.020236015319824],"y":[1.7141563892364502,-0.2056712657213211],"type":"scatter"},{"line":{"color":"rgba(220, 203, 203, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.020236015319824,10.419351577758789],"y":[-0.2056712657213211,1.9043004512786865],"type":"scatter"},{"line":{"color":"rgba(203, 203, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.419351577758789,12.000048637390137],"y":[1.9043004512786865,-8.96062920219265e-06],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-4.861165507463738e-05,2.979763984680176,6.0,9.020236015319824,12.000048637390137,1.5806485414505005,4.539956092834473,7.460043907165527,10.419351577758789],"y":[-8.958848411566578e-06,-0.20567132532596588,-0.34998151659965515,-0.2056712657213211,-8.96062920219265e-06,1.9043004512786865,1.7141563892364502,1.7141563892364502,1.9043004512786865],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 35.0 mm, Actual: 35.0 mm"}},"name":"14"},{"data":[{"line":{"color":"rgba(223, 223, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-5.765792593592778e-05,2.978306293487549],"y":[-1.2404124390741345e-05,-0.22040623426437378],"type":"scatter"},{"line":{"color":"rgba(220, 221, 221, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.978306293487549,6.0],"y":[-0.22040623426437378,-0.37497544288635254],"type":"scatter"},{"line":{"color":"rgba(220, 221, 221, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.021693229675293],"y":[-0.37497544288635254,-0.22040578722953796],"type":"scatter"},{"line":{"color":"rgba(223, 223, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.021693229675293,12.000057220458984],"y":[-0.22040578722953796,-1.2405521374603268e-05],"type":"scatter"},{"line":{"color":"rgba(189, 189, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.586436152458191,4.5427961349487305],"y":[1.8974096775054932,1.6936808824539185],"type":"scatter"},{"line":{"color":"rgba(123, 123, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.5427961349487305,7.457202911376953],"y":[1.6936808824539185,1.6936798095703125],"type":"scatter"},{"line":{"color":"rgba(189, 189, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.457202911376953,10.41356372833252],"y":[1.6936798095703125,1.8974097967147827],"type":"scatter"},{"line":{"color":"rgba(200, 200, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-5.765792593592778e-05,1.586436152458191],"y":[-1.2404124390741345e-05,1.8974096775054932],"type":"scatter"},{"line":{"color":"rgba(220, 199, 199, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.586436152458191,2.978306293487549],"y":[1.8974096775054932,-0.22040623426437378],"type":"scatter"},{"line":{"color":"rgba(200, 200, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.978306293487549,4.5427961349487305],"y":[-0.22040623426437378,1.6936808824539185],"type":"scatter"},{"line":{"color":"rgba(220, 200, 200, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.5427961349487305,6.0],"y":[1.6936808824539185,-0.37497544288635254],"type":"scatter"},{"line":{"color":"rgba(220, 200, 200, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.457202911376953],"y":[-0.37497544288635254,1.6936798095703125],"type":"scatter"},{"line":{"color":"rgba(200, 200, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.457202911376953,9.021693229675293],"y":[1.6936798095703125,-0.22040578722953796],"type":"scatter"},{"line":{"color":"rgba(220, 199, 199, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.021693229675293,10.41356372833252],"y":[-0.22040578722953796,1.8974097967147827],"type":"scatter"},{"line":{"color":"rgba(200, 200, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.41356372833252,12.000057220458984],"y":[1.8974097967147827,-1.2405521374603268e-05],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-5.765792593592778e-05,2.978306293487549,6.0,9.021693229675293,12.000057220458984,1.586436152458191,4.5427961349487305,7.457202911376953,10.41356372833252],"y":[-1.2404124390741345e-05,-0.22040623426437378,-0.37497544288635254,-0.22040578722953796,-1.2405521374603268e-05,1.8974096775054932,1.6936808824539185,1.6936798095703125,1.8974097967147827],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 37.5 mm, Actual: 37.5 mm"}},"name":"15"},{"data":[{"line":{"color":"rgba(220, 220, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-6.166477396618575e-05,2.9768481254577637],"y":[-1.3576569472206756e-05,-0.2351464331150055],"type":"scatter"},{"line":{"color":"rgba(220, 218, 218, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9768481254577637,6.0],"y":[-0.2351464331150055,-0.3999728560447693],"type":"scatter"},{"line":{"color":"rgba(220, 218, 218, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.023151397705078],"y":[-0.3999728560447693,-0.2351464033126831],"type":"scatter"},{"line":{"color":"rgba(220, 220, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.023151397705078,12.000061988830566],"y":[-0.2351464033126831,-1.3577277059084736e-05],"type":"scatter"},{"line":{"color":"rgba(184, 184, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5922318696975708,4.545635223388672],"y":[1.890516996383667,1.6731972694396973],"type":"scatter"},{"line":{"color":"rgba(114, 114, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.545635223388672,7.454364776611328],"y":[1.6731972694396973,1.6731972694396973],"type":"scatter"},{"line":{"color":"rgba(184, 184, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.454364776611328,10.407768249511719],"y":[1.6731972694396973,1.890516996383667],"type":"scatter"},{"line":{"color":"rgba(196, 196, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-6.166477396618575e-05,1.5922318696975708],"y":[-1.3576569472206756e-05,1.890516996383667],"type":"scatter"},{"line":{"color":"rgba(220, 196, 196, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5922318696975708,2.9768481254577637],"y":[1.890516996383667,-0.2351464331150055],"type":"scatter"},{"line":{"color":"rgba(196, 196, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9768481254577637,4.545635223388672],"y":[-0.2351464331150055,1.6731972694396973],"type":"scatter"},{"line":{"color":"rgba(220, 197, 197, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.545635223388672,6.0],"y":[1.6731972694396973,-0.3999728560447693],"type":"scatter"},{"line":{"color":"rgba(220, 197, 197, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.454364776611328],"y":[-0.3999728560447693,1.6731972694396973],"type":"scatter"},{"line":{"color":"rgba(196, 196, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.454364776611328,9.023151397705078],"y":[1.6731972694396973,-0.2351464033126831],"type":"scatter"},{"line":{"color":"rgba(220, 196, 196, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.023151397705078,10.407768249511719],"y":[-0.2351464033126831,1.890516996383667],"type":"scatter"},{"line":{"color":"rgba(196, 196, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.407768249511719,12.000061988830566],"y":[1.890516996383667,-1.3577277059084736e-05],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-6.166477396618575e-05,2.9768481254577637,6.0,9.023151397705078,12.000061988830566,1.5922318696975708,4.545635223388672,7.454364776611328,10.407768249511719],"y":[-1.3576569472206756e-05,-0.2351464331150055,-0.3999728560447693,-0.2351464033126831,-1.3577277059084736e-05,1.890516996383667,1.6731972694396973,1.6731972694396973,1.890516996383667],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 40.0 mm, Actual: 40.0 mm"}},"name":"16"},{"data":[{"line":{"color":"rgba(218, 218, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-7.525256660301238e-05,2.9753780364990234],"y":[-1.9700471966643818e-05,-0.24989765882492065],"type":"scatter"},{"line":{"color":"rgba(220, 216, 216, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9753780364990234,6.0],"y":[-0.24989765882492065,-0.42496827244758606],"type":"scatter"},{"line":{"color":"rgba(220, 216, 216, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.024621963500977],"y":[-0.42496827244758606,-0.24989715218544006],"type":"scatter"},{"line":{"color":"rgba(218, 218, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.024621963500977,12.000075340270996],"y":[-0.24989715218544006,-1.9705137674463913e-05],"type":"scatter"},{"line":{"color":"rgba(180, 180, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5980170965194702,4.548465728759766],"y":[1.8836050033569336,1.6527025699615479],"type":"scatter"},{"line":{"color":"rgba(106, 106, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.548465728759766,7.451533794403076],"y":[1.6527025699615479,1.652701735496521],"type":"scatter"},{"line":{"color":"rgba(180, 180, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.451533794403076,10.401983261108398],"y":[1.652701735496521,1.88360595703125],"type":"scatter"},{"line":{"color":"rgba(192, 192, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-7.525256660301238e-05,1.5980170965194702],"y":[-1.9700471966643818e-05,1.8836050033569336],"type":"scatter"},{"line":{"color":"rgba(220, 192, 192, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.5980170965194702,2.9753780364990234],"y":[1.8836050033569336,-0.24989765882492065],"type":"scatter"},{"line":{"color":"rgba(192, 192, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9753780364990234,4.548465728759766],"y":[-0.24989765882492065,1.6527025699615479],"type":"scatter"},{"line":{"color":"rgba(220, 193, 193, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.548465728759766,6.0],"y":[1.6527025699615479,-0.42496827244758606],"type":"scatter"},{"line":{"color":"rgba(220, 193, 193, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.451533794403076],"y":[-0.42496827244758606,1.652701735496521],"type":"scatter"},{"line":{"color":"rgba(192, 192, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.451533794403076,9.024621963500977],"y":[1.652701735496521,-0.24989715218544006],"type":"scatter"},{"line":{"color":"rgba(220, 192, 192, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.024621963500977,10.401983261108398],"y":[-0.24989715218544006,1.88360595703125],"type":"scatter"},{"line":{"color":"rgba(192, 192, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.401983261108398,12.000075340270996],"y":[1.88360595703125,-1.9705137674463913e-05],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-7.525256660301238e-05,2.9753780364990234,6.0,9.024621963500977,12.000075340270996,1.5980170965194702,4.548465728759766,7.451533794403076,10.401983261108398],"y":[-1.9700471966643818e-05,-0.24989765882492065,-0.42496827244758606,-0.24989715218544006,-1.9705137674463913e-05,1.8836050033569336,1.6527025699615479,1.652701735496521,1.88360595703125],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 42.5 mm, Actual: 42.5 mm"}},"name":"17"},{"data":[{"line":{"color":"rgba(216, 216, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-7.517490303143859e-05,2.9739186763763428],"y":[-1.793332921806723e-05,-0.2646472454071045],"type":"scatter"},{"line":{"color":"rgba(220, 214, 214, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9739186763763428,6.0],"y":[-0.2646472454071045,-0.4499683082103729],"type":"scatter"},{"line":{"color":"rgba(220, 214, 214, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.026081085205078],"y":[-0.4499683082103729,-0.26464733481407166],"type":"scatter"},{"line":{"color":"rgba(216, 216, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.026081085205078,12.000075340270996],"y":[-0.26464733481407166,-1.793255978554953e-05],"type":"scatter"},{"line":{"color":"rgba(175, 175, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.6038285493850708,4.55130672454834],"y":[1.8767017126083374,1.6322028636932373],"type":"scatter"},{"line":{"color":"rgba(97, 97, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.55130672454834,7.44869327545166],"y":[1.6322028636932373,1.6322028636932373],"type":"scatter"},{"line":{"color":"rgba(175, 175, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.44869327545166,10.396171569824219],"y":[1.6322028636932373,1.8767017126083374],"type":"scatter"},{"line":{"color":"rgba(189, 189, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-7.517490303143859e-05,1.6038285493850708],"y":[-1.793332921806723e-05,1.8767017126083374],"type":"scatter"},{"line":{"color":"rgba(220, 188, 188, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.6038285493850708,2.9739186763763428],"y":[1.8767017126083374,-0.2646472454071045],"type":"scatter"},{"line":{"color":"rgba(189, 189, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9739186763763428,4.55130672454834],"y":[-0.2646472454071045,1.6322028636932373],"type":"scatter"},{"line":{"color":"rgba(220, 190, 190, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.55130672454834,6.0],"y":[1.6322028636932373,-0.4499683082103729],"type":"scatter"},{"line":{"color":"rgba(220, 190, 190, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.44869327545166],"y":[-0.4499683082103729,1.6322028636932373],"type":"scatter"},{"line":{"color":"rgba(189, 189, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.44869327545166,9.026081085205078],"y":[1.6322028636932373,-0.26464733481407166],"type":"scatter"},{"line":{"color":"rgba(220, 188, 188, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.026081085205078,10.396171569824219],"y":[-0.26464733481407166,1.8767017126083374],"type":"scatter"},{"line":{"color":"rgba(189, 189, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.396171569824219,12.000075340270996],"y":[1.8767017126083374,-1.793255978554953e-05],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-7.517490303143859e-05,2.9739186763763428,6.0,9.026081085205078,12.000075340270996,1.6038285493850708,4.55130672454834,7.44869327545166,10.396171569824219],"y":[-1.793332921806723e-05,-0.2646472454071045,-0.4499683082103729,-0.26464733481407166,-1.793255978554953e-05,1.8767017126083374,1.6322028636932373,1.6322028636932373,1.8767017126083374],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 45.0 mm, Actual: 45.0 mm"}},"name":"18"},{"data":[{"line":{"color":"rgba(214, 214, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-7.339524745475501e-05,2.972460985183716],"y":[-1.613657695997972e-05,-0.27939966320991516],"type":"scatter"},{"line":{"color":"rgba(220, 211, 211, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.972460985183716,6.0],"y":[-0.27939966320991516,-0.4749677777290344],"type":"scatter"},{"line":{"color":"rgba(220, 211, 211, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.027539253234863],"y":[-0.4749677777290344,-0.2794020175933838],"type":"scatter"},{"line":{"color":"rgba(214, 214, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.027539253234863,12.000073432922363],"y":[-0.2794020175933838,-1.61282569024479e-05],"type":"scatter"},{"line":{"color":"rgba(171, 171, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.6096478700637817,4.554148197174072],"y":[1.8697978258132935,1.611697793006897],"type":"scatter"},{"line":{"color":"rgba(88, 88, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.554148197174072,7.4458537101745605],"y":[1.611697793006897,1.611696720123291],"type":"scatter"},{"line":{"color":"rgba(171, 171, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.4458537101745605,10.39035415649414],"y":[1.611696720123291,1.869799256324768],"type":"scatter"},{"line":{"color":"rgba(185, 185, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-7.339524745475501e-05,1.6096478700637817],"y":[-1.613657695997972e-05,1.8697978258132935],"type":"scatter"},{"line":{"color":"rgba(220, 185, 185, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.6096478700637817,2.972460985183716],"y":[1.8697978258132935,-0.27939966320991516],"type":"scatter"},{"line":{"color":"rgba(185, 185, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.972460985183716,4.554148197174072],"y":[-0.27939966320991516,1.611697793006897],"type":"scatter"},{"line":{"color":"rgba(220, 186, 186, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.554148197174072,6.0],"y":[1.611697793006897,-0.4749677777290344],"type":"scatter"},{"line":{"color":"rgba(220, 186, 186, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.4458537101745605],"y":[-0.4749677777290344,1.611696720123291],"type":"scatter"},{"line":{"color":"rgba(185, 185, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.4458537101745605,9.027539253234863],"y":[1.611696720123291,-0.2794020175933838],"type":"scatter"},{"line":{"color":"rgba(220, 185, 185, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.027539253234863,10.39035415649414],"y":[-0.2794020175933838,1.869799256324768],"type":"scatter"},{"line":{"color":"rgba(185, 185, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.39035415649414,12.000073432922363],"y":[1.869799256324768,-1.61282569024479e-05],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-7.339524745475501e-05,2.972460985183716,6.0,9.027539253234863,12.000073432922363,1.6096478700637817,4.554148197174072,7.4458537101745605,10.39035415649414],"y":[-1.613657695997972e-05,-0.27939966320991516,-0.4749677777290344,-0.2794020175933838,-1.61282569024479e-05,1.8697978258132935,1.611697793006897,1.611696720123291,1.869799256324768],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 47.5 mm, Actual: 47.5 mm"}},"name":"19"},{"data":[{"line":{"color":"rgba(212, 212, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-7.651351916138083e-05,2.9709954261779785],"y":[-1.6534653695998713e-05,-0.29416677355766296],"type":"scatter"},{"line":{"color":"rgba(220, 209, 209, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9709954261779785,6.0],"y":[-0.29416677355766296,-0.4999668598175049],"type":"scatter"},{"line":{"color":"rgba(220, 209, 209, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,9.02900505065918],"y":[-0.4999668598175049,-0.29416677355766296],"type":"scatter"},{"line":{"color":"rgba(212, 212, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.02900505065918,12.000076293945312],"y":[-0.29416677355766296,-1.6536567272851244e-05],"type":"scatter"},{"line":{"color":"rgba(167, 167, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.6154606342315674,4.556978702545166],"y":[1.8628766536712646,1.591179609298706],"type":"scatter"},{"line":{"color":"rgba(80, 80, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.556978702545166,7.443021297454834],"y":[1.591179609298706,1.591179609298706],"type":"scatter"},{"line":{"color":"rgba(167, 167, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.443021297454834,10.384539604187012],"y":[1.591179609298706,1.8628766536712646],"type":"scatter"},{"line":{"color":"rgba(181, 181, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[-7.651351916138083e-05,1.6154606342315674],"y":[-1.6534653695998713e-05,1.8628766536712646],"type":"scatter"},{"line":{"color":"rgba(220, 181, 181, 1)","width":4},"mode":"lines","showlegend":false,"x":[1.6154606342315674,2.9709954261779785],"y":[1.8628766536712646,-0.29416677355766296],"type":"scatter"},{"line":{"color":"rgba(181, 181, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[2.9709954261779785,4.556978702545166],"y":[-0.29416677355766296,1.591179609298706],"type":"scatter"},{"line":{"color":"rgba(220, 183, 183, 1)","width":4},"mode":"lines","showlegend":false,"x":[4.556978702545166,6.0],"y":[1.591179609298706,-0.4999668598175049],"type":"scatter"},{"line":{"color":"rgba(220, 183, 183, 1)","width":4},"mode":"lines","showlegend":false,"x":[6.0,7.443021297454834],"y":[-0.4999668598175049,1.591179609298706],"type":"scatter"},{"line":{"color":"rgba(181, 181, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[7.443021297454834,9.02900505065918],"y":[1.591179609298706,-0.29416677355766296],"type":"scatter"},{"line":{"color":"rgba(220, 181, 181, 1)","width":4},"mode":"lines","showlegend":false,"x":[9.02900505065918,10.384539604187012],"y":[-0.29416677355766296,1.8628766536712646],"type":"scatter"},{"line":{"color":"rgba(181, 181, 220, 1)","width":4},"mode":"lines","showlegend":false,"x":[10.384539604187012,12.000076293945312],"y":[1.8628766536712646,-1.6536567272851244e-05],"type":"scatter"},{"marker":{"color":"steelblue","size":8},"mode":"markers","showlegend":false,"x":[-7.651351916138083e-05,2.9709954261779785,6.0,9.02900505065918,12.000076293945312,1.6154606342315674,4.556978702545166,7.443021297454834,10.384539604187012],"y":[-1.6534653695998713e-05,-0.29416677355766296,-0.4999668598175049,-0.29416677355766296,-1.6536567272851244e-05,1.8628766536712646,1.591179609298706,1.591179609298706,1.8628766536712646],"type":"scatter"}],"layout":{"title":{"text":"Prescribed Displacement: 50.0 mm, Actual: 50.0 mm"}},"name":"20"}]);
                        })                };            </script>        </div></div></div>
</div>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../cloth_draping/"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Cloth draping</p>
      </div>
    </a>
    <a class="right-next"
       href="../../vision/"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Vision</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#truss-element-theory">Truss element theory</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cost-functions">Cost functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#truss-geometry">Truss geometry</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#problem-construction">Problem construction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#solving">Solving</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#results-and-visualization">Results and visualization</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#varying-displacements">Varying displacements</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By brentyi
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2026.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>