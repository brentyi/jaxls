<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Cloth draping" href="cloth_draping.html" /><link rel="prev" title="Mechanics" href="index.html" />

    <!-- Generated with Sphinx 8.0.2 and Furo 2024.08.06 -->
        <title>Spring equilibrium - jaxls</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=6517d2d4" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-code-background: #f4f4f4;
  --color-code-foreground: #000;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">jaxls</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a
  class="sidebar-brand"
  href="../../index.html"
  style="margin-top: 0.75em"
>
  
  <span class="sidebar-brand-text">jaxls</span>

  
</a>

<div style="text-align: left; padding: 0 1em 1em 1em">
  <a href="https://github.com/brentyi/jaxls">
    <img src="https://img.shields.io/github/stars/brentyi/jaxls?style=social" alt="GitHub stars">
  </a>
</div><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../guide/basics.html">Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/tips_and_gotchas.html">Tips and gotchas</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../guide/advanced/index.html">Advanced</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Advanced</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../guide/advanced/non_euclidean.html">Non-Euclidean variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/advanced/custom_jacobians.html">Custom Jacobians</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/advanced/constraints.html">Constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/advanced/robust_costs.html">Robust costs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/advanced/covariance.html">Covariance estimation</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Mechanics</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Mechanics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Spring equilibrium</a></li>
<li class="toctree-l2"><a class="reference internal" href="cloth_draping.html">Cloth draping</a></li>
<li class="toctree-l2"><a class="reference internal" href="truss_analysis.html">Truss analysis</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../vision/index.html">Vision</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Vision</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../vision/camera_calibration.html">Camera calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vision/pose_graph_2d.html">SE(2) pose graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vision/pose_graph_3d.html">SE(3) pose graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vision/bundle_adjustment.html">Bundle adjustment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vision/smplh_shape_fitting.html">SMPL-H shape fitting</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../robotics/index.html">Robotics</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Robotics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../robotics/inverse_kinematics.html">Inverse kinematics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../robotics/obstacle_avoidance.html">Obstacle avoidance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../robotics/cart_pole_collocation.html">Cart-pole (collocation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../robotics/cart_pole_shooting.html">Cart-pole (shooting)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../robotics/cam_design.html">Cam profile optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../robotics/imu_sensor_fusion.html">IMU fusion + calibration</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../portfolio/index.html">Portfolio optimization</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Portfolio optimization</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../portfolio/mean_variance.html">Mean-variance allocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../portfolio/manifold_allocation.html">Manifold allocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../portfolio/reparameterized_allocation.html">Reparameterized allocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../portfolio/cvar_optimization.html">CVaR allocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../portfolio/black_litterman.html">Black-Litterman allocation</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/core.html">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/lie_group_variables.html">Lie group variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/solver_config.html">Solver configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/covariance.html">Covariance Estimation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Design Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../design/typed_api.html">Typed API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design/sparse_matrices.html">Sparse matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design/traced_vs_static.html">What’s traced?</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../../_sources/examples/mechanics/spring_equilibrium.ipynb.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section class="tex2jax_ignore mathjax_ignore" id="spring-equilibrium">
<h1>Spring equilibrium<a class="headerlink" href="#spring-equilibrium" title="Link to this heading">¶</a></h1>
<p>In this notebook, we solve a spring network equilibrium problem: finding the resting
shape of a mesh of masses connected by springs under gravity.</p>
<p>Features used:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../api/core.html#jaxls.Var" title="jaxls.Var"><code class="xref py py-class docutils literal notranslate"><span class="pre">Var</span></code></a> subclassing for custom variable types</p></li>
<li><p><a class="reference internal" href="../../api/core.html#jaxls.Cost.factory" title="jaxls.Cost.factory"><code class="xref py py-func docutils literal notranslate"><span class="pre">&#64;jaxls.Cost.factory</span></code></a> for defining costs</p></li>
<li><p>Equality constraints (<code class="docutils literal notranslate"><span class="pre">constraint_eq_zero</span></code>) for anchoring points</p></li>
<li><p>Augmented Lagrangian solver for constrained optimization</p></li>
</ul>
<p>We show two approaches:</p>
<ol class="arabic simple">
<li><p>Naive construction: Build variables and costs one-by-one (simple but slower)</p></li>
<li><p>Batched construction: Use array operations for efficiency (recommended for large problems)</p></li>
</ol>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">loguru</span> <span class="kn">import</span> <span class="n">logger</span>

<span class="n">logger</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;&lt;level&gt;</span><span class="si">{level: &lt;8}</span><span class="s2">&lt;/level&gt; | </span><span class="si">{message}</span><span class="s2">&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">jax</span>
<span class="kn">import</span> <span class="nn">jax.numpy</span> <span class="k">as</span> <span class="nn">jnp</span>
<span class="kn">import</span> <span class="nn">jaxls</span>
</pre></div>
</div>
</div>
</div>
<section id="variables-and-costs">
<h2>Variables and costs<a class="headerlink" href="#variables-and-costs" title="Link to this heading">¶</a></h2>
<p>Variables represent the unknowns we want to solve for. We define a custom 2D point variable by subclassing <code class="docutils literal notranslate"><span class="pre">jaxls.Var</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Point2Var</span><span class="p">(</span><span class="n">jaxls</span><span class="o">.</span><span class="n">Var</span><span class="p">[</span><span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">],</span> <span class="n">default_factory</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">jnp</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">2</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A 2D point variable.&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
</div>
<p>Cost functions define what we’re optimizing. Use <a class="reference internal" href="../../api/core.html#jaxls.Cost.factory" title="jaxls.Cost.factory"><code class="xref py py-func docutils literal notranslate"><span class="pre">&#64;jaxls.Cost.factory</span></code></a> to create cost factories.</p>
<p>A cost function takes a <a class="reference internal" href="../../api/core.html#jaxls.VarValues" title="jaxls.VarValues"><code class="xref py py-class docutils literal notranslate"><span class="pre">VarValues</span></code></a> object (for looking up variable values) plus any arguments, and returns a residual vector to minimize or constrain.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@jaxls</span><span class="o">.</span><span class="n">Cost</span><span class="o">.</span><span class="n">factory</span>
<span class="k">def</span> <span class="nf">spring_cost</span><span class="p">(</span>
    <span class="n">vals</span><span class="p">:</span> <span class="n">jaxls</span><span class="o">.</span><span class="n">VarValues</span><span class="p">,</span>
    <span class="n">var_a</span><span class="p">:</span> <span class="n">Point2Var</span><span class="p">,</span>
    <span class="n">var_b</span><span class="p">:</span> <span class="n">Point2Var</span><span class="p">,</span>
    <span class="n">rest_length</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Penalize deviation from rest length.</span>

<span class="sd">    Returns a 2D residual for better Jacobian conditioning.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">vals</span><span class="p">[</span><span class="n">var_a</span><span class="p">]</span> <span class="o">-</span> <span class="n">vals</span><span class="p">[</span><span class="n">var_b</span><span class="p">]</span>
    <span class="n">length</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">jnp</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">diff</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mf">1e-6</span><span class="p">)</span>
    <span class="n">direction</span> <span class="o">=</span> <span class="n">diff</span> <span class="o">/</span> <span class="n">length</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">length</span> <span class="o">-</span> <span class="n">rest_length</span><span class="p">)</span> <span class="o">*</span> <span class="n">direction</span>


<span class="nd">@jaxls</span><span class="o">.</span><span class="n">Cost</span><span class="o">.</span><span class="n">factory</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;constraint_eq_zero&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">anchor_constraint</span><span class="p">(</span>
    <span class="n">vals</span><span class="p">:</span> <span class="n">jaxls</span><span class="o">.</span><span class="n">VarValues</span><span class="p">,</span>
    <span class="n">var</span><span class="p">:</span> <span class="n">Point2Var</span><span class="p">,</span>
    <span class="n">target</span><span class="p">:</span> <span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pin a point to a target position (hard constraint).&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">vals</span><span class="p">[</span><span class="n">var</span><span class="p">]</span> <span class="o">-</span> <span class="n">target</span>


<span class="nd">@jaxls</span><span class="o">.</span><span class="n">Cost</span><span class="o">.</span><span class="n">factory</span>
<span class="k">def</span> <span class="nf">gravity_cost</span><span class="p">(</span>
    <span class="n">vals</span><span class="p">:</span> <span class="n">jaxls</span><span class="o">.</span><span class="n">VarValues</span><span class="p">,</span>
    <span class="n">var</span><span class="p">:</span> <span class="n">Point2Var</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pull points downward.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">vals</span><span class="p">[</span><span class="n">var</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mf">10.0</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.15</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="problem-setup">
<h2>Problem setup<a class="headerlink" href="#problem-setup" title="Link to this heading">¶</a></h2>
<p>We’ll create a 5x4 grid of points. The left and right columns will be anchored, and springs connect adjacent points:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Grid dimensions.</span>
<span class="n">cols</span><span class="p">,</span> <span class="n">rows</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span>
<span class="n">num_points</span> <span class="o">=</span> <span class="n">cols</span> <span class="o">*</span> <span class="n">rows</span>
<span class="n">spacing</span> <span class="o">=</span> <span class="mf">1.0</span>


<span class="k">def</span> <span class="nf">idx</span><span class="p">(</span><span class="n">row</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">col</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert (row, col) to flat index.</span>

<span class="sd">    Args:</span>
<span class="sd">        row: Row index</span>
<span class="sd">        col: Column index</span>

<span class="sd">    Returns:</span>
<span class="sd">        Flat index into the points array</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">row</span> <span class="o">*</span> <span class="n">cols</span> <span class="o">+</span> <span class="n">col</span>


<span class="c1"># Initial positions (regular grid)</span>
<span class="n">initial_positions</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
    <span class="p">[[</span><span class="n">c</span> <span class="o">*</span> <span class="n">spacing</span><span class="p">,</span> <span class="o">-</span><span class="n">r</span> <span class="o">*</span> <span class="n">spacing</span><span class="p">]</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cols</span><span class="p">)]</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Grid: </span><span class="si">{</span><span class="n">cols</span><span class="si">}</span><span class="s2">x</span><span class="si">{</span><span class="n">rows</span><span class="si">}</span><span class="s2"> = </span><span class="si">{</span><span class="n">num_points</span><span class="si">}</span><span class="s2"> points&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Grid: 5x4 = 20 points
</pre></div>
</div>
</div>
</div>
</section>
<section id="approach-1-naive-construction">
<h2>Approach 1: naive construction<a class="headerlink" href="#approach-1-naive-construction" title="Link to this heading">¶</a></h2>
<p>The straightforward approach: create variables and costs one-by-one using Python loops.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create variables for each grid point.</span>
<span class="n">point_vars_naive</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span> <span class="n">Point2Var</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">idx</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cols</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">costs_naive</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">jaxls</span><span class="o">.</span><span class="n">Cost</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Anchor the left and right columns.</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span><span class="p">):</span>
    <span class="n">costs_naive</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="n">anchor_constraint</span><span class="p">(</span><span class="n">point_vars_naive</span><span class="p">[(</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)],</span> <span class="n">initial_positions</span><span class="p">[</span><span class="n">idx</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)])</span>
    <span class="p">)</span>
    <span class="n">costs_naive</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="n">anchor_constraint</span><span class="p">(</span>
            <span class="n">point_vars_naive</span><span class="p">[(</span><span class="n">row</span><span class="p">,</span> <span class="n">cols</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)],</span> <span class="n">initial_positions</span><span class="p">[</span><span class="n">idx</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">cols</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="p">)</span>
    <span class="p">)</span>

<span class="c1"># Horizontal springs.</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cols</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">costs_naive</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="n">spring_cost</span><span class="p">(</span>
                <span class="n">point_vars_naive</span><span class="p">[(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)],</span> <span class="n">point_vars_naive</span><span class="p">[(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)],</span> <span class="n">spacing</span>
            <span class="p">)</span>
        <span class="p">)</span>

<span class="c1"># Vertical springs.</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cols</span><span class="p">):</span>
        <span class="n">costs_naive</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="n">spring_cost</span><span class="p">(</span>
                <span class="n">point_vars_naive</span><span class="p">[(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)],</span> <span class="n">point_vars_naive</span><span class="p">[(</span><span class="n">row</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="p">)],</span> <span class="n">spacing</span>
            <span class="p">)</span>
        <span class="p">)</span>

<span class="c1"># Gravity on non-anchor points.</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">costs_naive</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gravity_cost</span><span class="p">(</span><span class="n">point_vars_naive</span><span class="p">[(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)]))</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Naive: Created </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">costs_naive</span><span class="p">)</span><span class="si">}</span><span class="s2"> cost objects&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Naive: Created 51 cost objects
</pre></div>
</div>
</div>
</div>
</section>
<section id="approach-2-batched-construction">
<h2>Approach 2: batched construction<a class="headerlink" href="#approach-2-batched-construction" title="Link to this heading">¶</a></h2>
<p>When variable IDs have a leading batch axis, a batch of costs is created in one call. This reduces Python overhead and speeds up problem analysis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create ALL point variables at once with batched IDs.</span>
<span class="n">all_point_vars</span> <span class="o">=</span> <span class="n">Point2Var</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">jnp</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">num_points</span><span class="p">))</span>

<span class="c1"># Precompute index arrays.</span>
<span class="n">anchor_indices</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">idx</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">cols</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]])</span>
<span class="n">anchor_positions</span> <span class="o">=</span> <span class="n">initial_positions</span><span class="p">[</span><span class="n">anchor_indices</span><span class="p">]</span>

<span class="n">h_spring_a</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">idx</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cols</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)])</span>
<span class="n">h_spring_b</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">idx</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cols</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)])</span>

<span class="n">v_spring_a</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">idx</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cols</span><span class="p">)])</span>
<span class="n">v_spring_b</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">idx</span><span class="p">(</span><span class="n">r</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cols</span><span class="p">)])</span>

<span class="n">interior_indices</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
    <span class="p">[</span><span class="n">idx</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
<span class="p">)</span>

<span class="c1"># Create all costs using batched construction (4 calls instead of 51!)</span>
<span class="n">costs_batched</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">jaxls</span><span class="o">.</span><span class="n">Cost</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">anchor_constraint</span><span class="p">(</span><span class="n">Point2Var</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">anchor_indices</span><span class="p">),</span> <span class="n">anchor_positions</span><span class="p">),</span>
    <span class="n">spring_cost</span><span class="p">(</span><span class="n">Point2Var</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">h_spring_a</span><span class="p">),</span> <span class="n">Point2Var</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">h_spring_b</span><span class="p">),</span> <span class="n">spacing</span><span class="p">),</span>
    <span class="n">spring_cost</span><span class="p">(</span><span class="n">Point2Var</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">v_spring_a</span><span class="p">),</span> <span class="n">Point2Var</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">v_spring_b</span><span class="p">),</span> <span class="n">spacing</span><span class="p">),</span>
    <span class="n">gravity_cost</span><span class="p">(</span><span class="n">Point2Var</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">interior_indices</span><span class="p">)),</span>
<span class="p">]</span>

<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;Batched: Created </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">costs_batched</span><span class="p">)</span><span class="si">}</span><span class="s2"> cost objects (representing 51 individual costs)&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Batched: Created 4 cost objects (representing 51 individual costs)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Visualize the full batched problem structure.</span>
<span class="c1"># The interactive D3.js visualization supports zoom, pan, and dragging nodes.</span>
<span class="n">jaxls</span><span class="o">.</span><span class="n">LeastSquaresProblem</span><span class="p">(</span><span class="n">costs_batched</span><span class="p">,</span> <span class="p">[</span><span class="n">all_point_vars</span><span class="p">])</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
        <iframe
            width="100%"
            height="500"
            src="data:text/html;base64,PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4KICAgIDxzdHlsZT4KICAgICAgICBib2R5IHsgbWFyZ2luOiAwOyBvdmVyZmxvdzogaGlkZGVuOyB9CiAgICAgICAgI2NvbnRhaW5lciB7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMHZoOyBwb3NpdGlvbjogcmVsYXRpdmU7IH0KICAgICAgICBjYW52YXMgeyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgfQogICAgICAgIC5zdGF0dXMgeyBwb3NpdGlvbjogYWJzb2x1dGU7IGJvdHRvbTogNXB4OyByaWdodDogMTBweDsgZm9udC1zaXplOiAxMHB4OyBjb2xvcjogIzY2NjsgZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7IGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC44KTsgcGFkZGluZzogMnB4IDVweDsgYm9yZGVyLXJhZGl1czogM3B4OyB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGRpdiBpZD0iY29udGFpbmVyIj4KICAgICAgICA8Y2FudmFzPjwvY2FudmFzPgogICAgICAgIDxkaXYgY2xhc3M9InN0YXR1cyI+NTEgY29zdHMsIDIwIHZhcmlhYmxlczwvZGl2PgogICAgPC9kaXY+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9kM2pzLm9yZy9kMy52Ny5taW4uanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdD4KICAgIChmdW5jdGlvbigpIHsKICAgICAgICBjb25zdCBkYXRhID0geyJub2RlcyI6IFt7ImlkIjogInZhcl8wIiwgImxhYmVsIjogIlBvaW50MlZhcigwKSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIlBvaW50MlZhciIsICJmaWxsIjogIiNmZmNjY2MiLCAic3Ryb2tlIjogIiNjYzY2NjYifSwgeyJpZCI6ICJ2YXJfMSIsICJsYWJlbCI6ICJQb2ludDJWYXIoNCkiLCAidHlwZSI6ICJ2YXJpYWJsZSIsICJ2YXJfdHlwZSI6ICJQb2ludDJWYXIiLCAiZmlsbCI6ICIjZmZjY2NjIiwgInN0cm9rZSI6ICIjY2M2NjY2In0sIHsiaWQiOiAidmFyXzIiLCAibGFiZWwiOiAiUG9pbnQyVmFyKDUpIiwgInR5cGUiOiAidmFyaWFibGUiLCAidmFyX3R5cGUiOiAiUG9pbnQyVmFyIiwgImZpbGwiOiAiI2ZmY2NjYyIsICJzdHJva2UiOiAiI2NjNjY2NiJ9LCB7ImlkIjogInZhcl8zIiwgImxhYmVsIjogIlBvaW50MlZhcig5KSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIlBvaW50MlZhciIsICJmaWxsIjogIiNmZmNjY2MiLCAic3Ryb2tlIjogIiNjYzY2NjYifSwgeyJpZCI6ICJ2YXJfNCIsICJsYWJlbCI6ICJQb2ludDJWYXIoMTApIiwgInR5cGUiOiAidmFyaWFibGUiLCAidmFyX3R5cGUiOiAiUG9pbnQyVmFyIiwgImZpbGwiOiAiI2ZmY2NjYyIsICJzdHJva2UiOiAiI2NjNjY2NiJ9LCB7ImlkIjogInZhcl81IiwgImxhYmVsIjogIlBvaW50MlZhcigxNCkiLCAidHlwZSI6ICJ2YXJpYWJsZSIsICJ2YXJfdHlwZSI6ICJQb2ludDJWYXIiLCAiZmlsbCI6ICIjZmZjY2NjIiwgInN0cm9rZSI6ICIjY2M2NjY2In0sIHsiaWQiOiAidmFyXzYiLCAibGFiZWwiOiAiUG9pbnQyVmFyKDE1KSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIlBvaW50MlZhciIsICJmaWxsIjogIiNmZmNjY2MiLCAic3Ryb2tlIjogIiNjYzY2NjYifSwgeyJpZCI6ICJ2YXJfNyIsICJsYWJlbCI6ICJQb2ludDJWYXIoMTkpIiwgInR5cGUiOiAidmFyaWFibGUiLCAidmFyX3R5cGUiOiAiUG9pbnQyVmFyIiwgImZpbGwiOiAiI2ZmY2NjYyIsICJzdHJva2UiOiAiI2NjNjY2NiJ9LCB7ImlkIjogInZhcl84IiwgImxhYmVsIjogIlBvaW50MlZhcigxKSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIlBvaW50MlZhciIsICJmaWxsIjogIiNmZmNjY2MiLCAic3Ryb2tlIjogIiNjYzY2NjYifSwgeyJpZCI6ICJ2YXJfOSIsICJsYWJlbCI6ICJQb2ludDJWYXIoMikiLCAidHlwZSI6ICJ2YXJpYWJsZSIsICJ2YXJfdHlwZSI6ICJQb2ludDJWYXIiLCAiZmlsbCI6ICIjZmZjY2NjIiwgInN0cm9rZSI6ICIjY2M2NjY2In0sIHsiaWQiOiAidmFyXzEwIiwgImxhYmVsIjogIlBvaW50MlZhcigzKSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIlBvaW50MlZhciIsICJmaWxsIjogIiNmZmNjY2MiLCAic3Ryb2tlIjogIiNjYzY2NjYifSwgeyJpZCI6ICJ2YXJfMTEiLCAibGFiZWwiOiAiUG9pbnQyVmFyKDYpIiwgInR5cGUiOiAidmFyaWFibGUiLCAidmFyX3R5cGUiOiAiUG9pbnQyVmFyIiwgImZpbGwiOiAiI2ZmY2NjYyIsICJzdHJva2UiOiAiI2NjNjY2NiJ9LCB7ImlkIjogInZhcl8xMiIsICJsYWJlbCI6ICJQb2ludDJWYXIoNykiLCAidHlwZSI6ICJ2YXJpYWJsZSIsICJ2YXJfdHlwZSI6ICJQb2ludDJWYXIiLCAiZmlsbCI6ICIjZmZjY2NjIiwgInN0cm9rZSI6ICIjY2M2NjY2In0sIHsiaWQiOiAidmFyXzEzIiwgImxhYmVsIjogIlBvaW50MlZhcig4KSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIlBvaW50MlZhciIsICJmaWxsIjogIiNmZmNjY2MiLCAic3Ryb2tlIjogIiNjYzY2NjYifSwgeyJpZCI6ICJ2YXJfMTQiLCAibGFiZWwiOiAiUG9pbnQyVmFyKDExKSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIlBvaW50MlZhciIsICJmaWxsIjogIiNmZmNjY2MiLCAic3Ryb2tlIjogIiNjYzY2NjYifSwgeyJpZCI6ICJ2YXJfMTUiLCAibGFiZWwiOiAiUG9pbnQyVmFyKDEyKSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIlBvaW50MlZhciIsICJmaWxsIjogIiNmZmNjY2MiLCAic3Ryb2tlIjogIiNjYzY2NjYifSwgeyJpZCI6ICJ2YXJfMTYiLCAibGFiZWwiOiAiUG9pbnQyVmFyKDEzKSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIlBvaW50MlZhciIsICJmaWxsIjogIiNmZmNjY2MiLCAic3Ryb2tlIjogIiNjYzY2NjYifSwgeyJpZCI6ICJ2YXJfMTciLCAibGFiZWwiOiAiUG9pbnQyVmFyKDE2KSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIlBvaW50MlZhciIsICJmaWxsIjogIiNmZmNjY2MiLCAic3Ryb2tlIjogIiNjYzY2NjYifSwgeyJpZCI6ICJ2YXJfMTgiLCAibGFiZWwiOiAiUG9pbnQyVmFyKDE3KSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIlBvaW50MlZhciIsICJmaWxsIjogIiNmZmNjY2MiLCAic3Ryb2tlIjogIiNjYzY2NjYifSwgeyJpZCI6ICJ2YXJfMTkiLCAibGFiZWwiOiAiUG9pbnQyVmFyKDE4KSIsICJ0eXBlIjogInZhcmlhYmxlIiwgInZhcl90eXBlIjogIlBvaW50MlZhciIsICJmaWxsIjogIiNmZmNjY2MiLCAic3Ryb2tlIjogIiNjYzY2NjYifSwgeyJpZCI6ICJjb3N0XzAiLCAibGFiZWwiOiAiYW5jaG9yX2NvbnN0cmFpbnQiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAiY29uc3RyYWludF9lcV96ZXJvIiwgImZpbGwiOiAiI2E4ZmZhOCIsICJzdHJva2UiOiAiIzRhZDk0YSJ9LCB7ImlkIjogImNvc3RfMSIsICJsYWJlbCI6ICJhbmNob3JfY29uc3RyYWludCIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJjb25zdHJhaW50X2VxX3plcm8iLCAiZmlsbCI6ICIjYThmZmE4IiwgInN0cm9rZSI6ICIjNGFkOTRhIn0sIHsiaWQiOiAiY29zdF8yIiwgImxhYmVsIjogImFuY2hvcl9jb25zdHJhaW50IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImNvbnN0cmFpbnRfZXFfemVybyIsICJmaWxsIjogIiNhOGZmYTgiLCAic3Ryb2tlIjogIiM0YWQ5NGEifSwgeyJpZCI6ICJjb3N0XzMiLCAibGFiZWwiOiAiYW5jaG9yX2NvbnN0cmFpbnQiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAiY29uc3RyYWludF9lcV96ZXJvIiwgImZpbGwiOiAiI2E4ZmZhOCIsICJzdHJva2UiOiAiIzRhZDk0YSJ9LCB7ImlkIjogImNvc3RfNCIsICJsYWJlbCI6ICJhbmNob3JfY29uc3RyYWludCIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJjb25zdHJhaW50X2VxX3plcm8iLCAiZmlsbCI6ICIjYThmZmE4IiwgInN0cm9rZSI6ICIjNGFkOTRhIn0sIHsiaWQiOiAiY29zdF81IiwgImxhYmVsIjogImFuY2hvcl9jb25zdHJhaW50IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImNvbnN0cmFpbnRfZXFfemVybyIsICJmaWxsIjogIiNhOGZmYTgiLCAic3Ryb2tlIjogIiM0YWQ5NGEifSwgeyJpZCI6ICJjb3N0XzYiLCAibGFiZWwiOiAiYW5jaG9yX2NvbnN0cmFpbnQiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAiY29uc3RyYWludF9lcV96ZXJvIiwgImZpbGwiOiAiI2E4ZmZhOCIsICJzdHJva2UiOiAiIzRhZDk0YSJ9LCB7ImlkIjogImNvc3RfNyIsICJsYWJlbCI6ICJhbmNob3JfY29uc3RyYWludCIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJjb25zdHJhaW50X2VxX3plcm8iLCAiZmlsbCI6ICIjYThmZmE4IiwgInN0cm9rZSI6ICIjNGFkOTRhIn0sIHsiaWQiOiAiY29zdF84IiwgImxhYmVsIjogInNwcmluZ19jb3N0IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF85IiwgImxhYmVsIjogInNwcmluZ19jb3N0IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF8xMCIsICJsYWJlbCI6ICJzcHJpbmdfY29zdCIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJsMl9zcXVhcmVkIiwgImZpbGwiOiAiI2E4ZDVmZiIsICJzdHJva2UiOiAiIzRhOTBkOSJ9LCB7ImlkIjogImNvc3RfMTEiLCAibGFiZWwiOiAic3ByaW5nX2Nvc3QiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAibDJfc3F1YXJlZCIsICJmaWxsIjogIiNhOGQ1ZmYiLCAic3Ryb2tlIjogIiM0YTkwZDkifSwgeyJpZCI6ICJjb3N0XzEyIiwgImxhYmVsIjogInNwcmluZ19jb3N0IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF8xMyIsICJsYWJlbCI6ICJzcHJpbmdfY29zdCIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJsMl9zcXVhcmVkIiwgImZpbGwiOiAiI2E4ZDVmZiIsICJzdHJva2UiOiAiIzRhOTBkOSJ9LCB7ImlkIjogImNvc3RfMTQiLCAibGFiZWwiOiAic3ByaW5nX2Nvc3QiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAibDJfc3F1YXJlZCIsICJmaWxsIjogIiNhOGQ1ZmYiLCAic3Ryb2tlIjogIiM0YTkwZDkifSwgeyJpZCI6ICJjb3N0XzE1IiwgImxhYmVsIjogInNwcmluZ19jb3N0IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF8xNiIsICJsYWJlbCI6ICJzcHJpbmdfY29zdCIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJsMl9zcXVhcmVkIiwgImZpbGwiOiAiI2E4ZDVmZiIsICJzdHJva2UiOiAiIzRhOTBkOSJ9LCB7ImlkIjogImNvc3RfMTciLCAibGFiZWwiOiAic3ByaW5nX2Nvc3QiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAibDJfc3F1YXJlZCIsICJmaWxsIjogIiNhOGQ1ZmYiLCAic3Ryb2tlIjogIiM0YTkwZDkifSwgeyJpZCI6ICJjb3N0XzE4IiwgImxhYmVsIjogInNwcmluZ19jb3N0IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF8xOSIsICJsYWJlbCI6ICJzcHJpbmdfY29zdCIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJsMl9zcXVhcmVkIiwgImZpbGwiOiAiI2E4ZDVmZiIsICJzdHJva2UiOiAiIzRhOTBkOSJ9LCB7ImlkIjogImNvc3RfMjAiLCAibGFiZWwiOiAic3ByaW5nX2Nvc3QiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAibDJfc3F1YXJlZCIsICJmaWxsIjogIiNhOGQ1ZmYiLCAic3Ryb2tlIjogIiM0YTkwZDkifSwgeyJpZCI6ICJjb3N0XzIxIiwgImxhYmVsIjogInNwcmluZ19jb3N0IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF8yMiIsICJsYWJlbCI6ICJzcHJpbmdfY29zdCIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJsMl9zcXVhcmVkIiwgImZpbGwiOiAiI2E4ZDVmZiIsICJzdHJva2UiOiAiIzRhOTBkOSJ9LCB7ImlkIjogImNvc3RfMjMiLCAibGFiZWwiOiAic3ByaW5nX2Nvc3QiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAibDJfc3F1YXJlZCIsICJmaWxsIjogIiNhOGQ1ZmYiLCAic3Ryb2tlIjogIiM0YTkwZDkifSwgeyJpZCI6ICJjb3N0XzI0IiwgImxhYmVsIjogInNwcmluZ19jb3N0IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF8yNSIsICJsYWJlbCI6ICJzcHJpbmdfY29zdCIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJsMl9zcXVhcmVkIiwgImZpbGwiOiAiI2E4ZDVmZiIsICJzdHJva2UiOiAiIzRhOTBkOSJ9LCB7ImlkIjogImNvc3RfMjYiLCAibGFiZWwiOiAic3ByaW5nX2Nvc3QiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAibDJfc3F1YXJlZCIsICJmaWxsIjogIiNhOGQ1ZmYiLCAic3Ryb2tlIjogIiM0YTkwZDkifSwgeyJpZCI6ICJjb3N0XzI3IiwgImxhYmVsIjogInNwcmluZ19jb3N0IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF8yOCIsICJsYWJlbCI6ICJzcHJpbmdfY29zdCIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJsMl9zcXVhcmVkIiwgImZpbGwiOiAiI2E4ZDVmZiIsICJzdHJva2UiOiAiIzRhOTBkOSJ9LCB7ImlkIjogImNvc3RfMjkiLCAibGFiZWwiOiAic3ByaW5nX2Nvc3QiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAibDJfc3F1YXJlZCIsICJmaWxsIjogIiNhOGQ1ZmYiLCAic3Ryb2tlIjogIiM0YTkwZDkifSwgeyJpZCI6ICJjb3N0XzMwIiwgImxhYmVsIjogInNwcmluZ19jb3N0IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF8zMSIsICJsYWJlbCI6ICJzcHJpbmdfY29zdCIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJsMl9zcXVhcmVkIiwgImZpbGwiOiAiI2E4ZDVmZiIsICJzdHJva2UiOiAiIzRhOTBkOSJ9LCB7ImlkIjogImNvc3RfMzIiLCAibGFiZWwiOiAic3ByaW5nX2Nvc3QiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAibDJfc3F1YXJlZCIsICJmaWxsIjogIiNhOGQ1ZmYiLCAic3Ryb2tlIjogIiM0YTkwZDkifSwgeyJpZCI6ICJjb3N0XzMzIiwgImxhYmVsIjogInNwcmluZ19jb3N0IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF8zNCIsICJsYWJlbCI6ICJzcHJpbmdfY29zdCIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJsMl9zcXVhcmVkIiwgImZpbGwiOiAiI2E4ZDVmZiIsICJzdHJva2UiOiAiIzRhOTBkOSJ9LCB7ImlkIjogImNvc3RfMzUiLCAibGFiZWwiOiAic3ByaW5nX2Nvc3QiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAibDJfc3F1YXJlZCIsICJmaWxsIjogIiNhOGQ1ZmYiLCAic3Ryb2tlIjogIiM0YTkwZDkifSwgeyJpZCI6ICJjb3N0XzM2IiwgImxhYmVsIjogInNwcmluZ19jb3N0IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF8zNyIsICJsYWJlbCI6ICJzcHJpbmdfY29zdCIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJsMl9zcXVhcmVkIiwgImZpbGwiOiAiI2E4ZDVmZiIsICJzdHJva2UiOiAiIzRhOTBkOSJ9LCB7ImlkIjogImNvc3RfMzgiLCAibGFiZWwiOiAic3ByaW5nX2Nvc3QiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAibDJfc3F1YXJlZCIsICJmaWxsIjogIiNhOGQ1ZmYiLCAic3Ryb2tlIjogIiM0YTkwZDkifSwgeyJpZCI6ICJjb3N0XzM5IiwgImxhYmVsIjogImdyYXZpdHlfY29zdCIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJsMl9zcXVhcmVkIiwgImZpbGwiOiAiI2E4ZDVmZiIsICJzdHJva2UiOiAiIzRhOTBkOSJ9LCB7ImlkIjogImNvc3RfNDAiLCAibGFiZWwiOiAiZ3Jhdml0eV9jb3N0IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF80MSIsICJsYWJlbCI6ICJncmF2aXR5X2Nvc3QiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAibDJfc3F1YXJlZCIsICJmaWxsIjogIiNhOGQ1ZmYiLCAic3Ryb2tlIjogIiM0YTkwZDkifSwgeyJpZCI6ICJjb3N0XzQyIiwgImxhYmVsIjogImdyYXZpdHlfY29zdCIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJsMl9zcXVhcmVkIiwgImZpbGwiOiAiI2E4ZDVmZiIsICJzdHJva2UiOiAiIzRhOTBkOSJ9LCB7ImlkIjogImNvc3RfNDMiLCAibGFiZWwiOiAiZ3Jhdml0eV9jb3N0IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF80NCIsICJsYWJlbCI6ICJncmF2aXR5X2Nvc3QiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAibDJfc3F1YXJlZCIsICJmaWxsIjogIiNhOGQ1ZmYiLCAic3Ryb2tlIjogIiM0YTkwZDkifSwgeyJpZCI6ICJjb3N0XzQ1IiwgImxhYmVsIjogImdyYXZpdHlfY29zdCIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJsMl9zcXVhcmVkIiwgImZpbGwiOiAiI2E4ZDVmZiIsICJzdHJva2UiOiAiIzRhOTBkOSJ9LCB7ImlkIjogImNvc3RfNDYiLCAibGFiZWwiOiAiZ3Jhdml0eV9jb3N0IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF80NyIsICJsYWJlbCI6ICJncmF2aXR5X2Nvc3QiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAibDJfc3F1YXJlZCIsICJmaWxsIjogIiNhOGQ1ZmYiLCAic3Ryb2tlIjogIiM0YTkwZDkifSwgeyJpZCI6ICJjb3N0XzQ4IiwgImxhYmVsIjogImdyYXZpdHlfY29zdCIsICJ0eXBlIjogImNvc3QiLCAia2luZCI6ICJsMl9zcXVhcmVkIiwgImZpbGwiOiAiI2E4ZDVmZiIsICJzdHJva2UiOiAiIzRhOTBkOSJ9LCB7ImlkIjogImNvc3RfNDkiLCAibGFiZWwiOiAiZ3Jhdml0eV9jb3N0IiwgInR5cGUiOiAiY29zdCIsICJraW5kIjogImwyX3NxdWFyZWQiLCAiZmlsbCI6ICIjYThkNWZmIiwgInN0cm9rZSI6ICIjNGE5MGQ5In0sIHsiaWQiOiAiY29zdF81MCIsICJsYWJlbCI6ICJncmF2aXR5X2Nvc3QiLCAidHlwZSI6ICJjb3N0IiwgImtpbmQiOiAibDJfc3F1YXJlZCIsICJmaWxsIjogIiNhOGQ1ZmYiLCAic3Ryb2tlIjogIiM0YTkwZDkifV0sICJsaW5rcyI6IFt7InNvdXJjZSI6ICJjb3N0XzAiLCAidGFyZ2V0IjogInZhcl8wIn0sIHsic291cmNlIjogImNvc3RfMSIsICJ0YXJnZXQiOiAidmFyXzEifSwgeyJzb3VyY2UiOiAiY29zdF8yIiwgInRhcmdldCI6ICJ2YXJfMiJ9LCB7InNvdXJjZSI6ICJjb3N0XzMiLCAidGFyZ2V0IjogInZhcl8zIn0sIHsic291cmNlIjogImNvc3RfNCIsICJ0YXJnZXQiOiAidmFyXzQifSwgeyJzb3VyY2UiOiAiY29zdF81IiwgInRhcmdldCI6ICJ2YXJfNSJ9LCB7InNvdXJjZSI6ICJjb3N0XzYiLCAidGFyZ2V0IjogInZhcl82In0sIHsic291cmNlIjogImNvc3RfNyIsICJ0YXJnZXQiOiAidmFyXzcifSwgeyJzb3VyY2UiOiAiY29zdF84IiwgInRhcmdldCI6ICJ2YXJfMCJ9LCB7InNvdXJjZSI6ICJjb3N0XzgiLCAidGFyZ2V0IjogInZhcl84In0sIHsic291cmNlIjogImNvc3RfOSIsICJ0YXJnZXQiOiAidmFyXzgifSwgeyJzb3VyY2UiOiAiY29zdF85IiwgInRhcmdldCI6ICJ2YXJfOSJ9LCB7InNvdXJjZSI6ICJjb3N0XzEwIiwgInRhcmdldCI6ICJ2YXJfOSJ9LCB7InNvdXJjZSI6ICJjb3N0XzEwIiwgInRhcmdldCI6ICJ2YXJfMTAifSwgeyJzb3VyY2UiOiAiY29zdF8xMSIsICJ0YXJnZXQiOiAidmFyXzEwIn0sIHsic291cmNlIjogImNvc3RfMTEiLCAidGFyZ2V0IjogInZhcl8xIn0sIHsic291cmNlIjogImNvc3RfMTIiLCAidGFyZ2V0IjogInZhcl8yIn0sIHsic291cmNlIjogImNvc3RfMTIiLCAidGFyZ2V0IjogInZhcl8xMSJ9LCB7InNvdXJjZSI6ICJjb3N0XzEzIiwgInRhcmdldCI6ICJ2YXJfMTEifSwgeyJzb3VyY2UiOiAiY29zdF8xMyIsICJ0YXJnZXQiOiAidmFyXzEyIn0sIHsic291cmNlIjogImNvc3RfMTQiLCAidGFyZ2V0IjogInZhcl8xMiJ9LCB7InNvdXJjZSI6ICJjb3N0XzE0IiwgInRhcmdldCI6ICJ2YXJfMTMifSwgeyJzb3VyY2UiOiAiY29zdF8xNSIsICJ0YXJnZXQiOiAidmFyXzEzIn0sIHsic291cmNlIjogImNvc3RfMTUiLCAidGFyZ2V0IjogInZhcl8zIn0sIHsic291cmNlIjogImNvc3RfMTYiLCAidGFyZ2V0IjogInZhcl80In0sIHsic291cmNlIjogImNvc3RfMTYiLCAidGFyZ2V0IjogInZhcl8xNCJ9LCB7InNvdXJjZSI6ICJjb3N0XzE3IiwgInRhcmdldCI6ICJ2YXJfMTQifSwgeyJzb3VyY2UiOiAiY29zdF8xNyIsICJ0YXJnZXQiOiAidmFyXzE1In0sIHsic291cmNlIjogImNvc3RfMTgiLCAidGFyZ2V0IjogInZhcl8xNSJ9LCB7InNvdXJjZSI6ICJjb3N0XzE4IiwgInRhcmdldCI6ICJ2YXJfMTYifSwgeyJzb3VyY2UiOiAiY29zdF8xOSIsICJ0YXJnZXQiOiAidmFyXzE2In0sIHsic291cmNlIjogImNvc3RfMTkiLCAidGFyZ2V0IjogInZhcl81In0sIHsic291cmNlIjogImNvc3RfMjAiLCAidGFyZ2V0IjogInZhcl82In0sIHsic291cmNlIjogImNvc3RfMjAiLCAidGFyZ2V0IjogInZhcl8xNyJ9LCB7InNvdXJjZSI6ICJjb3N0XzIxIiwgInRhcmdldCI6ICJ2YXJfMTcifSwgeyJzb3VyY2UiOiAiY29zdF8yMSIsICJ0YXJnZXQiOiAidmFyXzE4In0sIHsic291cmNlIjogImNvc3RfMjIiLCAidGFyZ2V0IjogInZhcl8xOCJ9LCB7InNvdXJjZSI6ICJjb3N0XzIyIiwgInRhcmdldCI6ICJ2YXJfMTkifSwgeyJzb3VyY2UiOiAiY29zdF8yMyIsICJ0YXJnZXQiOiAidmFyXzE5In0sIHsic291cmNlIjogImNvc3RfMjMiLCAidGFyZ2V0IjogInZhcl83In0sIHsic291cmNlIjogImNvc3RfMjQiLCAidGFyZ2V0IjogInZhcl8wIn0sIHsic291cmNlIjogImNvc3RfMjQiLCAidGFyZ2V0IjogInZhcl8yIn0sIHsic291cmNlIjogImNvc3RfMjUiLCAidGFyZ2V0IjogInZhcl84In0sIHsic291cmNlIjogImNvc3RfMjUiLCAidGFyZ2V0IjogInZhcl8xMSJ9LCB7InNvdXJjZSI6ICJjb3N0XzI2IiwgInRhcmdldCI6ICJ2YXJfOSJ9LCB7InNvdXJjZSI6ICJjb3N0XzI2IiwgInRhcmdldCI6ICJ2YXJfMTIifSwgeyJzb3VyY2UiOiAiY29zdF8yNyIsICJ0YXJnZXQiOiAidmFyXzEwIn0sIHsic291cmNlIjogImNvc3RfMjciLCAidGFyZ2V0IjogInZhcl8xMyJ9LCB7InNvdXJjZSI6ICJjb3N0XzI4IiwgInRhcmdldCI6ICJ2YXJfMSJ9LCB7InNvdXJjZSI6ICJjb3N0XzI4IiwgInRhcmdldCI6ICJ2YXJfMyJ9LCB7InNvdXJjZSI6ICJjb3N0XzI5IiwgInRhcmdldCI6ICJ2YXJfMiJ9LCB7InNvdXJjZSI6ICJjb3N0XzI5IiwgInRhcmdldCI6ICJ2YXJfNCJ9LCB7InNvdXJjZSI6ICJjb3N0XzMwIiwgInRhcmdldCI6ICJ2YXJfMTEifSwgeyJzb3VyY2UiOiAiY29zdF8zMCIsICJ0YXJnZXQiOiAidmFyXzE0In0sIHsic291cmNlIjogImNvc3RfMzEiLCAidGFyZ2V0IjogInZhcl8xMiJ9LCB7InNvdXJjZSI6ICJjb3N0XzMxIiwgInRhcmdldCI6ICJ2YXJfMTUifSwgeyJzb3VyY2UiOiAiY29zdF8zMiIsICJ0YXJnZXQiOiAidmFyXzEzIn0sIHsic291cmNlIjogImNvc3RfMzIiLCAidGFyZ2V0IjogInZhcl8xNiJ9LCB7InNvdXJjZSI6ICJjb3N0XzMzIiwgInRhcmdldCI6ICJ2YXJfMyJ9LCB7InNvdXJjZSI6ICJjb3N0XzMzIiwgInRhcmdldCI6ICJ2YXJfNSJ9LCB7InNvdXJjZSI6ICJjb3N0XzM0IiwgInRhcmdldCI6ICJ2YXJfNCJ9LCB7InNvdXJjZSI6ICJjb3N0XzM0IiwgInRhcmdldCI6ICJ2YXJfNiJ9LCB7InNvdXJjZSI6ICJjb3N0XzM1IiwgInRhcmdldCI6ICJ2YXJfMTQifSwgeyJzb3VyY2UiOiAiY29zdF8zNSIsICJ0YXJnZXQiOiAidmFyXzE3In0sIHsic291cmNlIjogImNvc3RfMzYiLCAidGFyZ2V0IjogInZhcl8xNSJ9LCB7InNvdXJjZSI6ICJjb3N0XzM2IiwgInRhcmdldCI6ICJ2YXJfMTgifSwgeyJzb3VyY2UiOiAiY29zdF8zNyIsICJ0YXJnZXQiOiAidmFyXzE2In0sIHsic291cmNlIjogImNvc3RfMzciLCAidGFyZ2V0IjogInZhcl8xOSJ9LCB7InNvdXJjZSI6ICJjb3N0XzM4IiwgInRhcmdldCI6ICJ2YXJfNSJ9LCB7InNvdXJjZSI6ICJjb3N0XzM4IiwgInRhcmdldCI6ICJ2YXJfNyJ9LCB7InNvdXJjZSI6ICJjb3N0XzM5IiwgInRhcmdldCI6ICJ2YXJfOCJ9LCB7InNvdXJjZSI6ICJjb3N0XzQwIiwgInRhcmdldCI6ICJ2YXJfOSJ9LCB7InNvdXJjZSI6ICJjb3N0XzQxIiwgInRhcmdldCI6ICJ2YXJfMTAifSwgeyJzb3VyY2UiOiAiY29zdF80MiIsICJ0YXJnZXQiOiAidmFyXzExIn0sIHsic291cmNlIjogImNvc3RfNDMiLCAidGFyZ2V0IjogInZhcl8xMiJ9LCB7InNvdXJjZSI6ICJjb3N0XzQ0IiwgInRhcmdldCI6ICJ2YXJfMTMifSwgeyJzb3VyY2UiOiAiY29zdF80NSIsICJ0YXJnZXQiOiAidmFyXzE0In0sIHsic291cmNlIjogImNvc3RfNDYiLCAidGFyZ2V0IjogInZhcl8xNSJ9LCB7InNvdXJjZSI6ICJjb3N0XzQ3IiwgInRhcmdldCI6ICJ2YXJfMTYifSwgeyJzb3VyY2UiOiAiY29zdF80OCIsICJ0YXJnZXQiOiAidmFyXzE3In0sIHsic291cmNlIjogImNvc3RfNDkiLCAidGFyZ2V0IjogInZhcl8xOCJ9LCB7InNvdXJjZSI6ICJjb3N0XzUwIiwgInRhcmdldCI6ICJ2YXJfMTkifV0sICJ0cnVuY2F0ZWQiOiBmYWxzZX07CiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZDMuc2VsZWN0KCIjY29udGFpbmVyIik7CiAgICAgICAgY29uc3QgY2FudmFzID0gY29udGFpbmVyLnNlbGVjdCgiY2FudmFzIikubm9kZSgpOwogICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwoKICAgIC8vIEdldCBhY3R1YWwgY29udGFpbmVyIGRpbWVuc2lvbnMuCiAgICBjb25zdCByZWN0ID0gY29udGFpbmVyLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgIGNvbnN0IHdpZHRoID0gcmVjdC53aWR0aDsKICAgIGNvbnN0IGhlaWdodCA9IHJlY3QuaGVpZ2h0OwoKICAgIC8vIE5vZGUgc2l6aW5nLgogICAgY29uc3QgdmFyUnggPSA0NSwgdmFyUnkgPSAxNDsgIC8vIEVsbGlwc2UgcmFkaWkgZm9yIHZhcmlhYmxlcy4KICAgIGNvbnN0IGNvc3RXID0gOTAsIGNvc3RIID0gMjI7ICAgLy8gUmVjdCBzaXplIGZvciBjb3N0cy4KCiAgICAvLyBTZXQgdXAgaGlnaC1EUEkgY2FudmFzLgogICAgY29uc3QgZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTsKICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoICogZHByOwogICAgY2FudmFzLmhlaWdodCA9IGhlaWdodCAqIGRwcjsKICAgIGN0eC5zY2FsZShkcHIsIGRwcik7CgogICAgLy8gVHJhY2sgdHJhbnNmb3JtIGZvciB6b29tL3Bhbi4KICAgIGxldCB0cmFuc2Zvcm0gPSBkMy56b29tSWRlbnRpdHk7CgogICAgLy8gQ3JlYXRlIGZvcmNlIHNpbXVsYXRpb24uCiAgICBjb25zdCBzaW11bGF0aW9uID0gZDMuZm9yY2VTaW11bGF0aW9uKGRhdGEubm9kZXMpCiAgICAgICAgLmZvcmNlKCJsaW5rIiwgZDMuZm9yY2VMaW5rKGRhdGEubGlua3MpLmlkKGQgPT4gZC5pZCkuZGlzdGFuY2UoNjApKQogICAgICAgIC5mb3JjZSgiY2hhcmdlIiwgZDMuZm9yY2VNYW55Qm9keSgpLnN0cmVuZ3RoKC0xNTApLmRpc3RhbmNlTWF4KDI1MCkpCiAgICAgICAgLmZvcmNlKCJjZW50ZXIiLCBkMy5mb3JjZUNlbnRlcih3aWR0aCAvIDIsIGhlaWdodCAvIDIpKQogICAgICAgIC5mb3JjZSgiY29sbGlzaW9uIiwgZDMuZm9yY2VDb2xsaWRlKCkucmFkaXVzKDM1KSk7CgogICAgLy8gRHJhZyBzdGF0ZS4KICAgIGxldCBkcmFnTm9kZSA9IG51bGw7CgogICAgLy8gRmluZCBub2RlIGF0IHBvc2l0aW9uLgogICAgZnVuY3Rpb24gbm9kZUF0KHgsIHkpIHsKICAgICAgICBjb25zdCB0eCA9ICh4IC0gdHJhbnNmb3JtLngpIC8gdHJhbnNmb3JtLms7CiAgICAgICAgY29uc3QgdHkgPSAoeSAtIHRyYW5zZm9ybS55KSAvIHRyYW5zZm9ybS5rOwogICAgICAgIGZvciAobGV0IGkgPSBkYXRhLm5vZGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICAgIGNvbnN0IGQgPSBkYXRhLm5vZGVzW2ldOwogICAgICAgICAgICBjb25zdCBkeCA9IHR4IC0gZC54OwogICAgICAgICAgICBjb25zdCBkeSA9IHR5IC0gZC55OwogICAgICAgICAgICBpZiAoZC50eXBlID09PSAidmFyaWFibGUiKSB7CiAgICAgICAgICAgICAgICBpZiAoKGR4KmR4KS8odmFyUngqdmFyUngpICsgKGR5KmR5KS8odmFyUnkqdmFyUnkpIDwgMSkgcmV0dXJuIGQ7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoZHgpIDwgY29zdFcvMiAmJiBNYXRoLmFicyhkeSkgPCBjb3N0SC8yKSByZXR1cm4gZDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBmdW5jdGlvbiBkcmF3KCkgewogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgICBjdHgudHJhbnNsYXRlKHRyYW5zZm9ybS54LCB0cmFuc2Zvcm0ueSk7CiAgICAgICAgY3R4LnNjYWxlKHRyYW5zZm9ybS5rLCB0cmFuc2Zvcm0uayk7CgogICAgICAgIC8vIERyYXcgbGlua3MuCiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gIiM5OTkiOwogICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuNjsKICAgICAgICBjdHgubGluZVdpZHRoID0gMS41IC8gdHJhbnNmb3JtLms7CiAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgIGRhdGEubGlua3MuZm9yRWFjaChkID0+IHsKICAgICAgICAgICAgY3R4Lm1vdmVUbyhkLnNvdXJjZS54LCBkLnNvdXJjZS55KTsKICAgICAgICAgICAgY3R4LmxpbmVUbyhkLnRhcmdldC54LCBkLnRhcmdldC55KTsKICAgICAgICB9KTsKICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMS4wOwoKICAgICAgICAvLyBEcmF3IG5vZGVzLgogICAgICAgIGRhdGEubm9kZXMuZm9yRWFjaChkID0+IHsKICAgICAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShkLngsIGQueSk7CgogICAgICAgICAgICBpZiAoZC50eXBlID09PSAidmFyaWFibGUiKSB7CiAgICAgICAgICAgICAgICAvLyBFbGxpcHNlIGZvciB2YXJpYWJsZXMuCiAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICAgICAgICBjdHguZWxsaXBzZSgwLCAwLCB2YXJSeCwgdmFyUnksIDAsIDAsIDIgKiBNYXRoLlBJKTsKICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBkLmZpbGw7CiAgICAgICAgICAgICAgICBjdHguZmlsbCgpOwogICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gZC5zdHJva2U7CiAgICAgICAgICAgICAgICBjdHgubGluZVdpZHRoID0gMS41IC8gdHJhbnNmb3JtLms7CiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBSb3VuZGVkIHJlY3QgZm9yIGNvc3RzLgogICAgICAgICAgICAgICAgY29uc3QgdyA9IGNvc3RXLCBoID0gY29zdEgsIHIgPSA0OwogICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgICAgICAgY3R4Lm1vdmVUbygtdy8yICsgciwgLWgvMik7CiAgICAgICAgICAgICAgICBjdHgubGluZVRvKHcvMiAtIHIsIC1oLzIpOwogICAgICAgICAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8ody8yLCAtaC8yLCB3LzIsIC1oLzIgKyByKTsKICAgICAgICAgICAgICAgIGN0eC5saW5lVG8ody8yLCBoLzIgLSByKTsKICAgICAgICAgICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHcvMiwgaC8yLCB3LzIgLSByLCBoLzIpOwogICAgICAgICAgICAgICAgY3R4LmxpbmVUbygtdy8yICsgciwgaC8yKTsKICAgICAgICAgICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKC13LzIsIGgvMiwgLXcvMiwgaC8yIC0gcik7CiAgICAgICAgICAgICAgICBjdHgubGluZVRvKC13LzIsIC1oLzIgKyByKTsKICAgICAgICAgICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKC13LzIsIC1oLzIsIC13LzIgKyByLCAtaC8yKTsKICAgICAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTsKICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBkLmZpbGw7CiAgICAgICAgICAgICAgICBjdHguZmlsbCgpOwogICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gZC5zdHJva2U7CiAgICAgICAgICAgICAgICBjdHgubGluZVdpZHRoID0gMS41IC8gdHJhbnNmb3JtLms7CiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIERyYXcgbGFiZWwuCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAiIzAwMCI7CiAgICAgICAgICAgIGN0eC5mb250ID0gIjlweCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmIjsKICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICJjZW50ZXIiOwogICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gIm1pZGRsZSI7CiAgICAgICAgICAgIGN0eC5maWxsVGV4dChkLmxhYmVsLCAwLCAwKTsKCiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICAgICAgfSk7CgogICAgICAgIC8vIERyYXcgbGVnZW5kLgogICAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICAgICAgZHJhd0xlZ2VuZCgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGRyYXdMZWdlbmQoKSB7CiAgICAgICAgLy8gQnVpbGQgbGVnZW5kIGR5bmFtaWNhbGx5IGZyb20gYWN0dWFsIG5vZGVzLgogICAgICAgIGNvbnN0IGxlZ2VuZERhdGEgPSBbXTsKCiAgICAgICAgLy8gQ29sbGVjdCB1bmlxdWUgY29zdCBraW5kcy4KICAgICAgICBjb25zdCBjb3N0S2luZExhYmVscyA9IHsKICAgICAgICAgICAgImwyX3NxdWFyZWQiOiAiQ29zdCAoTDIpIiwKICAgICAgICAgICAgImNvbnN0cmFpbnRfZXFfemVybyI6ICJFcXVhbGl0eSIsCiAgICAgICAgICAgICJjb25zdHJhaW50X2xlcV96ZXJvIjogIkluZXF1YWxpdHkgKOKJpCkiLAogICAgICAgICAgICAiY29uc3RyYWludF9nZXFfemVybyI6ICJJbmVxdWFsaXR5ICjiiaUpIgogICAgICAgIH07CiAgICAgICAgY29uc3Qgc2VlbkNvc3RLaW5kcyA9IG5ldyBTZXQoKTsKICAgICAgICBkYXRhLm5vZGVzLmZpbHRlcihuID0+IG4udHlwZSA9PT0gImNvc3QiKS5mb3JFYWNoKG4gPT4gc2VlbkNvc3RLaW5kcy5hZGQobi5raW5kKSk7CiAgICAgICAgZm9yIChjb25zdCBraW5kIG9mIFsibDJfc3F1YXJlZCIsICJjb25zdHJhaW50X2VxX3plcm8iLCAiY29uc3RyYWludF9sZXFfemVybyIsICJjb25zdHJhaW50X2dlcV96ZXJvIl0pIHsKICAgICAgICAgICAgaWYgKHNlZW5Db3N0S2luZHMuaGFzKGtpbmQpKSB7CiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gZGF0YS5ub2Rlcy5maW5kKG4gPT4gbi50eXBlID09PSAiY29zdCIgJiYgbi5raW5kID09PSBraW5kKTsKICAgICAgICAgICAgICAgIGxlZ2VuZERhdGEucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGNvc3RLaW5kTGFiZWxzW2tpbmRdLAogICAgICAgICAgICAgICAgICAgIGZpbGw6IG5vZGUuZmlsbCwKICAgICAgICAgICAgICAgICAgICBzdHJva2U6IG5vZGUuc3Ryb2tlLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJjb3N0IgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIENvbGxlY3QgdW5pcXVlIHZhcmlhYmxlIHR5cGVzLgogICAgICAgIGNvbnN0IHNlZW5WYXJUeXBlcyA9IG5ldyBNYXAoKTsgIC8vIHZhcl90eXBlIC0+IHtmaWxsLCBzdHJva2V9CiAgICAgICAgZGF0YS5ub2Rlcy5maWx0ZXIobiA9PiBuLnR5cGUgPT09ICJ2YXJpYWJsZSIpLmZvckVhY2gobiA9PiB7CiAgICAgICAgICAgIGlmICghc2VlblZhclR5cGVzLmhhcyhuLnZhcl90eXBlKSkgewogICAgICAgICAgICAgICAgc2VlblZhclR5cGVzLnNldChuLnZhcl90eXBlLCB7IGZpbGw6IG4uZmlsbCwgc3Ryb2tlOiBuLnN0cm9rZSB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGZvciAoY29uc3QgW3ZhclR5cGUsIGNvbG9yc10gb2Ygc2VlblZhclR5cGVzKSB7CiAgICAgICAgICAgIGxlZ2VuZERhdGEucHVzaCh7CiAgICAgICAgICAgICAgICBsYWJlbDogdmFyVHlwZSwKICAgICAgICAgICAgICAgIGZpbGw6IGNvbG9ycy5maWxsLAogICAgICAgICAgICAgICAgc3Ryb2tlOiBjb2xvcnMuc3Ryb2tlLAogICAgICAgICAgICAgICAgdHlwZTogInZhcmlhYmxlIgogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgY3R4LnRyYW5zbGF0ZSgxMCwgMTApOwoKICAgICAgICBsZWdlbmREYXRhLmZvckVhY2goKGQsIGkpID0+IHsKICAgICAgICAgICAgY29uc3QgeSA9IGkgKiAxODsKICAgICAgICAgICAgaWYgKGQudHlwZSA9PT0gInZhcmlhYmxlIikgewogICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgICAgICAgY3R4LmVsbGlwc2UoMTIsIHkgKyA2LCAxMiwgNiwgMCwgMCwgMiAqIE1hdGguUEkpOwogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGQuZmlsbDsKICAgICAgICAgICAgICAgIGN0eC5maWxsKCk7CiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBkLnN0cm9rZTsKICAgICAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgICAgICAgY3R4LnJvdW5kUmVjdCgwLCB5LCAyNCwgMTIsIDIpOwogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGQuZmlsbDsKICAgICAgICAgICAgICAgIGN0eC5maWxsKCk7CiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBkLnN0cm9rZTsKICAgICAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAiIzAwMCI7CiAgICAgICAgICAgIGN0eC5mb250ID0gIjlweCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmIjsKICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICJsZWZ0IjsKICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICJtaWRkbGUiOwogICAgICAgICAgICBjdHguZmlsbFRleHQoZC5sYWJlbCwgMzAsIHkgKyA2KTsKICAgICAgICB9KTsKCiAgICAgICAgY3R4LnJlc3RvcmUoKTsKICAgIH0KCiAgICBzaW11bGF0aW9uLm9uKCJ0aWNrIiwgZHJhdyk7CgogICAgLy8gWm9vbSBiZWhhdmlvciB3aXRoIGZpbHRlciB0byBhbGxvdyBub2RlIGRyYWdnaW5nLgogICAgY29uc3Qgem9vbSA9IGQzLnpvb20oKQogICAgICAgIC5zY2FsZUV4dGVudChbMC4xLCA0XSkKICAgICAgICAuZmlsdGVyKChldmVudCkgPT4gewogICAgICAgICAgICAvLyBCbG9jayB6b29tIGlmIGNsaWNraW5nIG9uIGEgbm9kZSAoYWxsb3cgbm9kZSBkcmFnIGluc3RlYWQpLgogICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gIm1vdXNlZG93biIpIHsKICAgICAgICAgICAgICAgIGNvbnN0IFt4LCB5XSA9IGQzLnBvaW50ZXIoZXZlbnQpOwogICAgICAgICAgICAgICAgaWYgKG5vZGVBdCh4LCB5KSkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0pCiAgICAgICAgLm9uKCJ6b29tIiwgKGV2ZW50KSA9PiB7CiAgICAgICAgICAgIHRyYW5zZm9ybSA9IGV2ZW50LnRyYW5zZm9ybTsKICAgICAgICAgICAgZHJhdygpOwogICAgICAgIH0pOwoKICAgIGQzLnNlbGVjdChjYW52YXMpCiAgICAgICAgLmNhbGwoem9vbSkKICAgICAgICAub24oIm1vdXNlZG93bi5kcmFnIiwgKGV2ZW50KSA9PiB7CiAgICAgICAgICAgIGNvbnN0IFt4LCB5XSA9IGQzLnBvaW50ZXIoZXZlbnQpOwogICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZUF0KHgsIHkpOwogICAgICAgICAgICBpZiAobm9kZSkgewogICAgICAgICAgICAgICAgZHJhZ05vZGUgPSBub2RlOwogICAgICAgICAgICAgICAgc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwLjMpLnJlc3RhcnQoKTsKICAgICAgICAgICAgICAgIGRyYWdOb2RlLmZ4ID0gZHJhZ05vZGUueDsKICAgICAgICAgICAgICAgIGRyYWdOb2RlLmZ5ID0gZHJhZ05vZGUueTsKICAgICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLm9uKCJtb3VzZW1vdmUuZHJhZyIsIChldmVudCkgPT4gewogICAgICAgICAgICBpZiAoZHJhZ05vZGUpIHsKICAgICAgICAgICAgICAgIGNvbnN0IFt4LCB5XSA9IGQzLnBvaW50ZXIoZXZlbnQpOwogICAgICAgICAgICAgICAgZHJhZ05vZGUuZnggPSB0cmFuc2Zvcm0uaW52ZXJ0WCh4KTsKICAgICAgICAgICAgICAgIGRyYWdOb2RlLmZ5ID0gdHJhbnNmb3JtLmludmVydFkoeSk7CiAgICAgICAgICAgICAgICBkcmF3KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5vbigibW91c2V1cC5kcmFnIG1vdXNlbGVhdmUuZHJhZyIsICgpID0+IHsKICAgICAgICAgICAgaWYgKGRyYWdOb2RlKSB7CiAgICAgICAgICAgICAgICBzaW11bGF0aW9uLmFscGhhVGFyZ2V0KDApOwogICAgICAgICAgICAgICAgZHJhZ05vZGUuZnggPSBudWxsOwogICAgICAgICAgICAgICAgZHJhZ05vZGUuZnkgPSBudWxsOwogICAgICAgICAgICAgICAgZHJhZ05vZGUgPSBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIC8vIEluaXRpYWwgZHJhdy4KICAgICAgICBkcmF3KCk7CiAgICB9KSgpOwogICAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPg=="
            frameborder="0"
            allowfullscreen
            
        ></iframe>
        </div></div>
</div>
</section>
<section id="solving">
<h2>Solving<a class="headerlink" href="#solving" title="Link to this heading">¶</a></h2>
<p>Both approaches produce identical results. We’ll use the batched version:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create initial values.</span>
<span class="n">initial_vals</span> <span class="o">=</span> <span class="n">jaxls</span><span class="o">.</span><span class="n">VarValues</span><span class="o">.</span><span class="n">make</span><span class="p">([</span><span class="n">all_point_vars</span><span class="o">.</span><span class="n">with_value</span><span class="p">(</span><span class="n">initial_positions</span><span class="p">)])</span>

<span class="c1"># Build and solve.</span>
<span class="n">problem</span> <span class="o">=</span> <span class="n">jaxls</span><span class="o">.</span><span class="n">LeastSquaresProblem</span><span class="p">(</span><span class="n">costs_batched</span><span class="p">,</span> <span class="p">[</span><span class="n">all_point_vars</span><span class="p">])</span><span class="o">.</span><span class="n">analyze</span><span class="p">()</span>
<span class="n">solution</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">initial_vals</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost
<span class=" -Color -Color-Bold">INFO    </span> | Augmented Lagrangian: initial snorm=0.0000e+00, csupn=0.0000e+00, max_rho=1.9845e+02, constraint_dim=16
<span class=" -Color -Color-Bold">INFO    </span> |  step #0: cost=19.8450 lambd=0.0005 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 19.84501 (avg 1.65375)
<span class=" -Color -Color-Bold">INFO    </span> |  step #1: cost=19.8450 lambd=0.0010 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 19.84501 (avg 1.65375)
<span class=" -Color -Color-Bold">INFO    </span> |  step #2: cost=19.8450 lambd=0.0020 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 19.84501 (avg 1.65375)
<span class=" -Color -Color-Bold">INFO    </span> |  step #3: cost=19.8450 lambd=0.0040 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 19.84501 (avg 1.65375)
<span class=" -Color -Color-Bold">INFO    </span> |  step #4: cost=19.8450 lambd=0.0080 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 19.84501 (avg 1.65375)
<span class=" -Color -Color-Bold">INFO    </span> |  step #5: cost=19.8450 lambd=0.0160 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 19.84501 (avg 1.65375)
<span class=" -Color -Color-Bold">INFO    </span> |  step #6: cost=19.8450 lambd=0.0320 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 19.84501 (avg 1.65375)
<span class=" -Color -Color-Bold">INFO    </span> |  step #7: cost=19.8450 lambd=0.0640 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 19.84501 (avg 1.65375)
<span class=" -Color -Color-Bold">INFO    </span> |  step #8: cost=19.8450 lambd=0.1280 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 19.84501 (avg 1.65375)
<span class=" -Color -Color-Bold">INFO    </span> |  step #9: cost=19.8450 lambd=0.2560 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 19.84501 (avg 1.65375)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=9.73e-01 cost_prev=19.8450 cost_new=17.7450
<span class=" -Color -Color-Bold">INFO    </span> |  step #10: cost=17.7450 lambd=0.1280 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 3.55096 (avg 0.05727)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.19406 (avg 1.18284)
<span class=" -Color -Color-Bold">INFO    </span> |  step #11: cost=17.7450 lambd=0.2560 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 3.55096 (avg 0.05727)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.19406 (avg 1.18284)
<span class=" -Color -Color-Bold">INFO    </span> |  step #12: cost=17.7450 lambd=0.5120 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00000 (avg 0.00000)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 3.55096 (avg 0.05727)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.19406 (avg 1.18284)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=3.02e+00 cost_prev=17.7450 cost_new=16.9602
<span class=" -Color -Color-Bold">INFO    </span> |  step #13: cost=16.9561 lambd=0.2560 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00403 (avg 0.00025)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 2.67261 (avg 0.04311)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.28351 (avg 1.19029)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=1.77e+00 cost_prev=16.9602 cost_new=16.2103
<span class=" -Color -Color-Bold">INFO    </span> |  step #14: cost=16.2057 lambd=0.1280 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00456 (avg 0.00029)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 1.61689 (avg 0.02608)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.58886 (avg 1.21574)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=3.49e-01 cost_prev=16.2103 cost_new=16.1663
<span class=" -Color -Color-Bold">INFO    </span> |  step #15: cost=16.1621 lambd=0.0640 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00414 (avg 0.00026)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 1.27630 (avg 0.02059)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.88583 (avg 1.24049)
<span class=" -Color -Color-Bold">INFO    </span> |  step #16: cost=16.1621 lambd=0.1280 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00414 (avg 0.00026)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 1.27630 (avg 0.02059)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.88583 (avg 1.24049)
<span class=" -Color -Color-Bold">INFO    </span> |  step #17: cost=16.1621 lambd=0.2560 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00414 (avg 0.00026)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 1.27630 (avg 0.02059)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.88583 (avg 1.24049)
<span class=" -Color -Color-Bold">INFO    </span> |  step #18: cost=16.1621 lambd=0.5120 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00414 (avg 0.00026)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 1.27630 (avg 0.02059)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.88583 (avg 1.24049)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=1.89e-01 cost_prev=16.1663 cost_new=16.1507
<span class=" -Color -Color-Bold">INFO    </span> |  step #19: cost=16.1464 lambd=0.2560 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00431 (avg 0.00027)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 1.29705 (avg 0.02092)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.84931 (avg 1.23744)
<span class=" -Color -Color-Bold">INFO    </span> |  step #20: cost=16.1464 lambd=0.5120 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00431 (avg 0.00027)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 1.29705 (avg 0.02092)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.84931 (avg 1.23744)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=1.08e-01 cost_prev=16.1507 cost_new=16.1459
<span class=" -Color -Color-Bold">INFO    </span> |  step #21: cost=16.1416 lambd=0.2560 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00422 (avg 0.00026)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 1.26018 (avg 0.02033)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.88145 (avg 1.24012)
<span class=" -Color -Color-Bold">INFO    </span> |  step #22: cost=16.1416 lambd=0.5120 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00422 (avg 0.00026)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 1.26018 (avg 0.02033)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.88145 (avg 1.24012)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=6.47e-02 cost_prev=16.1459 cost_new=16.1444
<span class=" -Color -Color-Bold">INFO    </span> |  step #23: cost=16.1401 lambd=0.2560 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00429 (avg 0.00027)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 1.26015 (avg 0.02033)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.87994 (avg 1.24000)
<span class=" -Color -Color-Bold">INFO    </span> |  step #24: cost=16.1401 lambd=0.5120 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00429 (avg 0.00027)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 1.26015 (avg 0.02033)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.87994 (avg 1.24000)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=3.27e-02 cost_prev=16.1444 cost_new=16.1439
<span class=" -Color -Color-Bold">INFO    </span> |  step #25: cost=16.1397 lambd=0.2560 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00424 (avg 0.00027)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 1.25002 (avg 0.02016)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.88967 (avg 1.24081)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=False ATb_norm=1.98e-02 cost_prev=16.1439 cost_new=16.1441
<span class=" -Color -Color-Bold">INFO    </span> |  AL update: snorm=1.3472e-03, csupn=1.3472e-03, max_rho=7.9380e+02
<span class=" -Color -Color-Bold">INFO    </span> |  step #26: cost=16.1397 lambd=0.2560 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.02651 (avg 0.00166)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 1.25002 (avg 0.02016)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.88967 (avg 1.24081)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=True ATb_norm=3.91e+00 cost_prev=16.1662 cost_new=16.1491
<span class=" -Color -Color-Bold">INFO    </span> |  step #27: cost=16.1481 lambd=0.1280 inexact_tol=1.0e-02
<span class=" -Color -Color-Bold">INFO    </span> |      - augmented_anchor_constraint(8): 0.00105 (avg 0.00007)
<span class=" -Color -Color-Bold">INFO    </span> |      - spring_cost(31): 1.26088 (avg 0.02034)
<span class=" -Color -Color-Bold">INFO    </span> |      - gravity_cost(12): 14.88720 (avg 1.24060)
<span class=" -Color -Color-Bold">INFO    </span> |      accepted=False ATb_norm=1.88e-02 cost_prev=16.1491 cost_new=16.1492
<span class=" -Color -Color-Bold">INFO    </span> |  AL update: snorm=4.4343e-06, csupn=4.4343e-06, max_rho=7.9380e+02
<span class=" -Color -Color-Bold">INFO    </span> | Terminated @ iteration #28: cost=16.1481 criteria=[1 0 0], term_deltas=6.3e-06,6.7e-03,6.0e-04
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualization">
<h2>Visualization<a class="headerlink" href="#visualization" title="Link to this heading">¶</a></h2>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
<span class="kn">from</span> <span class="nn">plotly.subplots</span> <span class="kn">import</span> <span class="n">make_subplots</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span>


<span class="k">def</span> <span class="nf">get_traces</span><span class="p">(</span><span class="n">vals</span><span class="p">:</span> <span class="n">jaxls</span><span class="o">.</span><span class="n">VarValues</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get all Plotly traces for visualization.</span>

<span class="sd">    Args:</span>
<span class="sd">        vals: Variable values containing point positions</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of Plotly Scatter traces for springs and points</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">positions</span> <span class="o">=</span> <span class="n">vals</span><span class="p">[</span><span class="n">all_point_vars</span><span class="p">]</span>
    <span class="n">traces</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Spring lines.</span>
    <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="p">[(</span><span class="n">h_spring_a</span><span class="p">,</span> <span class="n">h_spring_b</span><span class="p">),</span> <span class="p">(</span><span class="n">v_spring_a</span><span class="p">,</span> <span class="n">v_spring_b</span><span class="p">)]:</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span> <span class="o">=</span> <span class="n">positions</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">positions</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
            <span class="n">traces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
                    <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="n">p1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p2</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                    <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="n">p1</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">p2</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
                    <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;lines&quot;</span><span class="p">,</span>
                    <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
                    <span class="n">opacity</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                    <span class="n">hoverinfo</span><span class="o">=</span><span class="s2">&quot;skip&quot;</span><span class="p">,</span>
                    <span class="n">showlegend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>

    <span class="c1"># Anchor points.</span>
    <span class="n">anchor_pos</span> <span class="o">=</span> <span class="n">positions</span><span class="p">[</span><span class="n">anchor_indices</span><span class="p">]</span>
    <span class="n">traces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="n">anchor_pos</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="n">y</span><span class="o">=</span><span class="n">anchor_pos</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
            <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;markers&quot;</span><span class="p">,</span>
            <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;crimson&quot;</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Anchors&quot;</span><span class="p">,</span>
            <span class="n">hovertemplate</span><span class="o">=</span><span class="s2">&quot;(%</span><span class="si">{x:.2f}</span><span class="s2">, %</span><span class="si">{y:.2f}</span><span class="s2">)&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="c1"># Free points.</span>
    <span class="n">free_pos</span> <span class="o">=</span> <span class="n">positions</span><span class="p">[</span><span class="n">interior_indices</span><span class="p">]</span>
    <span class="n">traces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="n">free_pos</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="n">y</span><span class="o">=</span><span class="n">free_pos</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
            <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;markers&quot;</span><span class="p">,</span>
            <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;steelblue&quot;</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Free points&quot;</span><span class="p">,</span>
            <span class="n">hovertemplate</span><span class="o">=</span><span class="s2">&quot;(%</span><span class="si">{x:.2f}</span><span class="s2">, %</span><span class="si">{y:.2f}</span><span class="s2">)&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">traces</span>


<span class="n">fig</span> <span class="o">=</span> <span class="n">make_subplots</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">subplot_titles</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Initial&quot;</span><span class="p">,</span> <span class="s2">&quot;Optimized&quot;</span><span class="p">))</span>
<span class="k">for</span> <span class="n">trace</span> <span class="ow">in</span> <span class="n">get_traces</span><span class="p">(</span><span class="n">initial_vals</span><span class="p">):</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">for</span> <span class="n">trace</span> <span class="ow">in</span> <span class="n">get_traces</span><span class="p">(</span><span class="n">solution</span><span class="p">):</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_xaxes</span><span class="p">(</span><span class="n">title_text</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">],</span> <span class="n">scaleanchor</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">scaleratio</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_yaxes</span><span class="p">(</span><span class="n">title_text</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">showlegend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">l</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">40</span><span class="p">))</span>
<span class="n">HTML</span><span class="p">(</span><span class="n">fig</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">full_html</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">include_plotlyjs</span><span class="o">=</span><span class="s2">&quot;cdn&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.0.min.js" integrity="sha256-Ei4740bWZhaUTQuD6q9yQlgVCMPBz6CZWhevDYPv93A=" crossorigin="anonymous"></script>                <div id="35ed8c1c-bc9f-48cc-9fb8-e323fb6d40a8" class="plotly-graph-div" style="height:400px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("35ed8c1c-bc9f-48cc-9fb8-e323fb6d40a8")) {                    Plotly.newPlot(                        "35ed8c1c-bc9f-48cc-9fb8-e323fb6d40a8",                        [{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[0.0,1.0],"y":[0.0,0.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[1.0,2.0],"y":[0.0,0.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[2.0,3.0],"y":[0.0,0.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[3.0,4.0],"y":[0.0,0.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[0.0,1.0],"y":[-1.0,-1.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[1.0,2.0],"y":[-1.0,-1.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[2.0,3.0],"y":[-1.0,-1.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[3.0,4.0],"y":[-1.0,-1.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[0.0,1.0],"y":[-2.0,-2.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[1.0,2.0],"y":[-2.0,-2.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[2.0,3.0],"y":[-2.0,-2.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[3.0,4.0],"y":[-2.0,-2.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[0.0,1.0],"y":[-3.0,-3.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[1.0,2.0],"y":[-3.0,-3.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[2.0,3.0],"y":[-3.0,-3.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[3.0,4.0],"y":[-3.0,-3.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[0.0,0.0],"y":[0.0,-1.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[1.0,1.0],"y":[0.0,-1.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[2.0,2.0],"y":[0.0,-1.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[3.0,3.0],"y":[0.0,-1.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[4.0,4.0],"y":[0.0,-1.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[0.0,0.0],"y":[-1.0,-2.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[1.0,1.0],"y":[-1.0,-2.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[2.0,2.0],"y":[-1.0,-2.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[3.0,3.0],"y":[-1.0,-2.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[4.0,4.0],"y":[-1.0,-2.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[0.0,0.0],"y":[-2.0,-3.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[1.0,1.0],"y":[-2.0,-3.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[2.0,2.0],"y":[-2.0,-3.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[3.0,3.0],"y":[-2.0,-3.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[4.0,4.0],"y":[-2.0,-3.0],"type":"scatter","xaxis":"x","yaxis":"y"},{"hovertemplate":"(%{x:.2f}, %{y:.2f})","marker":{"color":"crimson","size":12},"mode":"markers","name":"Anchors","x":{"dtype":"f4","bdata":"AAAAAAAAgEAAAAAAAACAQAAAAAAAAIBAAAAAAAAAgEA="},"y":{"dtype":"f4","bdata":"AAAAAAAAAAAAAIC\u002fAACAvwAAAMAAAADAAABAwAAAQMA="},"type":"scatter","xaxis":"x","yaxis":"y"},{"hovertemplate":"(%{x:.2f}, %{y:.2f})","marker":{"color":"steelblue","size":10},"mode":"markers","name":"Free points","x":{"dtype":"f4","bdata":"AACAPwAAAEAAAEBAAACAPwAAAEAAAEBAAACAPwAAAEAAAEBAAACAPwAAAEAAAEBA"},"y":{"dtype":"f4","bdata":"AAAAAAAAAAAAAAAAAACAvwAAgL8AAIC\u002fAAAAwAAAAMAAAADAAABAwAAAQMAAAEDA"},"type":"scatter","xaxis":"x","yaxis":"y"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[-2.464591943862615e-7,0.8506224751472473],"y":[4.434182301338296e-6,-1.0431700944900513],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[0.8506224751472473,2.0],"y":[-1.0431700944900513,-1.4903693199157715],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[2.0,3.1493775844573975],"y":[-1.4903693199157715,-1.0431700944900513],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[3.1493775844573975,4.0],"y":[-1.0431700944900513,4.4343137233227026e-6],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[-4.241647388880665e-7,0.8550522923469543],"y":[-0.9999973773956299,-2.0232315063476562],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[0.8550522923469543,1.9999998807907104],"y":[-2.0232315063476562,-2.4677467346191406],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[1.9999998807907104,3.1449477672576904],"y":[-2.4677467346191406,-2.0232315063476562],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[3.1449477672576904,4.000000476837158],"y":[-2.0232315063476562,-0.9999973773956299],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[-4.6640388973173685e-7,0.8598397970199585],"y":[-1.9999974966049194,-2.999134063720703],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[0.8598397970199585,2.0],"y":[-2.999134063720703,-3.4360833168029785],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[2.0,3.140160083770752],"y":[-3.4360833168029785,-2.999134063720703],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[3.140160083770752,4.000000476837158],"y":[-2.999134063720703,-1.9999974966049194],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[-3.6986870100008673e-7,0.8630207180976868],"y":[-2.9999959468841553,-3.981503963470459],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[0.8630207180976868,2.0],"y":[-3.981503963470459,-4.410401821136475],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[2.0,3.136979341506958],"y":[-4.410401821136475,-3.981503963470459],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[3.136979341506958,4.000000476837158],"y":[-3.981503963470459,-2.9999959468841553],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[-2.464591943862615e-7,-4.241647388880665e-7],"y":[4.434182301338296e-6,-0.9999973773956299],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[0.8506224751472473,0.8550522923469543],"y":[-1.0431700944900513,-2.0232315063476562],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[2.0,1.9999998807907104],"y":[-1.4903693199157715,-2.4677467346191406],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[3.1493775844573975,3.1449477672576904],"y":[-1.0431700944900513,-2.0232315063476562],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[4.0,4.000000476837158],"y":[4.4343137233227026e-6,-0.9999973773956299],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[-4.241647388880665e-7,-4.6640388973173685e-7],"y":[-0.9999973773956299,-1.9999974966049194],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[0.8550522923469543,0.8598397970199585],"y":[-2.0232315063476562,-2.999134063720703],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[1.9999998807907104,2.0],"y":[-2.4677467346191406,-3.4360833168029785],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[3.1449477672576904,3.140160083770752],"y":[-2.0232315063476562,-2.999134063720703],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[4.000000476837158,4.000000476837158],"y":[-0.9999973773956299,-1.9999974966049194],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[-4.6640388973173685e-7,-3.6986870100008673e-7],"y":[-1.9999974966049194,-2.9999959468841553],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[0.8598397970199585,0.8630207180976868],"y":[-2.999134063720703,-3.981503963470459],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[2.0,2.0],"y":[-3.4360833168029785,-4.410401821136475],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[3.140160083770752,3.136979341506958],"y":[-2.999134063720703,-3.981503963470459],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hoverinfo":"skip","line":{"color":"gray","width":1},"mode":"lines","opacity":0.5,"showlegend":false,"x":[4.000000476837158,4.000000476837158],"y":[-1.9999974966049194,-2.9999959468841553],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hovertemplate":"(%{x:.2f}, %{y:.2f})","marker":{"color":"crimson","size":12},"mode":"markers","name":"Anchors","x":{"dtype":"f4","bdata":"GFGEtAAAgEDCuOO0AQCAQBBm+rQBAIBAXpLGtAEAgEA="},"y":{"dtype":"f4","bdata":"VsmUNnfKlDbU\u002f3+\u002f1P9\u002fv+v\u002f\u002f7\u002fr\u002f\u002f+\u002f7\u002f8\u002fwO\u002f\u002fP8A="},"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hovertemplate":"(%{x:.2f}, %{y:.2f})","marker":{"color":"steelblue","size":10},"mode":"markers","name":"Free points","x":{"dtype":"f4","bdata":"ZcJZPwAAAEBnj0lAteRaP\u002f\u002f\u002f\u002fz\u002fTRklAdh5cPwAAAEBi+EhA7e5cPwAAAEBFxEhA"},"y":{"dtype":"f4","bdata":"mYaFv2zEvr+ZhoW\u002foHwBwJDvHcCgfAHA0PE\u002fwMroW8DQ8T\u002fA9tB+wAMijcD20H7A"},"type":"scatter","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,0.45],"title":{"text":"x"},"range":[-0.5,4.5],"scaleanchor":"y","scaleratio":1},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"y"},"range":[-5,0.5]},"xaxis2":{"anchor":"y2","domain":[0.55,1.0],"title":{"text":"x"},"range":[-0.5,4.5],"scaleanchor":"y","scaleratio":1},"yaxis2":{"anchor":"x2","domain":[0.0,1.0],"title":{"text":"y"},"range":[-5,0.5]},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Initial","x":0.225,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Optimized","x":0.775,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"}],"margin":{"t":40,"b":40,"l":40,"r":40},"height":400,"showlegend":false},                        {"responsive": true}                    )                };            </script>        </div></div></div>
</div>
</section>
<section id="relaxation-animation">
<h2>Relaxation animation<a class="headerlink" href="#relaxation-animation" title="Link to this heading">¶</a></h2>
<p>We can visualize the relaxation process by solving a sequence of problems with progressively increasing gravity. This simulates how the network would settle from its initial configuration to the final equilibrium:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@jaxls</span><span class="o">.</span><span class="n">Cost</span><span class="o">.</span><span class="n">factory</span>
<span class="k">def</span> <span class="nf">gravity_cost_scaled</span><span class="p">(</span>
    <span class="n">vals</span><span class="p">:</span> <span class="n">jaxls</span><span class="o">.</span><span class="n">VarValues</span><span class="p">,</span>
    <span class="n">var</span><span class="p">:</span> <span class="n">Point2Var</span><span class="p">,</span>
    <span class="n">scale</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">jax</span><span class="o">.</span><span class="n">Array</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pull points downward with adjustable strength.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">vals</span><span class="p">[</span><span class="n">var</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mf">10.0</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.15</span> <span class="o">*</span> <span class="n">scale</span>


<span class="c1"># Solve for a sequence of gravity strengths.</span>
<span class="n">n_frames</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">gravity_scales</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">n_frames</span><span class="p">)</span>
<span class="n">frame_solutions</span> <span class="o">=</span> <span class="p">[</span><span class="n">initial_vals</span><span class="p">]</span>

<span class="n">current_vals</span> <span class="o">=</span> <span class="n">initial_vals</span>
<span class="k">for</span> <span class="n">scale</span> <span class="ow">in</span> <span class="n">gravity_scales</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
    <span class="n">costs_scaled</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">jaxls</span><span class="o">.</span><span class="n">Cost</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">anchor_constraint</span><span class="p">(</span><span class="n">Point2Var</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">anchor_indices</span><span class="p">),</span> <span class="n">anchor_positions</span><span class="p">),</span>
        <span class="n">spring_cost</span><span class="p">(</span><span class="n">Point2Var</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">h_spring_a</span><span class="p">),</span> <span class="n">Point2Var</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">h_spring_b</span><span class="p">),</span> <span class="n">spacing</span><span class="p">),</span>
        <span class="n">spring_cost</span><span class="p">(</span><span class="n">Point2Var</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">v_spring_a</span><span class="p">),</span> <span class="n">Point2Var</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">v_spring_b</span><span class="p">),</span> <span class="n">spacing</span><span class="p">),</span>
        <span class="n">gravity_cost_scaled</span><span class="p">(</span><span class="n">Point2Var</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">interior_indices</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="n">scale</span><span class="p">)),</span>
    <span class="p">]</span>
    <span class="n">problem_scaled</span> <span class="o">=</span> <span class="n">jaxls</span><span class="o">.</span><span class="n">LeastSquaresProblem</span><span class="p">(</span><span class="n">costs_scaled</span><span class="p">,</span> <span class="p">[</span><span class="n">all_point_vars</span><span class="p">])</span><span class="o">.</span><span class="n">analyze</span><span class="p">()</span>
    <span class="n">current_vals</span> <span class="o">=</span> <span class="n">problem_scaled</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">current_vals</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">frame_solutions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_vals</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Generated </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">frame_solutions</span><span class="p">)</span><span class="si">}</span><span class="s2"> frames&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
<span class=" -Color -Color-Bold">INFO    </span> | Building optimization problem with 51 terms and 20 variables: 43 costs, 8 eq_zero, 0 leq_zero, 0 geq_zero
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing constraint group with 8 constraints (constraint_eq_zero), 1 variables each: augmented_anchor_constraint
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 12 costs, 1 variables each: gravity_cost_scaled
<span class=" -Color -Color-Bold">INFO    </span> | Vectorizing group with 31 costs, 2 variables each: spring_cost
Generated 20 frames
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_frame_data</span><span class="p">(</span><span class="n">vals</span><span class="p">:</span> <span class="n">jaxls</span><span class="o">.</span><span class="n">VarValues</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract position data for animation frame.&quot;&quot;&quot;</span>
    <span class="n">positions</span> <span class="o">=</span> <span class="n">vals</span><span class="p">[</span><span class="n">all_point_vars</span><span class="p">]</span>

    <span class="c1"># Build spring line coordinates.</span>
    <span class="n">spring_x</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">spring_y</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="p">[(</span><span class="n">h_spring_a</span><span class="p">,</span> <span class="n">h_spring_b</span><span class="p">),</span> <span class="p">(</span><span class="n">v_spring_a</span><span class="p">,</span> <span class="n">v_spring_b</span><span class="p">)]:</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span> <span class="o">=</span> <span class="n">positions</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">positions</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
            <span class="n">spring_x</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="n">p1</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">p2</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="kc">None</span><span class="p">])</span>
            <span class="n">spring_y</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="n">p1</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">p2</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="kc">None</span><span class="p">])</span>

    <span class="n">anchor_pos</span> <span class="o">=</span> <span class="n">positions</span><span class="p">[</span><span class="n">anchor_indices</span><span class="p">]</span>
    <span class="n">free_pos</span> <span class="o">=</span> <span class="n">positions</span><span class="p">[</span><span class="n">interior_indices</span><span class="p">]</span>

    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">spring_x</span><span class="o">=</span><span class="n">spring_x</span><span class="p">,</span>
        <span class="n">spring_y</span><span class="o">=</span><span class="n">spring_y</span><span class="p">,</span>
        <span class="n">anchor_x</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">anchor_pos</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]],</span>
        <span class="n">anchor_y</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">anchor_pos</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]],</span>
        <span class="n">free_x</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">free_pos</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]],</span>
        <span class="n">free_y</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">free_pos</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]],</span>
    <span class="p">)</span>


<span class="c1"># Build animation frames.</span>
<span class="n">frames</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">vals</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">frame_solutions</span><span class="p">):</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">get_frame_data</span><span class="p">(</span><span class="n">vals</span><span class="p">)</span>
    <span class="n">frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="p">[</span>
                <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
                    <span class="n">x</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;spring_x&quot;</span><span class="p">],</span>
                    <span class="n">y</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;spring_y&quot;</span><span class="p">],</span>
                    <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;lines&quot;</span><span class="p">,</span>
                    <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
                    <span class="n">hoverinfo</span><span class="o">=</span><span class="s2">&quot;skip&quot;</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
                    <span class="n">x</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;anchor_x&quot;</span><span class="p">],</span>
                    <span class="n">y</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;anchor_y&quot;</span><span class="p">],</span>
                    <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;markers&quot;</span><span class="p">,</span>
                    <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;crimson&quot;</span><span class="p">),</span>
                <span class="p">),</span>
                <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
                    <span class="n">x</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;free_x&quot;</span><span class="p">],</span>
                    <span class="n">y</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;free_y&quot;</span><span class="p">],</span>
                    <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;markers&quot;</span><span class="p">,</span>
                    <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;steelblue&quot;</span><span class="p">),</span>
                <span class="p">),</span>
            <span class="p">],</span>
            <span class="n">name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="p">)</span>

<span class="c1"># Initial frame data.</span>
<span class="n">init_data</span> <span class="o">=</span> <span class="n">get_frame_data</span><span class="p">(</span><span class="n">initial_vals</span><span class="p">)</span>

<span class="n">fig_anim</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="p">[</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="n">init_data</span><span class="p">[</span><span class="s2">&quot;spring_x&quot;</span><span class="p">],</span>
            <span class="n">y</span><span class="o">=</span><span class="n">init_data</span><span class="p">[</span><span class="s2">&quot;spring_y&quot;</span><span class="p">],</span>
            <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;lines&quot;</span><span class="p">,</span>
            <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
            <span class="n">hoverinfo</span><span class="o">=</span><span class="s2">&quot;skip&quot;</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Springs&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="n">init_data</span><span class="p">[</span><span class="s2">&quot;anchor_x&quot;</span><span class="p">],</span>
            <span class="n">y</span><span class="o">=</span><span class="n">init_data</span><span class="p">[</span><span class="s2">&quot;anchor_y&quot;</span><span class="p">],</span>
            <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;markers&quot;</span><span class="p">,</span>
            <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;crimson&quot;</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Anchors&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="n">init_data</span><span class="p">[</span><span class="s2">&quot;free_x&quot;</span><span class="p">],</span>
            <span class="n">y</span><span class="o">=</span><span class="n">init_data</span><span class="p">[</span><span class="s2">&quot;free_y&quot;</span><span class="p">],</span>
            <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;markers&quot;</span><span class="p">,</span>
            <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;steelblue&quot;</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Free points&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">],</span>
    <span class="n">frames</span><span class="o">=</span><span class="n">frames</span><span class="p">,</span>
    <span class="n">layout</span><span class="o">=</span><span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Spring network relaxation&quot;</span><span class="p">,</span>
        <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">scaleanchor</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">scaleratio</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
        <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">),</span>
        <span class="n">updatemenus</span><span class="o">=</span><span class="p">[</span>
            <span class="nb">dict</span><span class="p">(</span>
                <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;buttons&quot;</span><span class="p">,</span>
                <span class="n">showactive</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">y</span><span class="o">=</span><span class="mf">1.15</span><span class="p">,</span>
                <span class="n">x</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                <span class="n">xanchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                <span class="n">buttons</span><span class="o">=</span><span class="p">[</span>
                    <span class="nb">dict</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Play&quot;</span><span class="p">,</span>
                        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;animate&quot;</span><span class="p">,</span>
                        <span class="n">args</span><span class="o">=</span><span class="p">[</span>
                            <span class="kc">None</span><span class="p">,</span>
                            <span class="nb">dict</span><span class="p">(</span>
                                <span class="n">frame</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">redraw</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
                                <span class="n">fromcurrent</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                <span class="n">transition</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="mi">50</span><span class="p">),</span>
                            <span class="p">),</span>
                        <span class="p">],</span>
                    <span class="p">),</span>
                    <span class="nb">dict</span><span class="p">(</span>
                        <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Pause&quot;</span><span class="p">,</span>
                        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;animate&quot;</span><span class="p">,</span>
                        <span class="n">args</span><span class="o">=</span><span class="p">[</span>
                            <span class="p">[</span><span class="kc">None</span><span class="p">],</span>
                            <span class="nb">dict</span><span class="p">(</span>
                                <span class="n">frame</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">redraw</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;immediate&quot;</span>
                            <span class="p">),</span>
                        <span class="p">],</span>
                    <span class="p">),</span>
                <span class="p">],</span>
            <span class="p">)</span>
        <span class="p">],</span>
        <span class="n">sliders</span><span class="o">=</span><span class="p">[</span>
            <span class="nb">dict</span><span class="p">(</span>
                <span class="n">active</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">yanchor</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">,</span>
                <span class="n">xanchor</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
                <span class="n">currentvalue</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                    <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;Gravity: &quot;</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;%&quot;</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">xanchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span>
                <span class="p">),</span>
                <span class="n">pad</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">50</span><span class="p">),</span>
                <span class="n">steps</span><span class="o">=</span><span class="p">[</span>
                    <span class="nb">dict</span><span class="p">(</span>
                        <span class="n">args</span><span class="o">=</span><span class="p">[</span>
                            <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)],</span>
                            <span class="nb">dict</span><span class="p">(</span>
                                <span class="n">frame</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">redraw</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
                                <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;immediate&quot;</span><span class="p">,</span>
                                <span class="n">transition</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
                            <span class="p">),</span>
                        <span class="p">],</span>
                        <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">gravity_scales</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;animate&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_frames</span><span class="p">)</span>
                <span class="p">],</span>
                <span class="n">x</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="nb">len</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">],</span>
        <span class="n">height</span><span class="o">=</span><span class="mi">450</span><span class="p">,</span>
        <span class="n">showlegend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">margin</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">80</span><span class="p">),</span>
    <span class="p">),</span>
<span class="p">)</span>
<span class="n">HTML</span><span class="p">(</span><span class="n">fig_anim</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">full_html</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">include_plotlyjs</span><span class="o">=</span><span class="s2">&quot;cdn&quot;</span><span class="p">,</span> <span class="n">auto_play</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.0.min.js" integrity="sha256-Ei4740bWZhaUTQuD6q9yQlgVCMPBz6CZWhevDYPv93A=" crossorigin="anonymous"></script>                <div id="46f59d4e-b29f-4405-99cf-c785b26f3f48" class="plotly-graph-div" style="height:450px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("46f59d4e-b29f-4405-99cf-c785b26f3f48")) {                    Plotly.newPlot(                        "46f59d4e-b29f-4405-99cf-c785b26f3f48",                        [{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","name":"Springs","x":[0.0,1.0,null,1.0,2.0,null,2.0,3.0,null,3.0,4.0,null,0.0,1.0,null,1.0,2.0,null,2.0,3.0,null,3.0,4.0,null,0.0,1.0,null,1.0,2.0,null,2.0,3.0,null,3.0,4.0,null,0.0,1.0,null,1.0,2.0,null,2.0,3.0,null,3.0,4.0,null,0.0,0.0,null,1.0,1.0,null,2.0,2.0,null,3.0,3.0,null,4.0,4.0,null,0.0,0.0,null,1.0,1.0,null,2.0,2.0,null,3.0,3.0,null,4.0,4.0,null,0.0,0.0,null,1.0,1.0,null,2.0,2.0,null,3.0,3.0,null,4.0,4.0,null],"y":[0.0,0.0,null,0.0,0.0,null,0.0,0.0,null,0.0,0.0,null,-1.0,-1.0,null,-1.0,-1.0,null,-1.0,-1.0,null,-1.0,-1.0,null,-2.0,-2.0,null,-2.0,-2.0,null,-2.0,-2.0,null,-2.0,-2.0,null,-3.0,-3.0,null,-3.0,-3.0,null,-3.0,-3.0,null,-3.0,-3.0,null,0.0,-1.0,null,0.0,-1.0,null,0.0,-1.0,null,0.0,-1.0,null,0.0,-1.0,null,-1.0,-2.0,null,-1.0,-2.0,null,-1.0,-2.0,null,-1.0,-2.0,null,-1.0,-2.0,null,-2.0,-3.0,null,-2.0,-3.0,null,-2.0,-3.0,null,-2.0,-3.0,null,-2.0,-3.0,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","name":"Anchors","x":[0.0,4.0,0.0,4.0,0.0,4.0,0.0,4.0],"y":[0.0,0.0,-1.0,-1.0,-2.0,-2.0,-3.0,-3.0],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","name":"Free points","x":[1.0,2.0,3.0,1.0,2.0,3.0,1.0,2.0,3.0,1.0,2.0,3.0],"y":[0.0,0.0,0.0,-1.0,-1.0,-1.0,-2.0,-2.0,-2.0,-3.0,-3.0,-3.0],"type":"scatter"}],                        {"height":450,"margin":{"b":80,"t":80},"showlegend":false,"sliders":[{"active":0,"currentvalue":{"prefix":"Gravity: ","suffix":"%","visible":true,"xanchor":"center"},"len":0.8,"pad":{"b":10,"t":50},"steps":[{"args":[["0"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"0","method":"animate"},{"args":[["1"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"5","method":"animate"},{"args":[["2"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"10","method":"animate"},{"args":[["3"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"15","method":"animate"},{"args":[["4"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"21","method":"animate"},{"args":[["5"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"26","method":"animate"},{"args":[["6"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"31","method":"animate"},{"args":[["7"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"36","method":"animate"},{"args":[["8"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"42","method":"animate"},{"args":[["9"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"47","method":"animate"},{"args":[["10"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"52","method":"animate"},{"args":[["11"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"57","method":"animate"},{"args":[["12"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"63","method":"animate"},{"args":[["13"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"68","method":"animate"},{"args":[["14"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"73","method":"animate"},{"args":[["15"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"78","method":"animate"},{"args":[["16"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"84","method":"animate"},{"args":[["17"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"89","method":"animate"},{"args":[["18"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"94","method":"animate"},{"args":[["19"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","transition":{"duration":0}}],"label":"100","method":"animate"}],"x":0.1,"xanchor":"left","y":0,"yanchor":"top"}],"title":{"text":"Spring network relaxation"},"updatemenus":[{"buttons":[{"args":[null,{"frame":{"duration":100,"redraw":true},"fromcurrent":true,"transition":{"duration":50}}],"label":"Play","method":"animate"},{"args":[[null],{"frame":{"duration":0,"redraw":false},"mode":"immediate"}],"label":"Pause","method":"animate"}],"showactive":false,"type":"buttons","x":0.5,"xanchor":"center","y":1.15}],"xaxis":{"range":[-0.5,4.5],"scaleanchor":"y","scaleratio":1,"title":{"text":"x"}},"yaxis":{"range":[-5,0.5],"title":{"text":"y"}},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}}},                        {"responsive": true}                    ).then(function(){
                            Plotly.addFrames('46f59d4e-b29f-4405-99cf-c785b26f3f48', [{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[0.0,1.0,null,1.0,2.0,null,2.0,3.0,null,3.0,4.0,null,0.0,1.0,null,1.0,2.0,null,2.0,3.0,null,3.0,4.0,null,0.0,1.0,null,1.0,2.0,null,2.0,3.0,null,3.0,4.0,null,0.0,1.0,null,1.0,2.0,null,2.0,3.0,null,3.0,4.0,null,0.0,0.0,null,1.0,1.0,null,2.0,2.0,null,3.0,3.0,null,4.0,4.0,null,0.0,0.0,null,1.0,1.0,null,2.0,2.0,null,3.0,3.0,null,4.0,4.0,null,0.0,0.0,null,1.0,1.0,null,2.0,2.0,null,3.0,3.0,null,4.0,4.0,null],"y":[0.0,0.0,null,0.0,0.0,null,0.0,0.0,null,0.0,0.0,null,-1.0,-1.0,null,-1.0,-1.0,null,-1.0,-1.0,null,-1.0,-1.0,null,-2.0,-2.0,null,-2.0,-2.0,null,-2.0,-2.0,null,-2.0,-2.0,null,-3.0,-3.0,null,-3.0,-3.0,null,-3.0,-3.0,null,-3.0,-3.0,null,0.0,-1.0,null,0.0,-1.0,null,0.0,-1.0,null,0.0,-1.0,null,0.0,-1.0,null,-1.0,-2.0,null,-1.0,-2.0,null,-1.0,-2.0,null,-1.0,-2.0,null,-1.0,-2.0,null,-2.0,-3.0,null,-2.0,-3.0,null,-2.0,-3.0,null,-2.0,-3.0,null,-2.0,-3.0,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[0.0,4.0,0.0,4.0,0.0,4.0,0.0,4.0],"y":[0.0,0.0,-1.0,-1.0,-2.0,-2.0,-3.0,-3.0],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[1.0,2.0,3.0,1.0,2.0,3.0,1.0,2.0,3.0,1.0,2.0,3.0],"y":[0.0,0.0,0.0,-1.0,-1.0,-1.0,-2.0,-2.0,-2.0,-3.0,-3.0,-3.0],"type":"scatter"}],"name":"0"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[9.751397556101438e-7,0.9951235055923462,null,0.9951235055923462,2.0,null,2.0,3.0048763751983643,null,3.0048763751983643,3.9999990463256836,null,9.759838803802268e-7,0.9951305389404297,null,0.9951305389404297,2.0,null,2.0,3.004869222640991,null,3.004869222640991,3.9999992847442627,null,9.851820550466073e-7,0.9951393604278564,null,0.9951393604278564,2.000000238418579,null,2.000000238418579,3.0048606395721436,null,3.0048606395721436,3.9999992847442627,null,9.89085037872428e-7,0.995144784450531,null,0.995144784450531,1.9999985694885254,null,1.9999985694885254,3.004852294921875,null,3.004852294921875,3.9999961853027344,null,9.751397556101438e-7,9.759838803802268e-7,null,0.9951235055923462,0.9951305389404297,null,2.0,2.0,null,3.0048763751983643,3.004869222640991,null,3.9999990463256836,3.9999992847442627,null,9.759838803802268e-7,9.851820550466073e-7,null,0.9951305389404297,0.9951393604278564,null,2.0,2.000000238418579,null,3.004869222640991,3.0048606395721436,null,3.9999992847442627,3.9999992847442627,null,9.851820550466073e-7,9.89085037872428e-7,null,0.9951393604278564,0.995144784450531,null,2.000000238418579,1.9999985694885254,null,3.0048606395721436,3.004852294921875,null,3.9999992847442627,3.9999961853027344,null],"y":[3.1615530815543025e-7,-0.14515352249145508,null,-0.14515352249145508,-0.1855154186487198,null,-0.1855154186487198,-0.145150825381279,null,-0.145150825381279,3.1272571732188226e-7,null,-0.9999996423721313,-1.1450599431991577,null,-1.1450599431991577,-1.1854273080825806,null,-1.1854273080825806,-1.1450574398040771,null,-1.1450574398040771,-0.9999997019767761,null,-1.999999761581421,-2.14493727684021,null,-2.14493727684021,-2.1853036880493164,null,-2.1853036880493164,-2.144935131072998,null,-2.144935131072998,-1.9999996423721313,null,-2.999999523162842,-3.1448466777801514,null,-3.1448466777801514,-3.185206174850464,null,-3.185206174850464,-3.1448445320129395,null,-3.1448445320129395,-2.9999988079071045,null,3.1615530815543025e-7,-0.9999996423721313,null,-0.14515352249145508,-1.1450599431991577,null,-0.1855154186487198,-1.1854273080825806,null,-0.145150825381279,-1.1450574398040771,null,3.1272571732188226e-7,-0.9999997019767761,null,-0.9999996423721313,-1.999999761581421,null,-1.1450599431991577,-2.14493727684021,null,-1.1854273080825806,-2.1853036880493164,null,-1.1450574398040771,-2.144935131072998,null,-0.9999997019767761,-1.9999996423721313,null,-1.999999761581421,-2.999999523162842,null,-2.14493727684021,-3.1448466777801514,null,-2.1853036880493164,-3.185206174850464,null,-2.144935131072998,-3.1448445320129395,null,-1.9999996423721313,-2.9999988079071045,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[9.751397556101438e-7,3.9999990463256836,9.759838803802268e-7,3.9999992847442627,9.851820550466073e-7,3.9999992847442627,9.89085037872428e-7,3.9999961853027344],"y":[3.1615530815543025e-7,3.1272571732188226e-7,-0.9999996423721313,-0.9999997019767761,-1.999999761581421,-1.9999996423721313,-2.999999523162842,-2.9999988079071045],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.9951235055923462,2.0,3.0048763751983643,0.9951305389404297,2.0,3.004869222640991,0.9951393604278564,2.000000238418579,3.0048606395721436,0.995144784450531,1.9999985694885254,3.004852294921875],"y":[-0.14515352249145508,-0.1855154186487198,-0.145150825381279,-1.1450599431991577,-1.1854273080825806,-1.1450574398040771,-2.14493727684021,-2.1853036880493164,-2.144935131072998,-3.1448466777801514,-3.185206174850464,-3.1448445320129395],"type":"scatter"}],"name":"1"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[-4.170126430835808e-6,0.9886903762817383,null,0.9886903762817383,1.9999992847442627,null,1.9999992847442627,3.01130747795105,null,3.01130747795105,4.000004291534424,null,-4.1897856135619804e-6,0.9887301325798035,null,0.9887301325798035,1.9999991655349731,null,1.9999991655349731,3.01126766204834,null,3.01126766204834,4.000004291534424,null,-4.2114179450436495e-6,0.9887821674346924,null,0.9887821674346924,1.9999991655349731,null,1.9999991655349731,3.0112156867980957,null,3.0112156867980957,4.000004291534424,null,-4.236927452438977e-6,0.9888200163841248,null,0.9888200163841248,1.9999991655349731,null,1.9999991655349731,3.0111780166625977,null,3.0111780166625977,4.000004291534424,null,-4.170126430835808e-6,-4.1897856135619804e-6,null,0.9886903762817383,0.9887301325798035,null,1.9999992847442627,1.9999991655349731,null,3.01130747795105,3.01126766204834,null,4.000004291534424,4.000004291534424,null,-4.1897856135619804e-6,-4.2114179450436495e-6,null,0.9887301325798035,0.9887821674346924,null,1.9999991655349731,1.9999991655349731,null,3.01126766204834,3.0112156867980957,null,4.000004291534424,4.000004291534424,null,-4.2114179450436495e-6,-4.236927452438977e-6,null,0.9887821674346924,0.9888200163841248,null,1.9999991655349731,1.9999991655349731,null,3.0112156867980957,3.0111780166625977,null,4.000004291534424,4.000004291534424,null],"y":[2.0341831259429455e-6,-0.2260584682226181,null,-0.2260584682226181,-0.29868897795677185,null,-0.29868897795677185,-0.22605086863040924,null,-0.22605086863040924,2.084990001094411e-6,null,-0.9999979734420776,-1.2257013320922852,null,-1.2257013320922852,-1.298332691192627,null,-1.298332691192627,-1.225693941116333,null,-1.225693941116333,-0.9999979138374329,null,-1.9999979734420776,-2.2252273559570312,null,-2.2252273559570312,-2.297849178314209,null,-2.297849178314209,-2.225219964981079,null,-2.225219964981079,-1.999997854232788,null,-2.999997854232788,-3.2248716354370117,null,-3.2248716354370117,-3.297478675842285,null,-3.297478675842285,-3.2248644828796387,null,-3.2248644828796387,-2.999997854232788,null,2.0341831259429455e-6,-0.9999979734420776,null,-0.2260584682226181,-1.2257013320922852,null,-0.29868897795677185,-1.298332691192627,null,-0.22605086863040924,-1.225693941116333,null,2.084990001094411e-6,-0.9999979138374329,null,-0.9999979734420776,-1.9999979734420776,null,-1.2257013320922852,-2.2252273559570312,null,-1.298332691192627,-2.297849178314209,null,-1.225693941116333,-2.225219964981079,null,-0.9999979138374329,-1.999997854232788,null,-1.9999979734420776,-2.999997854232788,null,-2.2252273559570312,-3.2248716354370117,null,-2.297849178314209,-3.297478675842285,null,-2.225219964981079,-3.2248644828796387,null,-1.999997854232788,-2.999997854232788,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[-4.170126430835808e-6,4.000004291534424,-4.1897856135619804e-6,4.000004291534424,-4.2114179450436495e-6,4.000004291534424,-4.236927452438977e-6,4.000004291534424],"y":[2.0341831259429455e-6,2.084990001094411e-6,-0.9999979734420776,-0.9999979138374329,-1.9999979734420776,-1.999997854232788,-2.999997854232788,-2.999997854232788],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.9886903762817383,1.9999992847442627,3.01130747795105,0.9887301325798035,1.9999991655349731,3.01126766204834,0.9887821674346924,1.9999991655349731,3.0112156867980957,0.9888200163841248,1.9999991655349731,3.0111780166625977],"y":[-0.2260584682226181,-0.29868897795677185,-0.22605086863040924,-1.2257013320922852,-1.298332691192627,-1.225693941116333,-2.2252273559570312,-2.297849178314209,-2.225219964981079,-3.2248716354370117,-3.297478675842285,-3.2248644828796387],"type":"scatter"}],"name":"2"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[4.752746917802142e-6,0.9809008240699768,null,0.9809008240699768,1.999999761581421,null,1.999999761581421,3.0190985202789307,null,3.0190985202789307,3.999995231628418,null,4.815517058887053e-6,0.9810161590576172,null,0.9810161590576172,1.9999996423721313,null,1.9999996423721313,3.0189831256866455,null,3.0189831256866455,3.999994993209839,null,4.731849458039505e-6,0.9811603426933289,null,0.9811603426933289,1.9999996423721313,null,1.9999996423721313,3.018839120864868,null,3.018839120864868,3.999995231628418,null,4.533791980065871e-6,0.9812619686126709,null,0.9812619686126709,1.9999996423721313,null,1.9999996423721313,3.018737316131592,null,3.018737316131592,3.999995470046997,null,4.752746917802142e-6,4.815517058887053e-6,null,0.9809008240699768,0.9810161590576172,null,1.999999761581421,1.9999996423721313,null,3.0190985202789307,3.0189831256866455,null,3.999995231628418,3.999994993209839,null,4.815517058887053e-6,4.731849458039505e-6,null,0.9810161590576172,0.9811603426933289,null,1.9999996423721313,1.9999996423721313,null,3.0189831256866455,3.018839120864868,null,3.999994993209839,3.999995231628418,null,4.731849458039505e-6,4.533791980065871e-6,null,0.9811603426933289,0.9812619686126709,null,1.9999996423721313,1.9999996423721313,null,3.018839120864868,3.018737316131592,null,3.999995231628418,3.999995470046997,null],"y":[6.891300927236443e-6,-0.2959752082824707,null,-0.2959752082824707,-0.3935135304927826,null,-0.3935135304927826,-0.29597362875938416,null,-0.29597362875938416,6.90028673488996e-6,null,-0.9999930262565613,-1.2951775789260864,null,-1.2951775789260864,-1.3927563428878784,null,-1.3927563428878784,-1.2951759099960327,null,-1.2951759099960327,-0.999993085861206,null,-1.9999932050704956,-2.2941460609436035,null,-2.2941460609436035,-2.3916940689086914,null,-2.3916940689086914,-2.29414439201355,null,-2.29414439201355,-1.9999929666519165,null,-2.999993085861206,-3.2933900356292725,null,-3.2933900356292725,-3.3908531665802,null,-3.3908531665802,-3.2933883666992188,null,-3.2933883666992188,-2.999993085861206,null,6.891300927236443e-6,-0.9999930262565613,null,-0.2959752082824707,-1.2951775789260864,null,-0.3935135304927826,-1.3927563428878784,null,-0.29597362875938416,-1.2951759099960327,null,6.90028673488996e-6,-0.999993085861206,null,-0.9999930262565613,-1.9999932050704956,null,-1.2951775789260864,-2.2941460609436035,null,-1.3927563428878784,-2.3916940689086914,null,-1.2951759099960327,-2.29414439201355,null,-0.999993085861206,-1.9999929666519165,null,-1.9999932050704956,-2.999993085861206,null,-2.2941460609436035,-3.2933900356292725,null,-2.3916940689086914,-3.3908531665802,null,-2.29414439201355,-3.2933883666992188,null,-1.9999929666519165,-2.999993085861206,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[4.752746917802142e-6,3.999995231628418,4.815517058887053e-6,3.999994993209839,4.731849458039505e-6,3.999995231628418,4.533791980065871e-6,3.999995470046997],"y":[6.891300927236443e-6,6.90028673488996e-6,-0.9999930262565613,-0.999993085861206,-1.9999932050704956,-1.9999929666519165,-2.999993085861206,-2.999993085861206],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.9809008240699768,1.999999761581421,3.0190985202789307,0.9810161590576172,1.9999996423721313,3.0189831256866455,0.9811603426933289,1.9999996423721313,3.018839120864868,0.9812619686126709,1.9999996423721313,3.018737316131592],"y":[-0.2959752082824707,-0.3935135304927826,-0.29597362875938416,-1.2951775789260864,-1.3927563428878784,-1.2951759099960327,-2.2941460609436035,-2.3916940689086914,-2.29414439201355,-3.2933900356292725,-3.3908531665802,-3.2933883666992188],"type":"scatter"}],"name":"3"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[-3.849914719467051e-6,0.9734603762626648,null,0.9734603762626648,2.0,null,2.0,3.0265395641326904,null,3.0265395641326904,4.000003814697266,null,-3.8036862406443106e-6,0.9736728668212891,null,0.9736728668212891,2.0,null,2.0,3.026327133178711,null,3.026327133178711,4.000003814697266,null,-3.7607464946631808e-6,0.9739560484886169,null,0.9739560484886169,2.0,null,2.0,3.0260438919067383,null,3.0260438919067383,4.000003814697266,null,-3.73293187294621e-6,0.9741712808609009,null,0.9741712808609009,1.9999998807907104,null,1.9999998807907104,3.0258285999298096,null,3.0258285999298096,4.000003814697266,null,-3.849914719467051e-6,-3.8036862406443106e-6,null,0.9734603762626648,0.9736728668212891,null,2.0,2.0,null,3.0265395641326904,3.026327133178711,null,4.000003814697266,4.000003814697266,null,-3.8036862406443106e-6,-3.7607464946631808e-6,null,0.9736728668212891,0.9739560484886169,null,2.0,2.0,null,3.026327133178711,3.0260438919067383,null,4.000003814697266,4.000003814697266,null,-3.7607464946631808e-6,-3.73293187294621e-6,null,0.9739560484886169,0.9741712808609009,null,2.0,1.9999998807907104,null,3.0260438919067383,3.0258285999298096,null,4.000003814697266,4.000003814697266,null],"y":[-2.428980678814696e-7,-0.3545879125595093,null,-0.3545879125595093,-0.47950664162635803,null,-0.47950664162635803,-0.3545879125595093,null,-0.3545879125595093,-2.477459588590136e-7,null,-1.000000238418579,-1.3532692193984985,null,-1.3532692193984985,-1.4780961275100708,null,-1.4780961275100708,-1.3532692193984985,null,-1.3532692193984985,-1.000000238418579,null,-2.000000238418579,-2.3515119552612305,null,-2.3515119552612305,-2.4762322902679443,null,-2.4762322902679443,-2.3515119552612305,null,-2.3515119552612305,-2.000000238418579,null,-3.000000238418579,-3.350177764892578,null,-3.350177764892578,-3.474837303161621,null,-3.474837303161621,-3.350177764892578,null,-3.350177764892578,-3.000000238418579,null,-2.428980678814696e-7,-1.000000238418579,null,-0.3545879125595093,-1.3532692193984985,null,-0.47950664162635803,-1.4780961275100708,null,-0.3545879125595093,-1.3532692193984985,null,-2.477459588590136e-7,-1.000000238418579,null,-1.000000238418579,-2.000000238418579,null,-1.3532692193984985,-2.3515119552612305,null,-1.4780961275100708,-2.4762322902679443,null,-1.3532692193984985,-2.3515119552612305,null,-1.000000238418579,-2.000000238418579,null,-2.000000238418579,-3.000000238418579,null,-2.3515119552612305,-3.350177764892578,null,-2.4762322902679443,-3.474837303161621,null,-2.3515119552612305,-3.350177764892578,null,-2.000000238418579,-3.000000238418579,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[-3.849914719467051e-6,4.000003814697266,-3.8036862406443106e-6,4.000003814697266,-3.7607464946631808e-6,4.000003814697266,-3.73293187294621e-6,4.000003814697266],"y":[-2.428980678814696e-7,-2.477459588590136e-7,-1.000000238418579,-1.000000238418579,-2.000000238418579,-2.000000238418579,-3.000000238418579,-3.000000238418579],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.9734603762626648,2.0,3.0265395641326904,0.9736728668212891,2.0,3.026327133178711,0.9739560484886169,2.0,3.0260438919067383,0.9741712808609009,1.9999998807907104,3.0258285999298096],"y":[-0.3545879125595093,-0.47950664162635803,-0.3545879125595093,-1.3532692193984985,-1.4780961275100708,-1.3532692193984985,-2.3515119552612305,-2.4762322902679443,-2.3515119552612305,-3.350177764892578,-3.474837303161621,-3.350177764892578],"type":"scatter"}],"name":"4"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[3.7783120205858722e-6,0.9643586874008179,null,0.9643586874008179,1.9999998807907104,null,1.9999998807907104,3.0356411933898926,null,3.0356411933898926,3.9999961853027344,null,3.674296067401883e-6,0.9647265672683716,null,0.9647265672683716,2.0000007152557373,null,2.0000007152557373,3.0352747440338135,null,3.0352747440338135,3.9999990463256836,null,9.078441962628858e-7,0.965206503868103,null,0.965206503868103,2.0,null,2.0,3.0347936153411865,null,3.0347936153411865,3.9999990463256836,null,9.119448804995045e-7,0.9655665159225464,null,0.9655665159225464,1.9999994039535522,null,1.9999994039535522,3.0344321727752686,null,3.0344321727752686,3.9999964237213135,null,3.7783120205858722e-6,3.674296067401883e-6,null,0.9643586874008179,0.9647265672683716,null,1.9999998807907104,2.0000007152557373,null,3.0356411933898926,3.0352747440338135,null,3.9999961853027344,3.9999990463256836,null,3.674296067401883e-6,9.078441962628858e-7,null,0.9647265672683716,0.965206503868103,null,2.0000007152557373,2.0,null,3.0352747440338135,3.0347936153411865,null,3.9999990463256836,3.9999990463256836,null,9.078441962628858e-7,9.119448804995045e-7,null,0.965206503868103,0.9655665159225464,null,2.0,1.9999994039535522,null,3.0347936153411865,3.0344321727752686,null,3.9999990463256836,3.9999964237213135,null],"y":[3.841515535896178e-6,-0.4127555787563324,null,-0.4127555787563324,-0.5557999014854431,null,-0.5557999014854431,-0.4127555787563324,null,-0.4127555787563324,3.7879199226154014e-6,null,-0.9999962449073792,-1.4107520580291748,null,-1.4107520580291748,-1.5536675453186035,null,-1.5536675453186035,-1.4107520580291748,null,-1.4107520580291748,-0.9999990463256836,null,-1.9999990463256836,-2.408107280731201,null,-2.408107280731201,-2.550825595855713,null,-2.550825595855713,-2.408107280731201,null,-2.408107280731201,-1.9999990463256836,null,-2.9999990463256836,-3.4061107635498047,null,-3.4061107635498047,-3.548675060272217,null,-3.548675060272217,-3.4061107635498047,null,-3.4061107635498047,-2.9999961853027344,null,3.841515535896178e-6,-0.9999962449073792,null,-0.4127555787563324,-1.4107520580291748,null,-0.5557999014854431,-1.5536675453186035,null,-0.4127555787563324,-1.4107520580291748,null,3.7879199226154014e-6,-0.9999990463256836,null,-0.9999962449073792,-1.9999990463256836,null,-1.4107520580291748,-2.408107280731201,null,-1.5536675453186035,-2.550825595855713,null,-1.4107520580291748,-2.408107280731201,null,-0.9999990463256836,-1.9999990463256836,null,-1.9999990463256836,-2.9999990463256836,null,-2.408107280731201,-3.4061107635498047,null,-2.550825595855713,-3.548675060272217,null,-2.408107280731201,-3.4061107635498047,null,-1.9999990463256836,-2.9999961853027344,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[3.7783120205858722e-6,3.9999961853027344,3.674296067401883e-6,3.9999990463256836,9.078441962628858e-7,3.9999990463256836,9.119448804995045e-7,3.9999964237213135],"y":[3.841515535896178e-6,3.7879199226154014e-6,-0.9999962449073792,-0.9999990463256836,-1.9999990463256836,-1.9999990463256836,-2.9999990463256836,-2.9999961853027344],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.9643586874008179,1.9999998807907104,3.0356411933898926,0.9647265672683716,2.0000007152557373,3.0352747440338135,0.965206503868103,2.0,3.0347936153411865,0.9655665159225464,1.9999994039535522,3.0344321727752686],"y":[-0.4127555787563324,-0.5557999014854431,-0.4127555787563324,-1.4107520580291748,-1.5536675453186035,-1.4107520580291748,-2.408107280731201,-2.550825595855713,-2.408107280731201,-3.4061107635498047,-3.548675060272217,-3.4061107635498047],"type":"scatter"}],"name":"5"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[4.94726646138588e-6,0.9551820755004883,null,0.9551820755004883,2.0,null,2.0,3.0448179244995117,null,3.0448179244995117,3.999994993209839,null,4.934064691042295e-6,0.9557466506958008,null,0.9557466506958008,2.0,null,2.0,3.044253349304199,null,3.044253349304199,3.999994993209839,null,4.799320777237881e-6,0.9564746022224426,null,0.9564746022224426,2.0,null,2.0,3.043525457382202,null,3.043525457382202,3.999995231628418,null,4.615431862475816e-6,0.9570135474205017,null,0.9570135474205017,2.0,null,2.0,3.0429863929748535,null,3.0429863929748535,3.999995470046997,null,4.94726646138588e-6,4.934064691042295e-6,null,0.9551820755004883,0.9557466506958008,null,2.0,2.0,null,3.0448179244995117,3.044253349304199,null,3.999994993209839,3.999994993209839,null,4.934064691042295e-6,4.799320777237881e-6,null,0.9557466506958008,0.9564746022224426,null,2.0,2.0,null,3.044253349304199,3.043525457382202,null,3.999994993209839,3.999995231628418,null,4.799320777237881e-6,4.615431862475816e-6,null,0.9564746022224426,0.9570135474205017,null,2.0,2.0,null,3.043525457382202,3.0429863929748535,null,3.999995231628418,3.999995470046997,null],"y":[6.100968676037155e-6,-0.4669397473335266,null,-0.4669397473335266,-0.6301063895225525,null,-0.6301063895225525,-0.4669398367404938,null,-0.4669398367404938,6.101211056375178e-6,null,-0.999993622303009,-1.464142084121704,null,-1.464142084121704,-1.6271374225616455,null,-1.6271374225616455,-1.4641422033309937,null,-1.4641422033309937,-0.999993622303009,null,-1.9999936819076538,-2.460477352142334,null,-2.460477352142334,-2.6231439113616943,null,-2.6231439113616943,-2.460477352142334,null,-2.460477352142334,-1.9999936819076538,null,-2.9999940395355225,-3.45772123336792,null,-3.45772123336792,-3.620087146759033,null,-3.620087146759033,-3.45772123336792,null,-3.45772123336792,-2.9999940395355225,null,6.100968676037155e-6,-0.999993622303009,null,-0.4669397473335266,-1.464142084121704,null,-0.6301063895225525,-1.6271374225616455,null,-0.4669398367404938,-1.4641422033309937,null,6.101211056375178e-6,-0.999993622303009,null,-0.999993622303009,-1.9999936819076538,null,-1.464142084121704,-2.460477352142334,null,-1.6271374225616455,-2.6231439113616943,null,-1.4641422033309937,-2.460477352142334,null,-0.999993622303009,-1.9999936819076538,null,-1.9999936819076538,-2.9999940395355225,null,-2.460477352142334,-3.45772123336792,null,-2.6231439113616943,-3.620087146759033,null,-2.460477352142334,-3.45772123336792,null,-1.9999936819076538,-2.9999940395355225,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[4.94726646138588e-6,3.999994993209839,4.934064691042295e-6,3.999994993209839,4.799320777237881e-6,3.999995231628418,4.615431862475816e-6,3.999995470046997],"y":[6.100968676037155e-6,6.101211056375178e-6,-0.999993622303009,-0.999993622303009,-1.9999936819076538,-1.9999936819076538,-2.9999940395355225,-2.9999940395355225],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.9551820755004883,2.0,3.0448179244995117,0.9557466506958008,2.0,3.044253349304199,0.9564746022224426,2.0,3.043525457382202,0.9570135474205017,2.0,3.0429863929748535],"y":[-0.4669397473335266,-0.6301063895225525,-0.4669398367404938,-1.464142084121704,-1.6271374225616455,-1.4641422033309937,-2.460477352142334,-2.6231439113616943,-2.460477352142334,-3.45772123336792,-3.620087146759033,-3.45772123336792],"type":"scatter"}],"name":"6"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[-4.828918918065028e-6,0.9473750591278076,null,0.9473750591278076,2.0,null,2.0,3.0526249408721924,null,3.0526249408721924,4.000004768371582,null,-4.7233656914613675e-6,0.9481174349784851,null,0.9481174349784851,2.0,null,2.0,3.05188250541687,null,3.05188250541687,4.000004768371582,null,-4.622996129910462e-6,0.9491094946861267,null,0.9491094946861267,2.0,null,2.0,3.0508904457092285,null,3.0508904457092285,4.000004768371582,null,-4.563035417959327e-6,0.9498756527900696,null,0.9498756527900696,2.0,null,2.0,3.050124406814575,null,3.050124406814575,4.000004291534424,null,-4.828918918065028e-6,-4.7233656914613675e-6,null,0.9473750591278076,0.9481174349784851,null,2.0,2.0,null,3.0526249408721924,3.05188250541687,null,4.000004768371582,4.000004768371582,null,-4.7233656914613675e-6,-4.622996129910462e-6,null,0.9481174349784851,0.9491094946861267,null,2.0,2.0,null,3.05188250541687,3.0508904457092285,null,4.000004768371582,4.000004768371582,null,-4.622996129910462e-6,-4.563035417959327e-6,null,0.9491094946861267,0.9498756527900696,null,2.0,2.0,null,3.0508904457092285,3.050124406814575,null,4.000004768371582,4.000004291534424,null],"y":[1.3477981610776624e-6,-0.5149502754211426,null,-0.5149502754211426,-0.706848680973053,null,-0.706848680973053,-0.5149502754211426,null,-0.5149502754211426,1.3478257869792287e-6,null,-0.9999985694885254,-1.5113675594329834,null,-1.5113675594329834,-1.7027531862258911,null,-1.7027531862258911,-1.5113675594329834,null,-1.5113675594329834,-0.9999985694885254,null,-1.999998688697815,-2.5065977573394775,null,-2.5065977573394775,-2.6973960399627686,null,-2.6973960399627686,-2.5065977573394775,null,-2.5065977573394775,-1.999998688697815,null,-2.9999988079071045,-3.5029354095458984,null,-3.5029354095458984,-3.6934010982513428,null,-3.6934010982513428,-3.5029354095458984,null,-3.5029354095458984,-2.9999988079071045,null,1.3477981610776624e-6,-0.9999985694885254,null,-0.5149502754211426,-1.5113675594329834,null,-0.706848680973053,-1.7027531862258911,null,-0.5149502754211426,-1.5113675594329834,null,1.3478257869792287e-6,-0.9999985694885254,null,-0.9999985694885254,-1.999998688697815,null,-1.5113675594329834,-2.5065977573394775,null,-1.7027531862258911,-2.6973960399627686,null,-1.5113675594329834,-2.5065977573394775,null,-0.9999985694885254,-1.999998688697815,null,-1.999998688697815,-2.9999988079071045,null,-2.5065977573394775,-3.5029354095458984,null,-2.6973960399627686,-3.6934010982513428,null,-2.5065977573394775,-3.5029354095458984,null,-1.999998688697815,-2.9999988079071045,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[-4.828918918065028e-6,4.000004768371582,-4.7233656914613675e-6,4.000004768371582,-4.622996129910462e-6,4.000004768371582,-4.563035417959327e-6,4.000004291534424],"y":[1.3477981610776624e-6,1.3478257869792287e-6,-0.9999985694885254,-0.9999985694885254,-1.999998688697815,-1.999998688697815,-2.9999988079071045,-2.9999988079071045],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.9473750591278076,2.0,3.0526249408721924,0.9481174349784851,2.0,3.05188250541687,0.9491094946861267,2.0,3.0508904457092285,0.9498756527900696,2.0,3.050124406814575],"y":[-0.5149502754211426,-0.706848680973053,-0.5149502754211426,-1.5113675594329834,-1.7027531862258911,-1.5113675594329834,-2.5065977573394775,-2.6973960399627686,-2.5065977573394775,-3.5029354095458984,-3.6934010982513428,-3.5029354095458984],"type":"scatter"}],"name":"7"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[-4.228390935168136e-6,0.9364725947380066,null,0.9364725947380066,2.0,null,2.0,3.0635273456573486,null,3.0635273456573486,4.000004291534424,null,-3.4240986224176595e-6,0.9375007748603821,null,0.9375007748603821,2.0,null,2.0,3.0624992847442627,null,3.0624992847442627,4.000003337860107,null,-3.4384588616376277e-6,0.9388280510902405,null,0.9388280510902405,2.0,null,2.0,3.0611720085144043,null,3.0611720085144043,4.000003337860107,null,-4.192863798380131e-6,0.939824104309082,null,0.939824104309082,2.0,null,2.0,3.060175895690918,null,3.060175895690918,4.000004291534424,null,-4.228390935168136e-6,-3.4240986224176595e-6,null,0.9364725947380066,0.9375007748603821,null,2.0,2.0,null,3.0635273456573486,3.0624992847442627,null,4.000004291534424,4.000003337860107,null,-3.4240986224176595e-6,-3.4384588616376277e-6,null,0.9375007748603821,0.9388280510902405,null,2.0,2.0,null,3.0624992847442627,3.0611720085144043,null,4.000003337860107,4.000003337860107,null,-3.4384588616376277e-6,-4.192863798380131e-6,null,0.9388280510902405,0.939824104309082,null,2.0,2.0,null,3.0611720085144043,3.060175895690918,null,4.000003337860107,4.000004291534424,null],"y":[-1.2196386478535715e-6,-0.567996621131897,null,-0.567996621131897,-0.7727734446525574,null,-0.7727734446525574,-0.567996621131897,null,-0.567996621131897,-1.219026671606116e-6,null,-1.0000038146972656,-1.5634334087371826,null,-1.5634334087371826,-1.7676970958709717,null,-1.7676970958709717,-1.5634334087371826,null,-1.5634334087371826,-1.0000038146972656,null,-2.0000035762786865,-2.5574288368225098,null,-2.5574288368225098,-2.7608935832977295,null,-2.7608935832977295,-2.5574288368225098,null,-2.5574288368225098,-2.0000035762786865,null,-3.0000011920928955,-3.552851915359497,null,-3.552851915359497,-3.755683422088623,null,-3.755683422088623,-3.552851915359497,null,-3.552851915359497,-3.0000011920928955,null,-1.2196386478535715e-6,-1.0000038146972656,null,-0.567996621131897,-1.5634334087371826,null,-0.7727734446525574,-1.7676970958709717,null,-0.567996621131897,-1.5634334087371826,null,-1.219026671606116e-6,-1.0000038146972656,null,-1.0000038146972656,-2.0000035762786865,null,-1.5634334087371826,-2.5574288368225098,null,-1.7676970958709717,-2.7608935832977295,null,-1.5634334087371826,-2.5574288368225098,null,-1.0000038146972656,-2.0000035762786865,null,-2.0000035762786865,-3.0000011920928955,null,-2.5574288368225098,-3.552851915359497,null,-2.7608935832977295,-3.755683422088623,null,-2.5574288368225098,-3.552851915359497,null,-2.0000035762786865,-3.0000011920928955,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[-4.228390935168136e-6,4.000004291534424,-3.4240986224176595e-6,4.000003337860107,-3.4384588616376277e-6,4.000003337860107,-4.192863798380131e-6,4.000004291534424],"y":[-1.2196386478535715e-6,-1.219026671606116e-6,-1.0000038146972656,-1.0000038146972656,-2.0000035762786865,-2.0000035762786865,-3.0000011920928955,-3.0000011920928955],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.9364725947380066,2.0,3.0635273456573486,0.9375007748603821,2.0,3.0624992847442627,0.9388280510902405,2.0,3.0611720085144043,0.939824104309082,2.0,3.060175895690918],"y":[-0.567996621131897,-0.7727734446525574,-0.567996621131897,-1.5634334087371826,-1.7676970958709717,-1.5634334087371826,-2.5574288368225098,-2.7608935832977295,-2.5574288368225098,-3.552851915359497,-3.755683422088623,-3.552851915359497],"type":"scatter"}],"name":"8"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[-3.0016362870810553e-6,0.9291311502456665,null,0.9291311502456665,2.0,null,2.0,3.070868968963623,null,3.070868968963623,4.000002861022949,null,-2.946622544186539e-6,0.9303807020187378,null,0.9303807020187378,2.0,null,2.0,3.0696194171905518,null,3.0696194171905518,4.000002861022949,null,-2.9141347113181837e-6,0.9320276975631714,null,0.9320276975631714,2.0,null,2.0,3.067972421646118,null,3.067972421646118,4.000002861022949,null,-2.875385689549148e-6,0.9332937598228455,null,0.9332937598228455,2.0,null,2.0,3.0667061805725098,null,3.0667061805725098,4.000002861022949,null,-3.0016362870810553e-6,-2.946622544186539e-6,null,0.9291311502456665,0.9303807020187378,null,2.0,2.0,null,3.070868968963623,3.0696194171905518,null,4.000002861022949,4.000002861022949,null,-2.946622544186539e-6,-2.9141347113181837e-6,null,0.9303807020187378,0.9320276975631714,null,2.0,2.0,null,3.0696194171905518,3.067972421646118,null,4.000002861022949,4.000002861022949,null,-2.9141347113181837e-6,-2.875385689549148e-6,null,0.9320276975631714,0.9332937598228455,null,2.0,2.0,null,3.067972421646118,3.0667061805725098,null,4.000002861022949,4.000002861022949,null],"y":[8.160051834238402e-7,-0.6112526059150696,null,-0.6112526059150696,-0.8437352776527405,null,-0.8437352776527405,-0.6112525463104248,null,-0.6112525463104248,8.157758202287368e-7,null,-0.9999991059303284,-1.6057164669036865,null,-1.6057164669036865,-1.8373022079467773,null,-1.8373022079467773,-1.6057164669036865,null,-1.6057164669036865,-0.9999991059303284,null,-1.9999991655349731,-2.598409652709961,null,-2.598409652709961,-2.828838348388672,null,-2.828838348388672,-2.598409652709961,null,-2.598409652709961,-1.9999991655349731,null,-2.9999992847442627,-3.5928006172180176,null,-3.5928006172180176,-3.822458028793335,null,-3.822458028793335,-3.5928008556365967,null,-3.5928008556365967,-2.9999992847442627,null,8.160051834238402e-7,-0.9999991059303284,null,-0.6112526059150696,-1.6057164669036865,null,-0.8437352776527405,-1.8373022079467773,null,-0.6112525463104248,-1.6057164669036865,null,8.157758202287368e-7,-0.9999991059303284,null,-0.9999991059303284,-1.9999991655349731,null,-1.6057164669036865,-2.598409652709961,null,-1.8373022079467773,-2.828838348388672,null,-1.6057164669036865,-2.598409652709961,null,-0.9999991059303284,-1.9999991655349731,null,-1.9999991655349731,-2.9999992847442627,null,-2.598409652709961,-3.5928006172180176,null,-2.828838348388672,-3.822458028793335,null,-2.598409652709961,-3.5928008556365967,null,-1.9999991655349731,-2.9999992847442627,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[-3.0016362870810553e-6,4.000002861022949,-2.946622544186539e-6,4.000002861022949,-2.9141347113181837e-6,4.000002861022949,-2.875385689549148e-6,4.000002861022949],"y":[8.160051834238402e-7,8.157758202287368e-7,-0.9999991059303284,-0.9999991059303284,-1.9999991655349731,-1.9999991655349731,-2.9999992847442627,-2.9999992847442627],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.9291311502456665,2.0,3.070868968963623,0.9303807020187378,2.0,3.0696194171905518,0.9320276975631714,2.0,3.067972421646118,0.9332937598228455,2.0,3.0667061805725098],"y":[-0.6112526059150696,-0.8437352776527405,-0.6112525463104248,-1.6057164669036865,-1.8373022079467773,-1.6057164669036865,-2.598409652709961,-2.828838348388672,-2.598409652709961,-3.5928006172180176,-3.822458028793335,-3.5928008556365967],"type":"scatter"}],"name":"9"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[3.2864095373952296e-6,0.9118912816047668,null,0.9118912816047668,2.0,null,2.0,3.088108777999878,null,3.088108777999878,3.9999966621398926,null,3.125521743641002e-6,0.9136248826980591,null,0.9136248826980591,2.0,null,2.0,3.0863749980926514,null,3.0863749980926514,3.9999969005584717,null,2.9969896786496975e-6,0.9157595038414001,null,0.9157595038414001,2.0,null,2.0,3.084240436553955,null,3.084240436553955,3.9999969005584717,null,2.957557853733306e-6,0.91729736328125,null,0.91729736328125,2.0,null,2.0,3.08270263671875,null,3.08270263671875,3.999997138977051,null,3.2864095373952296e-6,3.125521743641002e-6,null,0.9118912816047668,0.9136248826980591,null,2.0,2.0,null,3.088108777999878,3.0863749980926514,null,3.9999966621398926,3.9999969005584717,null,3.125521743641002e-6,2.9969896786496975e-6,null,0.9136248826980591,0.9157595038414001,null,2.0,2.0,null,3.0863749980926514,3.084240436553955,null,3.9999969005584717,3.9999969005584717,null,2.9969896786496975e-6,2.957557853733306e-6,null,0.9157595038414001,0.91729736328125,null,2.0,2.0,null,3.084240436553955,3.08270263671875,null,3.9999969005584717,3.999997138977051,null],"y":[1.2585863942149444e-6,-0.6697922945022583,null,-0.6697922945022583,-0.8913660049438477,null,-0.8913660049438477,-0.6697922945022583,null,-0.6697922945022583,1.2585726381075801e-6,null,-0.9999987483024597,-1.6629830598831177,null,-1.6629830598831177,-1.8839532136917114,null,-1.8839532136917114,-1.6629830598831177,null,-1.6629830598831177,-0.9999987483024597,null,-1.999998688697815,-2.654218912124634,null,-2.654218912124634,-2.8738784790039062,null,-2.8738784790039062,-2.654218912124634,null,-2.654218912124634,-1.999998688697815,null,-2.9999988079071045,-3.647630214691162,null,-3.647630214691162,-3.865997552871704,null,-3.865997552871704,-3.647630214691162,null,-3.647630214691162,-2.9999988079071045,null,1.2585863942149444e-6,-0.9999987483024597,null,-0.6697922945022583,-1.6629830598831177,null,-0.8913660049438477,-1.8839532136917114,null,-0.6697922945022583,-1.6629830598831177,null,1.2585726381075801e-6,-0.9999987483024597,null,-0.9999987483024597,-1.999998688697815,null,-1.6629830598831177,-2.654218912124634,null,-1.8839532136917114,-2.8738784790039062,null,-1.6629830598831177,-2.654218912124634,null,-0.9999987483024597,-1.999998688697815,null,-1.999998688697815,-2.9999988079071045,null,-2.654218912124634,-3.647630214691162,null,-2.8738784790039062,-3.865997552871704,null,-2.654218912124634,-3.647630214691162,null,-1.999998688697815,-2.9999988079071045,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[3.2864095373952296e-6,3.9999966621398926,3.125521743641002e-6,3.9999969005584717,2.9969896786496975e-6,3.9999969005584717,2.957557853733306e-6,3.999997138977051],"y":[1.2585863942149444e-6,1.2585726381075801e-6,-0.9999987483024597,-0.9999987483024597,-1.999998688697815,-1.999998688697815,-2.9999988079071045,-2.9999988079071045],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.9118912816047668,2.0,3.088108777999878,0.9136248826980591,2.0,3.0863749980926514,0.9157595038414001,2.0,3.084240436553955,0.91729736328125,2.0,3.08270263671875],"y":[-0.6697922945022583,-0.8913660049438477,-0.6697922945022583,-1.6629830598831177,-1.8839532136917114,-1.6629830598831177,-2.654218912124634,-2.8738784790039062,-2.654218912124634,-3.647630214691162,-3.865997552871704,-3.647630214691162],"type":"scatter"}],"name":"10"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[7.333206212933874e-6,0.9078679084777832,null,0.9078679084777832,2.0,null,2.0,3.092132091522217,null,3.092132091522217,3.999992609024048,null,6.99559541317285e-6,0.9096100926399231,null,0.9096100926399231,2.0,null,2.0,3.0903899669647217,null,3.0903899669647217,3.999993085861206,null,6.648167982348241e-6,0.9120210409164429,null,0.9120210409164429,2.0,null,2.0,3.0879790782928467,null,3.0879790782928467,3.999993324279785,null,6.4855335040192585e-6,0.9139569401741028,null,0.9139569401741028,2.0,null,2.0,3.086043119430542,null,3.086043119430542,3.9999935626983643,null,7.333206212933874e-6,6.99559541317285e-6,null,0.9078679084777832,0.9096100926399231,null,2.0,2.0,null,3.092132091522217,3.0903899669647217,null,3.999992609024048,3.999993085861206,null,6.99559541317285e-6,6.648167982348241e-6,null,0.9096100926399231,0.9120210409164429,null,2.0,2.0,null,3.0903899669647217,3.0879790782928467,null,3.999993085861206,3.999993324279785,null,6.648167982348241e-6,6.4855335040192585e-6,null,0.9120210409164429,0.9139569401741028,null,2.0,2.0,null,3.0879790782928467,3.086043119430542,null,3.999993324279785,3.9999935626983643,null],"y":[2.457685468471027e-7,-0.7075046300888062,null,-0.7075046300888062,-0.968370258808136,null,-0.968370258808136,-0.7075045704841614,null,-0.7075045704841614,2.4564110390201677e-7,null,-0.9999990463256836,-1.6998306512832642,null,-1.6998306512832642,-1.9591649770736694,null,-1.9591649770736694,-1.6998306512832642,null,-1.6998306512832642,-0.9999990463256836,null,-1.9999988079071045,-2.6896729469299316,null,-2.6896729469299316,-2.9470818042755127,null,-2.9470818042755127,-2.6896729469299316,null,-2.6896729469299316,-1.9999988079071045,null,-2.9999990463256836,-3.68180251121521,null,-3.68180251121521,-3.937933921813965,null,-3.937933921813965,-3.681802272796631,null,-3.681802272796631,-2.9999990463256836,null,2.457685468471027e-7,-0.9999990463256836,null,-0.7075046300888062,-1.6998306512832642,null,-0.968370258808136,-1.9591649770736694,null,-0.7075045704841614,-1.6998306512832642,null,2.4564110390201677e-7,-0.9999990463256836,null,-0.9999990463256836,-1.9999988079071045,null,-1.6998306512832642,-2.6896729469299316,null,-1.9591649770736694,-2.9470818042755127,null,-1.6998306512832642,-2.6896729469299316,null,-0.9999990463256836,-1.9999988079071045,null,-1.9999988079071045,-2.9999990463256836,null,-2.6896729469299316,-3.68180251121521,null,-2.9470818042755127,-3.937933921813965,null,-2.6896729469299316,-3.681802272796631,null,-1.9999988079071045,-2.9999990463256836,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[7.333206212933874e-6,3.999992609024048,6.99559541317285e-6,3.999993085861206,6.648167982348241e-6,3.999993324279785,6.4855335040192585e-6,3.9999935626983643],"y":[2.457685468471027e-7,2.4564110390201677e-7,-0.9999990463256836,-0.9999990463256836,-1.9999988079071045,-1.9999988079071045,-2.9999990463256836,-2.9999990463256836],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.9078679084777832,2.0,3.092132091522217,0.9096100926399231,2.0,3.0903899669647217,0.9120210409164429,2.0,3.0879790782928467,0.9139569401741028,2.0,3.086043119430542],"y":[-0.7075046300888062,-0.968370258808136,-0.7075045704841614,-1.6998306512832642,-1.9591649770736694,-1.6998306512832642,-2.6896729469299316,-2.9470818042755127,-2.6896729469299316,-3.68180251121521,-3.937933921813965,-3.681802272796631],"type":"scatter"}],"name":"11"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[4.6512667495335336e-7,0.9030600786209106,null,0.9030600786209106,2.0,null,2.0,3.0969398021698,null,3.0969398021698,3.999999523162842,null,4.281233429992426e-7,0.9051387906074524,null,0.9051387906074524,2.0,null,2.0,3.0948612689971924,null,3.0948612689971924,3.999999523162842,null,4.244938054398517e-7,0.90785813331604,null,0.90785813331604,2.0,null,2.0,3.09214186668396,null,3.09214186668396,3.999999761581421,null,4.467846110856044e-7,0.909964382648468,null,0.909964382648468,2.0,null,2.0,3.0900354385375977,null,3.0900354385375977,3.999999523162842,null,4.6512667495335336e-7,4.281233429992426e-7,null,0.9030600786209106,0.9051387906074524,null,2.0,2.0,null,3.0969398021698,3.0948612689971924,null,3.999999523162842,3.999999523162842,null,4.281233429992426e-7,4.244938054398517e-7,null,0.9051387906074524,0.90785813331604,null,2.0,2.0,null,3.0948612689971924,3.09214186668396,null,3.999999523162842,3.999999761581421,null,4.244938054398517e-7,4.467846110856044e-7,null,0.90785813331604,0.909964382648468,null,2.0,2.0,null,3.09214186668396,3.0900354385375977,null,3.999999761581421,3.999999523162842,null],"y":[-1.5959558368194848e-6,-0.7451763153076172,null,-0.7451763153076172,-1.0412310361862183,null,-1.0412310361862183,-0.7451762557029724,null,-0.7451762557029724,-1.5960222299327143e-6,null,-1.0000030994415283,-1.736264705657959,null,-1.736264705657959,-2.0304605960845947,null,-2.0304605960845947,-1.7362645864486694,null,-1.7362645864486694,-1.0000030994415283,null,-2.0000030994415283,-2.7245934009552,null,-2.7245934009552,-3.016298770904541,null,-3.016298770904541,-2.724593162536621,null,-2.724593162536621,-2.0000030994415283,null,-3.0000016689300537,-3.715592384338379,null,-3.715592384338379,-4.005557060241699,null,-4.005557060241699,-3.715592384338379,null,-3.715592384338379,-3.0000016689300537,null,-1.5959558368194848e-6,-1.0000030994415283,null,-0.7451763153076172,-1.736264705657959,null,-1.0412310361862183,-2.0304605960845947,null,-0.7451762557029724,-1.7362645864486694,null,-1.5960222299327143e-6,-1.0000030994415283,null,-1.0000030994415283,-2.0000030994415283,null,-1.736264705657959,-2.7245934009552,null,-2.0304605960845947,-3.016298770904541,null,-1.7362645864486694,-2.724593162536621,null,-1.0000030994415283,-2.0000030994415283,null,-2.0000030994415283,-3.0000016689300537,null,-2.7245934009552,-3.715592384338379,null,-3.016298770904541,-4.005557060241699,null,-2.724593162536621,-3.715592384338379,null,-2.0000030994415283,-3.0000016689300537,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[4.6512667495335336e-7,3.999999523162842,4.281233429992426e-7,3.999999523162842,4.244938054398517e-7,3.999999761581421,4.467846110856044e-7,3.999999523162842],"y":[-1.5959558368194848e-6,-1.5960222299327143e-6,-1.0000030994415283,-1.0000030994415283,-2.0000030994415283,-2.0000030994415283,-3.0000016689300537,-3.0000016689300537],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.9030600786209106,2.0,3.0969398021698,0.9051387906074524,2.0,3.0948612689971924,0.90785813331604,2.0,3.09214186668396,0.909964382648468,2.0,3.0900354385375977],"y":[-0.7451763153076172,-1.0412310361862183,-0.7451762557029724,-1.736264705657959,-2.0304605960845947,-1.7362645864486694,-2.7245934009552,-3.016298770904541,-2.724593162536621,-3.715592384338379,-4.005557060241699,-3.715592384338379],"type":"scatter"}],"name":"12"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[6.7312957980902866e-6,0.8946623802185059,null,0.8946623802185059,2.0,null,2.0,3.105337619781494,null,3.105337619781494,3.999993324279785,null,6.443901838792954e-6,0.8972222208976746,null,0.8972222208976746,2.0,null,2.0,3.1027779579162598,null,3.1027779579162598,3.9999935626983643,null,6.151030902401544e-6,0.9002696871757507,null,0.9002696871757507,1.9999998807907104,null,1.9999998807907104,3.0997302532196045,null,3.0997302532196045,3.9999938011169434,null,6.0040460994059686e-6,0.9024670124053955,null,0.9024670124053955,2.0,null,2.0,3.0975329875946045,null,3.0975329875946045,3.9999940395355225,null,6.7312957980902866e-6,6.443901838792954e-6,null,0.8946623802185059,0.8972222208976746,null,2.0,2.0,null,3.105337619781494,3.1027779579162598,null,3.999993324279785,3.9999935626983643,null,6.443901838792954e-6,6.151030902401544e-6,null,0.8972222208976746,0.9002696871757507,null,2.0,1.9999998807907104,null,3.1027779579162598,3.0997302532196045,null,3.9999935626983643,3.9999938011169434,null,6.151030902401544e-6,6.0040460994059686e-6,null,0.9002696871757507,0.9024670124053955,null,1.9999998807907104,2.0,null,3.0997302532196045,3.0975329875946045,null,3.9999938011169434,3.9999940395355225,null],"y":[-3.6324720440461533e-6,-0.7927131056785583,null,-0.7927131056785583,-1.1094902753829956,null,-1.1094902753829956,-0.7927131056785583,null,-0.7927131056785583,-3.632332436609431e-6,null,-1.000008463859558,-1.7820873260498047,null,-1.7820873260498047,-2.0980899333953857,null,-2.0980899333953857,-1.7820873260498047,null,-1.7820873260498047,-1.000008463859558,null,-2.0000081062316895,-2.7688276767730713,null,-2.7688276767730713,-3.0817315578460693,null,-3.0817315578460693,-2.7688276767730713,null,-2.7688276767730713,-2.0000081062316895,null,-3.0000030994415283,-3.7589550018310547,null,-3.7589550018310547,-4.068423271179199,null,-4.068423271179199,-3.7589550018310547,null,-3.7589550018310547,-3.0000030994415283,null,-3.6324720440461533e-6,-1.000008463859558,null,-0.7927131056785583,-1.7820873260498047,null,-1.1094902753829956,-2.0980899333953857,null,-0.7927131056785583,-1.7820873260498047,null,-3.632332436609431e-6,-1.000008463859558,null,-1.000008463859558,-2.0000081062316895,null,-1.7820873260498047,-2.7688276767730713,null,-2.0980899333953857,-3.0817315578460693,null,-1.7820873260498047,-2.7688276767730713,null,-1.000008463859558,-2.0000081062316895,null,-2.0000081062316895,-3.0000030994415283,null,-2.7688276767730713,-3.7589550018310547,null,-3.0817315578460693,-4.068423271179199,null,-2.7688276767730713,-3.7589550018310547,null,-2.0000081062316895,-3.0000030994415283,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[6.7312957980902866e-6,3.999993324279785,6.443901838792954e-6,3.9999935626983643,6.151030902401544e-6,3.9999938011169434,6.0040460994059686e-6,3.9999940395355225],"y":[-3.6324720440461533e-6,-3.632332436609431e-6,-1.000008463859558,-1.000008463859558,-2.0000081062316895,-2.0000081062316895,-3.0000030994415283,-3.0000030994415283],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.8946623802185059,2.0,3.105337619781494,0.8972222208976746,2.0,3.1027779579162598,0.9002696871757507,1.9999998807907104,3.0997302532196045,0.9024670124053955,2.0,3.0975329875946045],"y":[-0.7927131056785583,-1.1094902753829956,-0.7927131056785583,-1.7820873260498047,-2.0980899333953857,-1.7820873260498047,-2.7688276767730713,-3.0817315578460693,-2.7688276767730713,-3.7589550018310547,-4.068423271179199,-3.7589550018310547],"type":"scatter"}],"name":"13"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[4.417754098540172e-6,0.8864161372184753,null,0.8864161372184753,2.0,null,2.0,3.11358380317688,null,3.11358380317688,3.999995708465576,null,3.989994183939416e-6,0.8889627456665039,null,0.8889627456665039,2.0,null,2.0,3.111037254333496,null,3.111037254333496,3.9999959468841553,null,3.978250788350124e-6,0.8923515677452087,null,0.8923515677452087,2.0,null,2.0,3.1076483726501465,null,3.1076483726501465,3.9999959468841553,null,4.08734649681719e-6,0.8950453996658325,null,0.8950453996658325,2.0,null,2.0,3.104954719543457,null,3.104954719543457,3.9999959468841553,null,4.417754098540172e-6,3.989994183939416e-6,null,0.8864161372184753,0.8889627456665039,null,2.0,2.0,null,3.11358380317688,3.111037254333496,null,3.999995708465576,3.9999959468841553,null,3.989994183939416e-6,3.978250788350124e-6,null,0.8889627456665039,0.8923515677452087,null,2.0,2.0,null,3.111037254333496,3.1076483726501465,null,3.9999959468841553,3.9999959468841553,null,3.978250788350124e-6,4.08734649681719e-6,null,0.8923515677452087,0.8950453996658325,null,2.0,2.0,null,3.1076483726501465,3.104954719543457,null,3.9999959468841553,3.9999959468841553,null],"y":[8.915852959034964e-6,-0.8312902450561523,null,-0.8312902450561523,-1.1701160669326782,null,-1.1701160669326782,-0.8312902450561523,null,-0.8312902450561523,8.915899343264755e-6,null,-0.9999909996986389,-1.8199405670166016,null,-1.8199405670166016,-2.1558825969696045,null,-2.1558825969696045,-1.8199405670166016,null,-1.8199405670166016,-0.9999909996986389,null,-1.999991536140442,-2.8050734996795654,null,-2.8050734996795654,-3.137270450592041,null,-3.137270450592041,-2.8050734996795654,null,-2.8050734996795654,-1.999991536140442,null,-2.9999918937683105,-3.79351544380188,null,-3.79351544380188,-4.123171329498291,null,-4.123171329498291,-3.79351544380188,null,-3.79351544380188,-2.9999918937683105,null,8.915852959034964e-6,-0.9999909996986389,null,-0.8312902450561523,-1.8199405670166016,null,-1.1701160669326782,-2.1558825969696045,null,-0.8312902450561523,-1.8199405670166016,null,8.915899343264755e-6,-0.9999909996986389,null,-0.9999909996986389,-1.999991536140442,null,-1.8199405670166016,-2.8050734996795654,null,-2.1558825969696045,-3.137270450592041,null,-1.8199405670166016,-2.8050734996795654,null,-0.9999909996986389,-1.999991536140442,null,-1.999991536140442,-2.9999918937683105,null,-2.8050734996795654,-3.79351544380188,null,-3.137270450592041,-4.123171329498291,null,-2.8050734996795654,-3.79351544380188,null,-1.999991536140442,-2.9999918937683105,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[4.417754098540172e-6,3.999995708465576,3.989994183939416e-6,3.9999959468841553,3.978250788350124e-6,3.9999959468841553,4.08734649681719e-6,3.9999959468841553],"y":[8.915852959034964e-6,8.915899343264755e-6,-0.9999909996986389,-0.9999909996986389,-1.999991536140442,-1.999991536140442,-2.9999918937683105,-2.9999918937683105],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.8864161372184753,2.0,3.11358380317688,0.8889627456665039,2.0,3.111037254333496,0.8923515677452087,2.0,3.1076483726501465,0.8950453996658325,2.0,3.104954719543457],"y":[-0.8312902450561523,-1.1701160669326782,-0.8312902450561523,-1.8199405670166016,-2.1558825969696045,-1.8199405670166016,-2.8050734996795654,-3.137270450592041,-2.8050734996795654,-3.79351544380188,-4.123171329498291,-3.79351544380188],"type":"scatter"}],"name":"14"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[-4.633141543308739e-6,0.8769040703773499,null,0.8769040703773499,2.0,null,2.0,3.123095750808716,null,3.123095750808716,4.000004768371582,null,-4.437457846506732e-6,0.8791572451591492,null,0.8791572451591492,2.0,null,2.0,3.120842695236206,null,3.120842695236206,4.000004291534424,null,-4.222537882014876e-6,0.882893979549408,null,0.882893979549408,2.0,null,2.0,3.1171059608459473,null,3.1171059608459473,4.000004291534424,null,-4.100559181097196e-6,0.8863443732261658,null,0.8863443732261658,2.0,null,2.0,3.1136555671691895,null,3.1136555671691895,4.000004291534424,null,-4.633141543308739e-6,-4.437457846506732e-6,null,0.8769040703773499,0.8791572451591492,null,2.0,2.0,null,3.123095750808716,3.120842695236206,null,4.000004768371582,4.000004291534424,null,-4.437457846506732e-6,-4.222537882014876e-6,null,0.8791572451591492,0.882893979549408,null,2.0,2.0,null,3.120842695236206,3.1171059608459473,null,4.000004291534424,4.000004291534424,null,-4.222537882014876e-6,-4.100559181097196e-6,null,0.882893979549408,0.8863443732261658,null,2.0,2.0,null,3.1171059608459473,3.1136555671691895,null,4.000004291534424,4.000004291534424,null],"y":[-4.605079084285535e-6,-0.879568338394165,null,-0.879568338394165,-1.23275625705719,null,-1.23275625705719,-0.879568338394165,null,-0.879568338394165,-4.605205958796432e-6,null,-1.0000079870224,-1.8680119514465332,null,-1.8680119514465332,-2.2161221504211426,null,-2.2161221504211426,-1.8680119514465332,null,-1.8680119514465332,-1.0000079870224,null,-2.0000076293945312,-2.8513896465301514,null,-2.8513896465301514,-3.195199966430664,null,-3.195199966430664,-2.8513896465301514,null,-2.8513896465301514,-2.0000076293945312,null,-3.0000040531158447,-3.8374342918395996,null,-3.8374342918395996,-4.179805278778076,null,-4.179805278778076,-3.8374342918395996,null,-3.8374342918395996,-3.0000040531158447,null,-4.605079084285535e-6,-1.0000079870224,null,-0.879568338394165,-1.8680119514465332,null,-1.23275625705719,-2.2161221504211426,null,-0.879568338394165,-1.8680119514465332,null,-4.605205958796432e-6,-1.0000079870224,null,-1.0000079870224,-2.0000076293945312,null,-1.8680119514465332,-2.8513896465301514,null,-2.2161221504211426,-3.195199966430664,null,-1.8680119514465332,-2.8513896465301514,null,-1.0000079870224,-2.0000076293945312,null,-2.0000076293945312,-3.0000040531158447,null,-2.8513896465301514,-3.8374342918395996,null,-3.195199966430664,-4.179805278778076,null,-2.8513896465301514,-3.8374342918395996,null,-2.0000076293945312,-3.0000040531158447,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[-4.633141543308739e-6,4.000004768371582,-4.437457846506732e-6,4.000004291534424,-4.222537882014876e-6,4.000004291534424,-4.100559181097196e-6,4.000004291534424],"y":[-4.605079084285535e-6,-4.605205958796432e-6,-1.0000079870224,-1.0000079870224,-2.0000076293945312,-2.0000076293945312,-3.0000040531158447,-3.0000040531158447],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.8769040703773499,2.0,3.123095750808716,0.8791572451591492,2.0,3.120842695236206,0.882893979549408,2.0,3.1171059608459473,0.8863443732261658,2.0,3.1136555671691895],"y":[-0.879568338394165,-1.23275625705719,-0.879568338394165,-1.8680119514465332,-2.2161221504211426,-1.8680119514465332,-2.8513896465301514,-3.195199966430664,-2.8513896465301514,-3.8374342918395996,-4.179805278778076,-3.8374342918395996],"type":"scatter"}],"name":"15"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[-1.231905343956896e-6,0.8696622252464294,null,0.8696622252464294,2.0,null,2.0,3.130337715148926,null,3.130337715148926,4.000001430511475,null,-1.292007709707832e-6,0.872838020324707,null,0.872838020324707,2.0,null,2.0,3.127161979675293,null,3.127161979675293,4.000001430511475,null,-1.284031554860121e-6,0.8769486546516418,null,0.8769486546516418,2.0,null,2.0,3.123051404953003,null,3.123051404953003,4.000001430511475,null,-1.2155646800238173e-6,0.88013756275177,null,0.88013756275177,2.0,null,2.0,3.1198625564575195,null,3.1198625564575195,4.000001430511475,null,-1.231905343956896e-6,-1.292007709707832e-6,null,0.8696622252464294,0.872838020324707,null,2.0,2.0,null,3.130337715148926,3.127161979675293,null,4.000001430511475,4.000001430511475,null,-1.292007709707832e-6,-1.284031554860121e-6,null,0.872838020324707,0.8769486546516418,null,2.0,2.0,null,3.127161979675293,3.123051404953003,null,4.000001430511475,4.000001430511475,null,-1.284031554860121e-6,-1.2155646800238173e-6,null,0.8769486546516418,0.88013756275177,null,2.0,2.0,null,3.123051404953003,3.1198625564575195,null,4.000001430511475,4.000001430511475,null],"y":[-8.414118610744481e-7,-0.9168853163719177,null,-0.9168853163719177,-1.2931344509124756,null,-1.2931344509124756,-0.9168853163719177,null,-0.9168853163719177,-8.41452333588677e-7,null,-1.0000007152557373,-1.9027010202407837,null,-1.9027010202407837,-2.275345802307129,null,-2.275345802307129,-1.9027010202407837,null,-1.9027010202407837,-1.0000007152557373,null,-2.0000007152557373,-2.884286642074585,null,-2.884286642074585,-3.2519662380218506,null,-3.2519662380218506,-2.884286642074585,null,-2.884286642074585,-2.0000007152557373,null,-3.000000476837158,-3.870021343231201,null,-3.870021343231201,-4.234062194824219,null,-4.234062194824219,-3.870021343231201,null,-3.870021343231201,-3.000000476837158,null,-8.414118610744481e-7,-1.0000007152557373,null,-0.9168853163719177,-1.9027010202407837,null,-1.2931344509124756,-2.275345802307129,null,-0.9168853163719177,-1.9027010202407837,null,-8.41452333588677e-7,-1.0000007152557373,null,-1.0000007152557373,-2.0000007152557373,null,-1.9027010202407837,-2.884286642074585,null,-2.275345802307129,-3.2519662380218506,null,-1.9027010202407837,-2.884286642074585,null,-1.0000007152557373,-2.0000007152557373,null,-2.0000007152557373,-3.000000476837158,null,-2.884286642074585,-3.870021343231201,null,-3.2519662380218506,-4.234062194824219,null,-2.884286642074585,-3.870021343231201,null,-2.0000007152557373,-3.000000476837158,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[-1.231905343956896e-6,4.000001430511475,-1.292007709707832e-6,4.000001430511475,-1.284031554860121e-6,4.000001430511475,-1.2155646800238173e-6,4.000001430511475],"y":[-8.414118610744481e-7,-8.41452333588677e-7,-1.0000007152557373,-1.0000007152557373,-2.0000007152557373,-2.0000007152557373,-3.000000476837158,-3.000000476837158],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.8696622252464294,2.0,3.130337715148926,0.872838020324707,2.0,3.127161979675293,0.8769486546516418,2.0,3.123051404953003,0.88013756275177,2.0,3.1198625564575195],"y":[-0.9168853163719177,-1.2931344509124756,-0.9168853163719177,-1.9027010202407837,-2.275345802307129,-1.9027010202407837,-2.884286642074585,-3.2519662380218506,-2.884286642074585,-3.870021343231201,-4.234062194824219,-3.870021343231201],"type":"scatter"}],"name":"16"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[6.377401405188721e-6,0.8608348369598389,null,0.8608348369598389,2.0,null,2.0,3.139165163040161,null,3.139165163040161,3.9999935626983643,null,6.341479092952795e-6,0.8641778230667114,null,0.8641778230667114,2.0,null,2.0,3.135822296142578,null,3.135822296142578,3.9999938011169434,null,6.365210538206156e-6,0.868450939655304,null,0.868450939655304,2.0,null,2.0,3.131549119949341,null,3.131549119949341,3.9999935626983643,null,6.1715527408523485e-6,0.8718122243881226,null,0.8718122243881226,2.0,null,2.0,3.128187656402588,null,3.128187656402588,3.9999938011169434,null,6.377401405188721e-6,6.341479092952795e-6,null,0.8608348369598389,0.8641778230667114,null,2.0,2.0,null,3.139165163040161,3.135822296142578,null,3.9999935626983643,3.9999938011169434,null,6.341479092952795e-6,6.365210538206156e-6,null,0.8641778230667114,0.868450939655304,null,2.0,2.0,null,3.135822296142578,3.131549119949341,null,3.9999938011169434,3.9999935626983643,null,6.365210538206156e-6,6.1715527408523485e-6,null,0.868450939655304,0.8718122243881226,null,2.0,2.0,null,3.131549119949341,3.128187656402588,null,3.9999935626983643,3.9999938011169434,null],"y":[5.759341092925752e-7,-0.9604119062423706,null,-0.9604119062423706,-1.3540058135986328,null,-1.3540058135986328,-0.9604119062423706,null,-0.9604119062423706,5.759989676334953e-7,null,-0.9999992251396179,-1.9448939561843872,null,-1.9448939561843872,-2.3341429233551025,null,-2.3341429233551025,-1.9448938369750977,null,-1.9448938369750977,-0.9999992251396179,null,-1.9999990463256836,-2.924821615219116,null,-2.924821615219116,-3.3079800605773926,null,-3.3079800605773926,-2.924821615219116,null,-2.924821615219116,-1.9999990463256836,null,-2.9999990463256836,-3.909231424331665,null,-3.909231424331665,-4.287927150726318,null,-4.287927150726318,-3.909231424331665,null,-3.909231424331665,-2.9999990463256836,null,5.759341092925752e-7,-0.9999992251396179,null,-0.9604119062423706,-1.9448939561843872,null,-1.3540058135986328,-2.3341429233551025,null,-0.9604119062423706,-1.9448938369750977,null,5.759989676334953e-7,-0.9999992251396179,null,-0.9999992251396179,-1.9999990463256836,null,-1.9448939561843872,-2.924821615219116,null,-2.3341429233551025,-3.3079800605773926,null,-1.9448938369750977,-2.924821615219116,null,-0.9999992251396179,-1.9999990463256836,null,-1.9999990463256836,-2.9999990463256836,null,-2.924821615219116,-3.909231424331665,null,-3.3079800605773926,-4.287927150726318,null,-2.924821615219116,-3.909231424331665,null,-1.9999990463256836,-2.9999990463256836,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[6.377401405188721e-6,3.9999935626983643,6.341479092952795e-6,3.9999938011169434,6.365210538206156e-6,3.9999935626983643,6.1715527408523485e-6,3.9999938011169434],"y":[5.759341092925752e-7,5.759989676334953e-7,-0.9999992251396179,-0.9999992251396179,-1.9999990463256836,-1.9999990463256836,-2.9999990463256836,-2.9999990463256836],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.8608348369598389,2.0,3.139165163040161,0.8641778230667114,2.0,3.135822296142578,0.868450939655304,2.0,3.131549119949341,0.8718122243881226,2.0,3.128187656402588],"y":[-0.9604119062423706,-1.3540058135986328,-0.9604119062423706,-1.9448939561843872,-2.3341429233551025,-1.9448938369750977,-2.924821615219116,-3.3079800605773926,-2.924821615219116,-3.909231424331665,-4.287927150726318,-3.909231424331665],"type":"scatter"}],"name":"17"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[-1.1111690128018381e-6,0.8596144318580627,null,0.8596144318580627,2.0,null,2.0,3.140385627746582,null,3.140385627746582,4.000000953674316,null,-1.8885817780756042e-6,0.862828254699707,null,0.862828254699707,2.0,null,2.0,3.137171745300293,null,3.137171745300293,4.000001907348633,null,-1.7929822888618219e-6,0.8672405481338501,null,0.8672405481338501,1.9999998807907104,null,1.9999998807907104,3.1327595710754395,null,3.1327595710754395,4.000001907348633,null,-1.035743025568081e-6,0.8709508776664734,null,0.8709508776664734,2.0,null,2.0,3.129049062728882,null,3.129049062728882,4.000000953674316,null,-1.1111690128018381e-6,-1.8885817780756042e-6,null,0.8596144318580627,0.862828254699707,null,2.0,2.0,null,3.140385627746582,3.137171745300293,null,4.000000953674316,4.000001907348633,null,-1.8885817780756042e-6,-1.7929822888618219e-6,null,0.862828254699707,0.8672405481338501,null,2.0,1.9999998807907104,null,3.137171745300293,3.1327595710754395,null,4.000001907348633,4.000001907348633,null,-1.7929822888618219e-6,-1.035743025568081e-6,null,0.8672405481338501,0.8709508776664734,null,1.9999998807907104,2.0,null,3.1327595710754395,3.129049062728882,null,4.000001907348633,4.000000953674316,null],"y":[-1.6862054508237634e-6,-0.9958187341690063,null,-0.9958187341690063,-1.4264932870864868,null,-1.4264932870864868,-0.9958188533782959,null,-0.9958188533782959,-1.6864648841874441e-6,null,-0.9999991059303284,-1.979323148727417,null,-1.979323148727417,-2.4042716026306152,null,-2.4042716026306152,-1.9793230295181274,null,-1.9793230295181274,-0.9999991059303284,null,-1.9999991655349731,-2.9573094844818115,null,-2.9573094844818115,-3.375394344329834,null,-3.375394344329834,-2.9573094844818115,null,-2.9573094844818115,-1.9999991655349731,null,-3.0000014305114746,-3.9397501945495605,null,-3.9397501945495605,-4.353356838226318,null,-4.353356838226318,-3.9397499561309814,null,-3.9397499561309814,-3.0000014305114746,null,-1.6862054508237634e-6,-0.9999991059303284,null,-0.9958187341690063,-1.979323148727417,null,-1.4264932870864868,-2.4042716026306152,null,-0.9958188533782959,-1.9793230295181274,null,-1.6864648841874441e-6,-0.9999991059303284,null,-0.9999991059303284,-1.9999991655349731,null,-1.979323148727417,-2.9573094844818115,null,-2.4042716026306152,-3.375394344329834,null,-1.9793230295181274,-2.9573094844818115,null,-0.9999991059303284,-1.9999991655349731,null,-1.9999991655349731,-3.0000014305114746,null,-2.9573094844818115,-3.9397501945495605,null,-3.375394344329834,-4.353356838226318,null,-2.9573094844818115,-3.9397499561309814,null,-1.9999991655349731,-3.0000014305114746,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[-1.1111690128018381e-6,4.000000953674316,-1.8885817780756042e-6,4.000001907348633,-1.7929822888618219e-6,4.000001907348633,-1.035743025568081e-6,4.000000953674316],"y":[-1.6862054508237634e-6,-1.6864648841874441e-6,-0.9999991059303284,-0.9999991059303284,-1.9999991655349731,-1.9999991655349731,-3.0000014305114746,-3.0000014305114746],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.8596144318580627,2.0,3.140385627746582,0.862828254699707,2.0,3.137171745300293,0.8672405481338501,1.9999998807907104,3.1327595710754395,0.8709508776664734,2.0,3.129049062728882],"y":[-0.9958187341690063,-1.4264932870864868,-0.9958188533782959,-1.979323148727417,-2.4042716026306152,-1.9793230295181274,-2.9573094844818115,-3.375394344329834,-2.9573094844818115,-3.9397501945495605,-4.353356838226318,-3.9397499561309814],"type":"scatter"}],"name":"18"},{"data":[{"hoverinfo":"skip","line":{"color":"gray","width":2},"mode":"lines","x":[1.2646667073568096e-6,0.8505452871322632,null,0.8505452871322632,1.999999761581421,null,1.999999761581421,3.1494555473327637,null,3.1494555473327637,3.9999988079071045,null,1.1369012327122618e-6,0.8548088073730469,null,0.8548088073730469,2.000000238418579,null,2.000000238418579,3.1451902389526367,null,3.1451902389526367,3.9999988079071045,null,1.0317253327229992e-6,0.859595775604248,null,0.859595775604248,1.999999761581421,null,1.999999761581421,3.1404051780700684,null,3.1404051780700684,3.9999990463256836,null,1.0306479225619114e-6,0.8629025220870972,null,0.8629025220870972,2.000000476837158,null,2.000000476837158,3.137096405029297,null,3.137096405029297,3.9999990463256836,null,1.2646667073568096e-6,1.1369012327122618e-6,null,0.8505452871322632,0.8548088073730469,null,1.999999761581421,2.000000238418579,null,3.1494555473327637,3.1451902389526367,null,3.9999988079071045,3.9999988079071045,null,1.1369012327122618e-6,1.0317253327229992e-6,null,0.8548088073730469,0.859595775604248,null,2.000000238418579,1.999999761581421,null,3.1451902389526367,3.1404051780700684,null,3.9999988079071045,3.9999990463256836,null,1.0317253327229992e-6,1.0306479225619114e-6,null,0.859595775604248,0.8629025220870972,null,1.999999761581421,2.000000476837158,null,3.1404051780700684,3.137096405029297,null,3.9999990463256836,3.9999990463256836,null],"y":[1.915069560709526e-6,-1.0436575412750244,null,-1.0436575412750244,-1.4903720617294312,null,-1.4903720617294312,-1.0436583757400513,null,-1.0436583757400513,1.9154526853526477e-6,null,-1.0000005960464478,-2.0239925384521484,null,-2.0239925384521484,-2.467446804046631,null,-2.467446804046631,-2.023991823196411,null,-2.023991823196411,-1.0000005960464478,null,-2.000000476837158,-2.9998865127563477,null,-2.9998865127563477,-3.4357707500457764,null,-3.4357707500457764,-2.999887466430664,null,-2.999887466430664,-2.000000476837158,null,-2.999998092651367,-3.9820141792297363,null,-3.9820141792297363,-4.410370826721191,null,-4.410370826721191,-3.98201322555542,null,-3.98201322555542,-2.999998092651367,null,1.915069560709526e-6,-1.0000005960464478,null,-1.0436575412750244,-2.0239925384521484,null,-1.4903720617294312,-2.467446804046631,null,-1.0436583757400513,-2.023991823196411,null,1.9154526853526477e-6,-1.0000005960464478,null,-1.0000005960464478,-2.000000476837158,null,-2.0239925384521484,-2.9998865127563477,null,-2.467446804046631,-3.4357707500457764,null,-2.023991823196411,-2.999887466430664,null,-1.0000005960464478,-2.000000476837158,null,-2.000000476837158,-2.999998092651367,null,-2.9998865127563477,-3.9820141792297363,null,-3.4357707500457764,-4.410370826721191,null,-2.999887466430664,-3.98201322555542,null,-2.000000476837158,-2.999998092651367,null],"type":"scatter"},{"marker":{"color":"crimson","size":12},"mode":"markers","x":[1.2646667073568096e-6,3.9999988079071045,1.1369012327122618e-6,3.9999988079071045,1.0317253327229992e-6,3.9999990463256836,1.0306479225619114e-6,3.9999990463256836],"y":[1.915069560709526e-6,1.9154526853526477e-6,-1.0000005960464478,-1.0000005960464478,-2.000000476837158,-2.000000476837158,-2.999998092651367,-2.999998092651367],"type":"scatter"},{"marker":{"color":"steelblue","size":10},"mode":"markers","x":[0.8505452871322632,1.999999761581421,3.1494555473327637,0.8548088073730469,2.000000238418579,3.1451902389526367,0.859595775604248,1.999999761581421,3.1404051780700684,0.8629025220870972,2.000000476837158,3.137096405029297],"y":[-1.0436575412750244,-1.4903720617294312,-1.0436583757400513,-2.0239925384521484,-2.467446804046631,-2.023991823196411,-2.9998865127563477,-3.4357707500457764,-2.999887466430664,-3.9820141792297363,-4.410370826721191,-3.98201322555542],"type":"scatter"}],"name":"19"}]);
                        })                };            </script>        </div></div></div>
</div>
<p>The animation shows how the spring network relaxes as gravity is progressively applied. Starting from the regular grid (0% gravity), the interior points sag downward until reaching the final equilibrium (100% gravity).</p>
<p>When to use each construction approach:</p>
<ul class="simple">
<li><p>Naive: Simpler code, good for prototyping and small problems</p></li>
<li><p>Batched: Faster problem analysis, essential for large-scale problems</p></li>
</ul>
<p>For more details, see <a class="reference internal" href="../../api/core.html#jaxls.Var" title="jaxls.Var"><code class="xref py py-class docutils literal notranslate"><span class="pre">jaxls.Var</span></code></a>, <a class="reference internal" href="../../api/core.html#jaxls.Cost" title="jaxls.Cost"><code class="xref py py-class docutils literal notranslate"><span class="pre">jaxls.Cost</span></code></a>, and <a class="reference internal" href="../../api/core.html#jaxls.LeastSquaresProblem" title="jaxls.LeastSquaresProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">jaxls.LeastSquaresProblem</span></code></a>.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="cloth_draping.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Cloth draping</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Mechanics</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/brentyi/jaxls" aria-label="GitHub">
            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
            </svg>
        </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Spring equilibrium</a><ul>
<li><a class="reference internal" href="#variables-and-costs">Variables and costs</a></li>
<li><a class="reference internal" href="#problem-setup">Problem setup</a></li>
<li><a class="reference internal" href="#approach-1-naive-construction">Approach 1: naive construction</a></li>
<li><a class="reference internal" href="#approach-2-batched-construction">Approach 2: batched construction</a></li>
<li><a class="reference internal" href="#solving">Solving</a></li>
<li><a class="reference internal" href="#visualization">Visualization</a></li>
<li><a class="reference internal" href="#relaxation-animation">Relaxation animation</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=fd10adb8"></script>
    </body>
</html>